(function(e){function t(t){for(var n,s,r=t[0],i=t[1],l=t[2],u=0,d=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&d.push(c[s][0]),c[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);f&&f(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,s=1;s<o.length;s++){var i=o[s];0!==c[i]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=o[0]))}return e}var n={},c={app:0},a=[];function s(e){return r.p+"assets/js/"+({about:"about"}[e]||e)+"."+{about:"1af3e231"}[e]+".js"}function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(e){var t=[],o=c[e];if(0!==o)if(o)t.push(o[2]);else{var n=new Promise((function(t,n){o=c[e]=[t,n]}));t.push(o[2]=n);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.src=s(e);var l=new Error;a=function(t){i.onerror=i.onload=null,clearTimeout(u);var o=c[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",l.name="ChunkLoadError",l.type=n,l.request=a,o[1](l)}c[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:i})}),12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var f=l;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"27d9":function(e,t,o){},"40d6":function(e,t,o){"use strict";o("d28a")},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("7a23"),c=o("130e"),a=o("bc3a"),s=o.n(a),r={class:"home"};function i(e,t,o,c,a,s){var i=Object(n["F"])("BookScroll");return Object(n["x"])(),Object(n["f"])("div",r,[Object(n["h"])(i)])}o("b0c0");var l={key:0,id:"BookScroll"},u=["href"],f=["href"],d=["H","W"],h={key:0};function b(e,t,o,c,a,s){var r=Object(n["F"])("Header"),i=Object(n["G"])("lazy");return this.book?(Object(n["x"])(),Object(n["f"])("div",l,[this.showHeader?(Object(n["x"])(),Object(n["d"])(r,{key:0},{default:Object(n["L"])((function(){return[Object(n["g"])("h2",null,[a.book.IsFolder?(Object(n["x"])(),Object(n["f"])("p",{key:0,href:"raw/"+a.book.name},Object(n["I"])(a.book.name),9,u)):Object(n["e"])("",!0),a.book.IsFolder?Object(n["e"])("",!0):(Object(n["x"])(),Object(n["f"])("a",{key:1,href:"raw/"+a.book.name},Object(n["I"])(a.book.name)+"【Download】",9,f))])]})),_:1})):Object(n["e"])("",!0),(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(a.book.pages,(function(e,t){return Object(n["x"])(),Object(n["f"])("div",{key:e.url,class:"manga"},[Object(n["M"])((Object(n["x"])(),Object(n["f"])("img",{H:e.height,W:e.width,key:t,class:Object(n["n"])(e.image_type)},null,10,d)),[[i,e.url]]),a.showPageNum?(Object(n["x"])(),Object(n["f"])("p",h,Object(n["I"])(t+1)+"/"+Object(n["I"])(a.book.all_page_num),1)):Object(n["e"])("",!0)])})),128)),Object(n["g"])("button",{onClick:t[0]||(t[0]=function(){return s.toTop&&s.toTop.apply(s,arguments)})},"回到顶部")])):Object(n["e"])("",!0)}var g={class:"header"};function m(e,t,o,c,a,s){return Object(n["x"])(),Object(n["f"])("header",g,[Object(n["E"])(e.$slots,"default",{},void 0,!0)])}var p={name:"Header",data:function(){return{mybook:this.book,selectedTemplate:""}},methods:{onChange:function(){"scroll"===this.selectedTemplate&&this.change_template_to_scroll(),"double"===this.selectedTemplate&&this.change_template_to_double(),"single"===this.selectedTemplate&&this.change_template_to_single(),"sketch"===this.selectedTemplate&&this.change_template_to_sketch(),location.reload()},change_template_to_scroll:function(){this.$cookies.set("nowTemplate","scroll"),this.$store.commit("change_template_to_scroll")},change_template_to_double:function(){this.$cookies.set("nowTemplate","double"),this.$store.commit("change_template_to_double")},change_template_to_single:function(){this.$cookies.set("nowTemplate","single"),this.$store.commit("change_template_to_single")},change_template_to_sketch:function(){this.$cookies.set("nowTemplate","sketch"),this.$store.commit("change_template_to_sketch")}}},_=(o("40d6"),o("6b0d")),j=o.n(_);const k=j()(p,[["render",m],["__scopeId","data-v-1b5dd7ca"]]);var O=k,v={components:{Header:O},data:function(){return{book:null,showHeader:!0,showPageNum:!1}},created:function(){var e=this;console.log("BookScroll created!"),this.axios.get("/book.json").then((function(t){200==t.status&&(e.book=t.data,console.log("response.status == 200"),console.log(e.book))})).catch(console.log("this.book"),(function(e){return alert(e)}))},methods:{toTop:function(){window.scrollTo(0,0)}}};o("9a0c");const w=j()(v,[["render",b],["__scopeId","data-v-66b80626"]]);var y=w,x={name:"Home",components:{BookScroll:y},setup:function(){},data:function(){return{}},computed:{nowTemplate:function(){var e=this.$cookies.get("nowTemplate");return console.log("computed 1:"+e),null!==e?e:this.$store.state.setting.template}},methods:{toTop:function(){},getNumber:function(e){this.page=e,console.log(e)}}};o("f5f6");const T=j()(x,[["render",i]]);var $=T,S=(o("d3b7"),o("3ca3"),o("ddb0"),o("6c02")),D={class:"home"},B=["href"],A=["href"];function P(e,t,o,c,a,s){var r=this,i=Object(n["F"])("Header");return Object(n["x"])(),Object(n["f"])("div",D,[this.showHeader?(Object(n["x"])(),Object(n["d"])(i,{key:0},{default:Object(n["L"])((function(){return[Object(n["g"])("h2",null,[r.$store.state.book.IsFolder?Object(n["e"])("",!0):(Object(n["x"])(),Object(n["f"])("a",{key:0,href:"raw/"+r.$store.state.book.name},Object(n["I"])(r.$store.state.book.name)+"【Download】",9,B)),r.$store.state.book.IsFolder?(Object(n["x"])(),Object(n["f"])("a",{key:1,href:"raw/"+r.$store.state.book.name},Object(n["I"])(r.$store.state.book.name),9,A)):Object(n["e"])("",!0)])]})),_:1})):Object(n["e"])("",!0)])}var H={name:"Home",components:{Header:O},setup:function(){Object(n["p"])((function(){console.log("Before Mount!")})),Object(n["u"])((function(){console.log("Mounted!")})),Object(n["r"])((function(){console.log("Before Update!")})),Object(n["w"])((function(){console.log("Updated!")})),Object(n["q"])((function(){console.log("Before Unmount!")})),Object(n["v"])((function(){console.log("Unmounted!")})),Object(n["o"])((function(){console.log("Activated!")})),Object(n["s"])((function(){console.log("Deactivated!")})),Object(n["t"])((function(){console.log("Error Captured!")}))},data:function(){return{book:null,showHeader:!0,bookshelf:{},setting:{template:"scroll",sketch_count_seconds:90},now_page:1,duration:300,offset:0,easing:"easeInOutCubic",message:{user_uuid:"",server_status:"",now_book_uuid:"",read_percent:0,msg:""}}},computed:{nowTemplate:function(){var e=this.$cookies.get("nowTemplate");return console.log("computed 1:"+e),null!==e?e:this.$store.state.setting.template}},methods:{initPage:function(){this.$store.dispatch("syncBookDataAction"),this.$store.dispatch("syncSettingDataAction"),this.$store.dispatch("syncBookShelfDataAction")},getNumber:function(e){this.page=e,console.log(e)},getNowTemplate:function(){var e=this.$cookies.get("nowTemplate");return console.log("computed 1:"+e),null!==e?e:(this.$cookies.set("nowTemplate",this.$store.state.setting.template),console.log("computed 2:"+this.$store.state.setting.template),this.$store.state.setting.template)}}};const I=j()(H,[["render",P]]);var M=I,F=[{path:"/",name:"Home",component:M},{path:"/about",name:"About",component:function(){return o.e("about").then(o.bind(null,"f820"))}}],R=Object(S["a"])({history:Object(S["b"])(""),routes:F}),C=R,N=o("1da1"),E=(o("4de4"),o("96cf"),o("5502")),L=Object(E["a"])({state:{count:0,todos:[{id:1,text:"...",done:!0},{id:2,text:"...",done:!1}],now_page:1,book:{name:"loading",page_num:1,pages:[{height:500,width:449,url:"/resources/favicon.ico",class:"Vertical"}]},bookshelf:{},setting:{template:"scroll",sketch_count_seconds:90},message:{user_uuid:"",server_status:"",now_book_uuid:"",read_percent:0,msg:""}},mutations:{change_template_to_scroll:function(e){e.setting.template="scroll",console.log("change_template_to_scroll:"+e.setting.template)},change_template_to_double:function(e){e.setting.template="double",console.log("change_template_to_double:"+e.setting.template)},change_template_to_single:function(e){e.setting.template="single",console.log("change_template_to_single:"+e.setting.template)},change_template_to_sketch:function(e){e.setting.template="sketch",console.log("change_template_to_sketch:"+e.setting.template)},increment:function(e){e.count++},syncSettingData:function(e,t){e.setting=t.message},syncBookData:function(e,t){e.book=t.message},syncBookShelfData:function(e,t){e.bookshelf=t.message}},actions:{incrementAction:function(e){e.commit("increment")},syncSettingDataAction:function(e){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function o(){var n,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.axios.get("/setting.json").then((function(e){return e.data}),(function(){return""}));case 2:n=o.sent,c={message:n},e.commit("syncSettingData",c),console.log("syncSettingData!");case 6:case"end":return o.stop()}}),o)})))()},syncBookDataAction:function(e){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function o(){var n,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.axios.get("/book.json").then((function(e){return e.data}),(function(){return""}));case 2:n=o.sent,c={message:n},e.commit("syncBookData",c),console.log("syncBookData!");case 6:case"end":return o.stop()}}),o)})))()},syncBookShelfDataAction:function(e){var t=this;return Object(N["a"])(regeneratorRuntime.mark((function o(){var n,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.axios.get("/bookshelf.json").then((function(e){return e.data}),(function(){return""}));case 2:n=o.sent,c={message:n},e.commit("syncBookShelfData",c),console.log("syncBookShelfData!");case 6:case"end":return o.stop()}}),o)})))()}},getters:{doneTodos:function(e){return e.todos.filter((function(e){return e.done}))},now_page:function(e){return e.now_page},book:function(e){return e.book},bookshelf:function(e){return e.bookshelf},setting:function(e){return e.setting},message:function(e){return e.message}},modules:{}}),U=o("df85"),q=o("2058"),J=Object(n["c"])($);s.a.defaults.baseURL="/api",J.use(c["a"],s.a),J.use(L),J.use(C),J.mount("#app"),J.use(U["a"],{expireTimes:"30d",path:"/",domain:"",secure:!0,sameSite:"None"}),J.use(q["a"],{loading:"loading.jpg",error:"error.jpg",observerOptions:{rootMargin:"500px",threshold:.1},lifecycle:{loaded:function(e){var t=new Image;t.src=e.src,t.complete?(e.setAttribute("w",t.width),e.setAttribute("h",t.height),t.width<t.height?e.setAttribute("class","SinglePage"):e.setAttribute("class","DoublePage")):t.onload=function(){t.onload=null,t.width<t.height?e.setAttribute("class","SinglePage"):e.setAttribute("class","DoublePage")},console.log("loaded",e)}}})},"7a6e":function(e,t,o){},"9a0c":function(e,t,o){"use strict";o("7a6e")},d28a:function(e,t,o){},f5f6:function(e,t,o){"use strict";o("27d9")}});
//# sourceMappingURL=app.321afbc2.js.map