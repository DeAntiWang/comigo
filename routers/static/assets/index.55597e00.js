var ce=Object.defineProperty;var q=Object.getOwnPropertySymbols;var me=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable;var J=(e,t,o)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,W=(e,t)=>{for(var o in t||(t={}))me.call(t,o)&&J(e,o,t[o]);if(q)for(var o of q(t))pe.call(t,o)&&J(e,o,t[o]);return e};import{d as I,N as _e,a as fe,u as y,b as Pe,l as we,r as h,o as c,c as P,w as a,e as b,f as i,g as L,h as R,i as ke,B as Fe,R as Se,j as v,k as ie,m as p,t as r,n as be,p as ve,q as z,s as X,v as Me,x as $e,y as d,z as Ne,A as le,C as re,D as ne,S as O,E as A,F as N,G as j,H as Ie,I as x,J as ge,K as ye,L as De,M as Ce,O as de,P as Te,Q as U,T as He,U as We,V as Ae,W as Le,X as Re,Y as ze,Z as Be,_ as Ue,$ as Xe,a0 as Oe,a1 as je}from"./vendor.ecf16912.js";const xe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const g of n.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&s(g)}).observe(document,{childList:!0,subtree:!0});function o(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerpolicy&&(n.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?n.credentials="include":l.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(l){if(l.ep)return;l.ep=!0;const n=o(l);fetch(l.href,n)}};xe();var D=(e,t)=>{const o=e.__vccOpts||e;for(const[s,l]of t)o[s]=l;return o};const Ee=I({name:"Home",components:{NMessageProvider:_e,NConfigProvider:fe},setup(){const{cookies:e}=y();return{cookies:e,darkTheme:Pe,lightTheme:we}},data(){return{selectTemplate:"",isAuthenticated:!1}},created(){this.$store.dispatch("syncSettingDataAction"),this.$store.dispatch("syncBookShelfDataAction"),this.selectTemplate=this.getDefaultTemplate},beforeMount(){},methods:{goToDashboard(){this.isAuthenticated?this.$router.push("/dashboard"):this.$router.push("/login")},OnSetTemplate(e){localStorage.setItem("nowTemplate",e),this.selectTemplate=e},getNumber:function(e){this.page=e,console.log(e)}},computed:{username(){return this.$route.params.username},book(){return this.$store.state.book},setting(){return this.$store.state.setting},getDefaultTemplate:function(){var e=localStorage.getItem("nowTemplate");return e!==null?e:"scroll"}}}),Ye={class:"app"};function Ve(e,t,o,s,l,n){const g=h("router-view"),_=h("n-message-provider"),f=h("n-config-provider");return c(),P(f,{theme:e.lightTheme},{default:a(()=>[b("div",Ye,[i(_,null,{default:a(()=>[i(g)]),_:1})])]),_:1},8,["theme"])}var Ge=D(Ee,[["render",Ve]]);const Ke="modulepreload",Q={},qe="/",Je=function(t,o){return!o||o.length===0?t():Promise.all(o.map(s=>{if(s=`${qe}${s}`,s in Q)return;Q[s]=!0;const l=s.endsWith(".css"),n=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${n}`))return;const g=document.createElement("link");if(g.rel=l?"stylesheet":Ke,l||(g.as="script",g.crossOrigin=""),g.href=s,document.head.appendChild(g),l)return new Promise((_,f)=>{g.addEventListener("load",_),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};const Qe=I({name:"Header",props:["bookIsFolder","bookName","showReturnIcon"],components:{NSpace:L,NIcon:R,NEllipsis:ke,BookOutline:Fe,ReturnUpBack:Se},setup(){const{cookies:e}=y();return{cookies:e}},data(){return{someflag:""}},methods:{onBackTop(){this.$router.push("/")}}}),Ze={class:"header"},et=["href"],tt=["href"];function ot(e,t,o,s,l,n){const g=h("book-outline"),_=h("return-up-back"),f=h("n-icon"),w=h("n-ellipsis"),M=h("n-space");return c(),v("header",Ze,[i(f,{size:"40",onClick:t[0]||(t[0]=F=>e.onBackTop())},{default:a(()=>[e.showReturnIcon?p("",!0):(c(),P(g,{key:0})),e.showReturnIcon?(c(),P(_,{key:1})):p("",!0)]),_:1}),i(M,null,{default:a(()=>[i(w,{style:{"max-width":"60vw"}},{default:a(()=>[e.bookIsFolder?(c(),v("h2",{key:0,href:"raw/"+e.bookName},r(e.bookName),9,et)):p("",!0),b("h2",null,[this.bookIsFolder?p("",!0):(c(),v("a",{key:0,href:"raw/"+e.bookName},r(e.bookName),9,tt))])]),_:1})]),_:1}),ie(e.$slots,"default",{},void 0,!0)])}var E=D(Qe,[["render",ot],["__scopeId","data-v-aa2099e2"]]);const at=I({name:"Drawer",props:["book","initDrawerActive","initDrawerPlacement","ReaderMode","sketching"],emits:["setRM","saveConfig","startSketch","stopSketch","closeDrawer"],components:{NDrawer:be,NDrawerContent:ve,NSpace:L,NDivider:z,NButton:X,NSelect:Me,NPopconfirm:$e},setup(){const{cookies:e}=y();return{handlePositiveClick(){localStorage.clear(),location.reload()},handleNegativeClick(){},cookies:e,languageOptions:[{label:"English",value:"en"},{label:"\u65E5\u672C\u8A9E",value:"ja"},{label:"\u4E2D\u6587",value:"zh"}]}},data(){return{someflag:"",readModeLocal:""}},beforeMount(){var e=this.cookies.get("userLanguageSetting");e&&(this.$i18n.locale=e),this.readModeLocal=this.readMode},computed:{drawerActive(){return this.initDrawerActive},drawerPlacement(){return this.initDrawerPlacement}},methods:{OnChangeLanguage(e){this.cookies.set("userLanguageSetting",e)},saveConfigToCookie(e){e==!1&&(this.$emit("closeDrawer"),this.$emit("saveConfig"))},startSketchMode(){this.$emit("startSketch")},stopSketchMode(){this.$emit("stopSketch")},onChangeTemplate(){this.readModeLocal==="scroll"&&this.$emit("setRM","scroll"),this.readModeLocal==="flip"&&this.$emit("setRM","flip"),this.readModeLocal==="sketch"&&this.$emit("setRM","sketch")}}}),st=d("\u5207\u6362\u4E3A\u7FFB\u9875\u9605\u8BFB"),it=d("\u5207\u6362\u4E3A\u6EDA\u52A8\u9605\u8BFB");function lt(e,t,o,s,l,n){const g=h("n-button"),_=h("n-space"),f=h("n-divider"),w=h("n-popconfirm"),M=h("n-select"),F=h("n-drawer-content"),k=h("n-drawer");return c(),P(k,{show:e.drawerActive,"onUpdate:show":e.saveConfigToCookie,height:275,width:251,placement:e.drawerPlacement},{default:a(()=>[i(F,{closable:""},{header:a(()=>[b("span",null,r(e.$t("ReaderSettings")),1)]),footer:a(()=>[i(M,{placeholder:"select language",value:this.$i18n.locale,"onUpdate:value":[t[0]||(t[0]=S=>this.$i18n.locale=S),e.OnChangeLanguage],options:this.languageOptions},null,8,["value","options","onUpdate:value"]),this.sketching==!1?(c(),P(g,{key:0,onClick:e.startSketchMode},{default:a(()=>[d(r(e.$t("startSketchMode")),1)]),_:1},8,["onClick"])):p("",!0),this.sketching==!0?(c(),P(g,{key:1,onClick:e.stopSketchMode},{default:a(()=>[d(r(e.$t("stopSketchMode")),1)]),_:1},8,["onClick"])):p("",!0)]),default:a(()=>[i(_,null,{default:a(()=>[i(g,{onClick:e.toFlipMode},{default:a(()=>[st]),_:1},8,["onClick"]),i(g,{onClick:e.toScrollMode},{default:a(()=>[it]),_:1},8,["onClick"])]),_:1}),i(f),ie(e.$slots,"default"),i(f),i(w,{onPositiveClick:e.handlePositiveClick,onNegativeClick:e.handleNegativeClick},{trigger:a(()=>[i(g,null,{default:a(()=>[d(r(e.$t("reset_all_settings")),1)]),_:1})]),default:a(()=>[d(" "+r(e.$t("do_you_reset_all_settings")),1)]),_:1},8,["onPositiveClick","onNegativeClick"])]),_:3})]),_:3},8,["show","onUpdate:show","placement"])}var Y=D(at,[["render",lt]]);const V=I({name:"ScrollMode",props:["nowTemplate"],emits:["setTemplate"],components:{Header:E,Drawer:Y,NButton:X,NBackTop:Ne,NSpace:L,NSlider:le,NSwitch:re,NIcon:R,NInputNumber:ne,SettingsOutline:O,NDivider:z},setup(){const{cookies:e}=y(),t=A({color:"#f6f7eb",colorHeader:"#d1c9c1"}),o=A({resize_width:-1,resize_height:-1,do_auto_resize:!1,resize_max_width:800,resize_max_height:-1,do_auto_crop:!1,auto_crop:1,gray:!1});return{cookies:e,model:t,imageParameters:o,imageParametersString:s=>{if(s.substr(0,12)=="api/getfile?"){var l=document.location.toString(),n=l.split("/"),g=n[0]+"//"+n[2]+"/"+s,_=o.resize_width>0?"&resize_width="+o.resize_width:"",f=o.resize_height>0?"&resize_height="+o.resize_height:"",w=o.gray?"&gray=true":"",M=o.do_auto_resize?"&resize_max_width="+o.resize_max_width:"",F=o.resize_max_height>0?"&resize_max_height="+o.resize_max_height:"",k=o.do_auto_crop?"&auto_crop="+o.auto_crop:"",S=g+_+f+M+F+k+w;return S}else return s},railStyle:({focused:s,checked:l})=>{const n={};return l?(n.background="#d03050",s&&(n.boxShadow="0 0 0 2px #d0305040")):(n.background="#2080f0",s&&(n.boxShadow="0 0 0 2px #2080f040")),n},marks:{30:"25%",50:"50%",75:"75%",95:"95%"}}},data(){return{book:{name:"loading",all_page_num:2,pages:[{height:500,width:449,url:"/images/loading.jpg"},{height:500,width:449,url:"/images/loading.jpg"}]},drawerActive:!1,drawerPlacement:"right",debugModeFlag:!0,showHeaderFlag:!0,showPageNumFlag_ScrollMode:!1,showBackTopFlag:!1,scrollDownFlag:!1,scrollTopSave:0,syncScrollFlag:!1,clickX:0,clickY:0,isLandscapeMode:!0,isPortraitMode:!1,imageMaxWidth:10,aspectRatio:1.2,imageWidth_usePercentFlag:!0,singlePageWidth_Percent:50,doublePageWidth_Percent:95,singlePageWidth_PX:720,doublePageWidth_PX:1080,clientWidth:0,clientHeight:0}},created(){if(N.get("/getbook?id="+this.$route.params.id).then(e=>this.book=e.data).finally(()=>{document.title=this.book.name,console.log("\u6210\u529F\u83B7\u53D6\u4E66\u7C4D\u6570\u636E,\u4E66\u7C4DID\uFF1A"+this.$route.params.id)}),this.$watch(()=>this.$route.params.id,e=>{e&&N.get("/getbook?id="+this.$route.params.id).then(t=>this.book=t.data).finally(console.log("\u8DEF\u7531\u53C2\u6570\u6539\u53D8,\u4E66\u7C4DID\uFF1A"+e))}),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),this.imageMaxWidth=window.innerWidth,localStorage.getItem("showHeaderFlag")==="true"?this.showHeaderFlag=!0:localStorage.getItem("showHeaderFlag")==="false"&&(this.showHeaderFlag=!1),localStorage.getItem("showPageNumFlag_ScrollMode")==="true"?this.showPageNumFlag_ScrollMode=!0:localStorage.getItem("showPageNumFlag_ScrollMode")==="false"&&(this.showPageNumFlag_ScrollMode=!1),localStorage.getItem("ImageParameters_Gray")==="true"?this.imageParameters.gray=!0:localStorage.getItem("ImageParameters_Gray")==="false"&&(this.imageParameters.gray=!1),localStorage.getItem("ImageParameters_DoAutoResize")==="true"?this.imageParameters.do_auto_resize=!0:localStorage.getItem("ImageParameters_DoAutoResize")==="false"&&(this.imageParameters.do_auto_resize=!1),localStorage.getItem("ImageParametersResizeMaxWidth")!=null){let e=Number(localStorage.getItem("ImageParametersResizeMaxWidth"));isNaN(e)||(this.imageParameters.resize_max_width=e)}if(localStorage.getItem("ImageParameters_DoAutoCrop")==="true"?this.imageParameters.do_auto_crop=!0:localStorage.getItem("ImageParameters_DoAutoCrop")==="false"&&(this.imageParameters.do_auto_crop=!1),localStorage.getItem("ImageParameters_DoAutoCrop")!=null){let e=Number(localStorage.getItem("ImageParameters_DoAutoCrop"));isNaN(e)||(this.imageParameters.auto_crop=e)}if(localStorage.getItem("imageWidth_usePercentFlag")==="true"?this.imageWidth_usePercentFlag=!0:localStorage.getItem("imageWidth_usePercentFlag")==="false"&&(this.imageWidth_usePercentFlag=!1),localStorage.getItem("singlePageWidth_Percent")!=null){let e=Number(localStorage.getItem("singlePageWidth_Percent"));isNaN(e)||(this.singlePageWidth_Percent=e)}if(localStorage.getItem("doublePageWidth_Percent")!=null){let e=Number(localStorage.getItem("doublePageWidth_Percent"));isNaN(e)||(this.doublePageWidth_Percent=e)}if(localStorage.getItem("singlePageWidth_PX")!=null){let e=Number(localStorage.getItem("singlePageWidth_PX"));isNaN(e)||(this.singlePageWidth_PX=e)}if(localStorage.getItem("doublePageWidth_PX")!=null){let e=Number(localStorage.getItem("doublePageWidth_PX"));isNaN(e)||(this.doublePageWidth_PX=e)}localStorage.getItem("ScrollModeDefaultColor")!=null&&(this.model.color=localStorage.getItem("ScrollModeDefaultColor"),this.onBackgroundColorChange(this.model.color))},beforeMount(){},onMounted(){this.isLandscapeMode=this.inLandscapeModeCheck(),this.isPortraitMode=!this.inLandscapeModeCheck(),this.$nextTick(function(){})},beforeUnmount(){window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize)},methods:{drawerActivate(e){this.drawerActive=!0,this.drawerPlacement=e},drawerDeactivate(){this.drawerActive=!1},startSketchMode(){this.$emit("setTemplate","sketch")},OnSetTemplate(e){this.$emit("setTemplate",e)},onBackgroundColorChange(e){let t=Number("0x"+e.substr(1,2)),o=Number("0x"+e.substr(3,2)),s=Number("0x"+e.substr(5,2)),l=40,n=30,g=42,_=t<255-l?t-l:t+parseInt((255-t)/2),f=o<255-n?o-n:o+parseInt((255-o)/2),w=s<255-g?s-g:s+parseInt((255-s)/2);t<50&&(_=t+3*l),o<50&&(f=o+3*n),s<50&&(w=s+3*g),this.model.colorHeader="#"+_.toString(16)+f.toString(16)+w.toString(16)},saveConfigToLocalStorage(){localStorage.setItem("showHeaderFlag",this.showHeaderFlag),localStorage.setItem("showPageNumFlag_ScrollMode",this.showPageNumFlag_ScrollMode),localStorage.setItem("imageWidth_usePercentFlag",this.imageWidth_usePercentFlag),localStorage.setItem("singlePageWidth_Percent",this.singlePageWidth_Percent),localStorage.setItem("doublePageWidth_Percent",this.doublePageWidth_Percent),localStorage.setItem("singlePageWidth_PX",this.singlePageWidth_PX),localStorage.setItem("doublePageWidth_PX",this.doublePageWidth_PX),localStorage.setItem("ScrollModeDefaultColor",this.model.color),localStorage.setItem("ImageParameters_DoAutoCrop",this.imageParameters.auto_crop),localStorage.setItem("ImageParametersResizeMaxWidth",this.imageParameters.resize_max_width)},setShowHeaderChange(e){this.showHeaderFlag=e,localStorage.setItem("showHeaderFlag",e),console.log("\u6210\u529F\u4FDD\u5B58\u8BBE\u7F6E: showHeaderFlag="+localStorage.getItem("showHeaderFlag"))},setShowPageNumChange(e){this.showPageNumFlag_ScrollMode=e,localStorage.setItem("showPageNumFlag_ScrollMode",e),console.log("\u6210\u529F\u4FDD\u5B58\u8BBE\u7F6E: showPageNumFlag_ScrollMode="+localStorage.getItem("showPageNumFlag_ScrollMode"))},setImageParameters_Gray(e){this.imageParameters.gray=e,localStorage.setItem("ImageParameters_Gray",e),console.log("\u6210\u529F\u4FDD\u5B58\u8BBE\u7F6E: ImageParameters_Gray="+localStorage.getItem("ImageParameters_Gray"))},setImageParameters_DoAutoResize(e){this.imageParameters.do_auto_resize=e,localStorage.setItem("ImageParameters_DoAutoResize",e),console.log("\u6210\u529F\u4FDD\u5B58\u8BBE\u7F6E: ImageParameters_DoAutoResize="+localStorage.getItem("ImageParameters_DoAutoResize"))},setImageParameters_DoAutoCrop(e){this.imageParameters.do_auto_crop=e,localStorage.setItem("ImageParameters_DoAutoCrop",this.imageParameters.do_auto_crop),console.log("\u6210\u529F\u4FDD\u5B58\u8BBE\u7F6E: ImageParameters_DoAutoCrop="+localStorage.getItem("ImageParameters_DoAutoCrop"))},setImageWidthUsePercentFlag(e){console.log("value:"+e),this.imageWidth_usePercentFlag=e,localStorage.setItem("imageWidth_usePercentFlag",e),console.log("\u6210\u529F\u4FDD\u5B58\u8BBE\u7F6E: imageWidth_usePercentFlag="+this.imageWidth_usePercentFlag)},onResize(){this.imageMaxWidth=window.innerWidth,this.clientWidth=document.documentElement.clientWidth,this.clientHeight=document.documentElement.clientHeight,this.aspectRatio=this.clientWidth/this.clientHeight,this.aspectRatio>19/19?(this.isLandscapeMode=!0,this.isPortraitMode=!1):(this.isLandscapeMode=!1,this.isPortraitMode=!0)},onScroll(){let e=document.documentElement.scrollTop||document.body.scrollTop;this.scrollDownFlag=e>this.scrollTopSave;let t=this.scrollTopSave-e;this.scrollTopSave=e,t<-5&&t>5&&(this.showBackTopFlag=e>400&&!this.scrollDownFlag)},onMouseClick(e){this.clickX=e.x,this.clickY=e.y;let t=window.innerWidth,o=window.innerHeight,s=t*.4,l=t*.6,n=o*.4,g=o*.6;this.clickX>s&&this.clickX<l&&this.clickY>n&&this.clickY<g&&this.drawerActivate("right")},onMouseMove(e){this.clickX=e.x,this.clickY=e.y;let t=window.innerWidth,o=window.innerHeight,s=t*.4,l=t*.6,n=o*.4,g=o*.6;this.clickX>s&&this.clickX<l&&this.clickY>n&&this.clickY<g?e.currentTarget.style.cursor="url(/images/SettingsOutline.png), pointer":e.currentTarget.style.cursor=""},onMouseLeave(e){e.currentTarget.style.cursor=""},scrollToTop(e){let t=-window.scrollY/(e/15),o=setInterval(function(){window.scrollY!==0?window.scrollBy(0,t):clearInterval(o)},15)},inLandscapeModeCheck(){return this.aspectRatio=window.innerWidth/window.innerHeight,this.aspectRatio>19/19}},computed:{sPWL(){return this.imageWidth_usePercentFlag?this.singlePageWidth_Percent+"%":this.singlePageWidth_PX+"px"},dPWL(){return this.imageWidth_usePercentFlag?this.doublePageWidth_Percent+"%":this.doublePageWidth_PX+"px"},sPWP(){return this.imageWidth_usePercentFlag?this.singlePageWidth_Percent+"%":this.singlePageWidth_PX+"px"},dPWP(){return this.imageWidth_usePercentFlag?this.doublePageWidth_Percent+"%":this.doublePageWidth_PX+"px"}}}),Z=()=>{j(e=>({"9a2e804a":e.model.color,"6cabfe48":e.model.colorHeader,"37b754f5":e.sPWL,"37b08364":e.dPWL,"37b754f9":e.sPWP,"37b08368":e.dPWP}))},ee=V.setup;V.setup=ee?(e,t)=>(Z(),ee(e,t)):Z;const rt=V,he=e=>(ye("data-v-944e4016"),e=e(),De(),e),nt={id:"ScrollMode",class:"manga"},gt=["alt"],dt={key:0,class:"page_hint"},ht=d("%"),ut=d("%"),ct=d("px"),mt=d("px"),pt=he(()=>b("p",null,null,-1)),_t=he(()=>b("p",null,null,-1)),ft=d("px");function Pt(e,t,o,s,l,n){const g=h("settings-outline"),_=h("n-icon"),f=h("Header"),w=h("n-input-number"),M=h("n-slider"),F=h("n-space"),k=h("n-switch"),S=h("n-divider"),T=h("Drawer"),$=h("n-back-top"),m=h("n-button"),ue=Ie("lazy");return c(),v("div",nt,[this.showHeaderFlag?(c(),P(f,{key:0,class:"footer",bookIsFolder:e.book.IsFolder,bookName:e.book.name,showReturnIcon:!0},{default:a(()=>[i(_,{size:"40",onClick:t[0]||(t[0]=u=>e.drawerActivate("right"))},{default:a(()=>[i(g)]),_:1})]),_:1},8,["bookIsFolder","bookName"])):p("",!0),e.book?(c(!0),v(x,{key:1},ge(e.book.pages,(u,B)=>(c(),v("div",{class:"main_manga",key:u.url,onClick:t[1]||(t[1]=H=>e.onMouseClick(H)),onMousemove:t[2]||(t[2]=(...H)=>e.onMouseMove&&e.onMouseMove(...H)),onMouseleave:t[3]||(t[3]=(...H)=>e.onMouseLeave&&e.onMouseLeave(...H))},[Ce((c(),v("img",{alt:B+1,key:B},null,8,gt)),[[ue,this.imageParametersString(u.url)]]),e.showPageNumFlag_ScrollMode?(c(),v("div",dt,r(B+1)+"/"+r(e.book.all_page_num),1)):p("",!0)],32))),128)):p("",!0),i(T,{initDrawerActive:this.drawerActive,initDrawerPlacement:this.drawerPlacement,onSaveConfig:this.saveConfigToLocalStorage,onStartSketch:this.startSketchMode,onCloseDrawer:this.drawerDeactivate,onSetT:this.OnSetTemplate,nowTemplate:this.nowTemplate},{default:a(()=>[i(F,{vertical:""},{default:a(()=>[this.imageWidth_usePercentFlag?(c(),P(w,{key:0,size:"small","show-button":!1,value:this.singlePageWidth_Percent,"onUpdate:value":t[4]||(t[4]=u=>this.singlePageWidth_Percent=u),max:100,min:10,"update-value-on-input":!1},{prefix:a(()=>[d(r(e.$t("singlePageWidth")),1)]),suffix:a(()=>[ht]),_:1},8,["value"])):p("",!0),this.imageWidth_usePercentFlag?(c(),P(M,{key:1,value:this.singlePageWidth_Percent,"onUpdate:value":t[5]||(t[5]=u=>this.singlePageWidth_Percent=u),step:1,max:100,min:10,"format-tooltip":u=>`${u}%`},null,8,["value","format-tooltip"])):p("",!0),this.imageWidth_usePercentFlag?(c(),P(w,{key:2,size:"small","show-button":!1,value:this.doublePageWidth_Percent,"onUpdate:value":t[6]||(t[6]=u=>this.doublePageWidth_Percent=u),max:100,min:10,"update-value-on-input":!1},{prefix:a(()=>[d(r(e.$t("doublePageWidth")),1)]),suffix:a(()=>[ut]),_:1},8,["value"])):p("",!0),this.imageWidth_usePercentFlag?(c(),P(M,{key:3,value:this.doublePageWidth_Percent,"onUpdate:value":t[7]||(t[7]=u=>this.doublePageWidth_Percent=u),step:1,max:100,min:10,"format-tooltip":u=>`${u}%`},null,8,["value","format-tooltip"])):p("",!0),this.imageWidth_usePercentFlag?p("",!0):(c(),P(w,{key:4,size:"small","show-button":!1,value:this.singlePageWidth_PX,"onUpdate:value":t[8]||(t[8]=u=>this.singlePageWidth_PX=u),min:50,"update-value-on-input":!1},{prefix:a(()=>[d(r(e.$t("singlePageWidth")),1)]),suffix:a(()=>[ct]),_:1},8,["value"])),this.imageWidth_usePercentFlag?p("",!0):(c(),P(M,{key:5,value:this.singlePageWidth_PX,"onUpdate:value":t[9]||(t[9]=u=>this.singlePageWidth_PX=u),step:10,max:1600,min:50,"format-tooltip":u=>`${u}px`},null,8,["value","format-tooltip"])),this.imageWidth_usePercentFlag?p("",!0):(c(),P(w,{key:6,size:"small","show-button":!1,value:this.doublePageWidth_PX,"onUpdate:value":t[10]||(t[10]=u=>this.doublePageWidth_PX=u),min:50,"update-value-on-input":!1},{prefix:a(()=>[d(r(e.$t("doublePageWidth")),1)]),suffix:a(()=>[mt]),_:1},8,["value"])),this.imageWidth_usePercentFlag?p("",!0):(c(),P(M,{key:7,value:this.doublePageWidth_PX,"onUpdate:value":t[11]||(t[11]=u=>this.doublePageWidth_PX=u),step:10,max:1600,min:50,"format-tooltip":u=>`${u}px`},null,8,["value","format-tooltip"]))]),_:1}),pt,i(F,null,{default:a(()=>[i(k,{size:"large",value:this.imageWidth_usePercentFlag,"onUpdate:value":[t[12]||(t[12]=u=>this.imageWidth_usePercentFlag=u),this.setImageWidthUsePercentFlag],"rail-style":e.railStyle},{checked:a(()=>[d(r(e.$t("width_usePercent")),1)]),unchecked:a(()=>[d(r(e.$t("width_useFixedValue")),1)]),_:1},8,["value","rail-style","onUpdate:value"])]),_:1}),i(S),i(F,null,{default:a(()=>[i(k,{size:"large",value:this.showHeaderFlag,"onUpdate:value":[t[13]||(t[13]=u=>this.showHeaderFlag=u),e.setShowHeaderChange]},{checked:a(()=>[d(r(e.$t("showHeader")),1)]),unchecked:a(()=>[d(r(e.$t("showHeader")),1)]),_:1},8,["value","onUpdate:value"]),_t]),_:1}),i(F,null,{default:a(()=>[i(k,{size:"large",value:this.showPageNumFlag_ScrollMode,"onUpdate:value":[t[14]||(t[14]=u=>this.showPageNumFlag_ScrollMode=u),e.setShowPageNumChange]},{checked:a(()=>[d(r(e.$t("showPageNum")),1)]),unchecked:a(()=>[d(r(e.$t("showPageNum")),1)]),_:1},8,["value","onUpdate:value"])]),_:1}),i(F,null,{default:a(()=>[i(k,{size:"large",value:this.imageParameters.gray,"onUpdate:value":[t[15]||(t[15]=u=>this.imageParameters.gray=u),e.setImageParameters_Gray]},{checked:a(()=>[d(r(e.$t("gray_image")),1)]),unchecked:a(()=>[d(r(e.$t("gray_image")),1)]),_:1},8,["value","onUpdate:value"])]),_:1}),i(S),i(F,null,{default:a(()=>[i(k,{size:"large",value:this.imageParameters.do_auto_crop,"onUpdate:value":[t[16]||(t[16]=u=>this.imageParameters.do_auto_crop=u),e.setImageParameters_DoAutoCrop]},{checked:a(()=>[d(r(e.$t("auto_crop")),1)]),unchecked:a(()=>[d(r(e.$t("auto_crop")),1)]),_:1},8,["value","onUpdate:value"]),this.imageParameters.do_auto_crop?(c(),P(w,{key:0,"show-button":!1,value:this.imageParameters.auto_crop,"onUpdate:value":t[17]||(t[17]=u=>this.imageParameters.auto_crop=u),max:10,min:0},{prefix:a(()=>[d(r(e.$t("energy_threshold")),1)]),_:1},8,["value"])):p("",!0)]),_:1}),i(F,null,{default:a(()=>[i(k,{size:"large","rail-style":e.railStyle,value:this.imageParameters.do_auto_resize,"onUpdate:value":[t[18]||(t[18]=u=>this.imageParameters.do_auto_resize=u),e.setImageParameters_DoAutoResize]},{checked:a(()=>[d(r(e.$t("image_width_limit")),1)]),unchecked:a(()=>[d(r(e.$t("raw_resolution")),1)]),_:1},8,["rail-style","value","onUpdate:value"]),this.imageParameters.do_auto_resize?(c(),P(w,{key:0,size:"small","show-button":!1,value:this.imageParameters.resize_max_width,"onUpdate:value":t[19]||(t[19]=u=>this.imageParameters.resize_max_width=u),min:100},{prefix:a(()=>[d(r(e.$t("max_width")),1)]),suffix:a(()=>[ft]),_:1},8,["value"])):p("",!0)]),_:1})]),_:1},8,["initDrawerActive","initDrawerPlacement","onSaveConfig","onStartSketch","onCloseDrawer","onSetT","nowTemplate"]),i($,{show:e.showBackTopFlag,type:"info",color:"#8a2be2",right:20,bottom:20},null,8,["show"]),i(m,{onClick:t[20]||(t[20]=u=>{e.scrollToTop(90)}),size:"large",secondary:"",strong:""},{default:a(()=>[d(r(e.$t("back-to-top")),1)]),_:1})])}var wt=D(rt,[["render",Pt],["__scopeId","data-v-944e4016"]]);const G=I({name:"FlipMode",props:[],emits:["childMark"],components:{Header:E,Drawer:Y,NSpace:L,NSlider:le,NSwitch:re,NIcon:R,SettingsOutline:O,NColorPicker:de,NDivider:z,NInputNumber:ne},setup(){const{cookies:e}=y(),t=A({color:"#f6f7eb",colorHeader:"#d1c9c1"});return{message:Te(),model:t,cookies:e,railStyle:({focused:s,checked:l})=>{const n={};return l?(n.background="#18a058",s&&(n.boxShadow="0 0 0 2px #d0305040")):(n.background="#2080f0",s&&(n.boxShadow="0 0 0 2px #2080f040")),n},marks:{30:"30",60:"60",90:"90",120:"120"}}},data(){return{book:{name:"loading",id:"abcde",all_page_num:2,pages:[{height:500,width:449,url:"/images/loading.jpg"},{height:500,width:449,url:"/images/loading.jpg"}]},drawerActive:!1,drawerPlacement:"right",debugModeFlag:!0,showHeaderFlag_FlipMode:!0,showFooterFlag_FlipMode:!0,rightToLeftFlag:!1,simpleDoublePageModeFlag:!1,autoDoublePageModeFlag:!1,saveNowPageNumFlag_FlipMode:!0,nowPageNum:1,sketchModeFlag:!1,showPageHintFlag_FlipMode:!1,sketchFlipSecond:30,sketchSecondCount:0,interval:null,nowPageIsDouble:!1,nextPageIsDouble:!1,nowAndNextPageIsSingleFlag:!0}},created(){if(N.get("/getbook?id="+this.$route.params.id).then(e=>this.book=e.data).finally(console.log("\u6210\u529F\u83B7\u53D6\u4E66\u7C4D\u6570\u636E,\u4E66\u7C4DID\uFF1A"+this.$route.params.id)),this.$watch(()=>this.$route.params.id,e=>{N.get("/getbook?id="+this.$route.params.id).then(t=>this.book=t.data).finally(console.log("\u8DEF\u7531\u53C2\u6570\u6539\u53D8,\u4E66\u7C4DID\uFF1A"+e))}),localStorage.getItem("debugModeFlag")=="true"?this.debugModeFlag=!0:localStorage.getItem("debugModeFlag")=="false"&&(this.debugModeFlag=!1),localStorage.getItem("showHeaderFlag_FlipMode")=="true"?this.showHeaderFlag_FlipMode=!0:localStorage.getItem("showHeaderFlag_FlipMode")=="false"&&(this.showHeaderFlag_FlipMode=!1),localStorage.getItem("showFooterFlag_FlipMode_FlipMode")=="true"?this.showFooterFlag_FlipMode=!0:localStorage.getItem("showFooterFlag_FlipMode_FlipMode")=="false"&&(this.showFooterFlag_FlipMode=!1),localStorage.getItem("showPageHintFlag_FlipMode")=="true"?this.showPageHintFlag_FlipMode=!0:localStorage.getItem("showPageHintFlag_FlipMode")=="false"&&(this.showPageHintFlag_FlipMode=!1),localStorage.getItem("rightToLeftFlag")=="true"?this.rightToLeftFlag=!0:localStorage.getItem("rightToLeftFlag")=="false"&&(this.rightToLeftFlag=!1),localStorage.getItem("simpleDoublePageModeFlag")=="true"?this.simpleDoublePageModeFlag=!0:localStorage.getItem("simpleDoublePageModeFlag")=="false"&&(this.simpleDoublePageModeFlag=!1),localStorage.getItem("autoDoublePageModeFlag")=="true"?this.autoDoublePageModeFlag=!0:localStorage.getItem("autoDoublePageModeFlag")=="false"&&(this.autoDoublePageModeFlag=!1),localStorage.getItem("saveNowPageNumFlag_FlipMode")=="true"?this.saveNowPageNumFlag_FlipMode=!0:localStorage.getItem("saveNowPageNumFlag_FlipMode")=="false"&&(this.saveNowPageNumFlag_FlipMode=!1),localStorage.getItem("FlipModeDefaultColor")!=null&&(this.model.color=localStorage.getItem("FlipModeDefaultColor"),this.onBackgroundColorChange(this.model.color)),localStorage.getItem("sketchFlipSecond")!=null){let e=Number(localStorage.getItem("sketchFlipSecond"));isNaN(e)||(this.sketchFlipSecond=e)}},beforeMount(){window.addEventListener("keyup",this.handleKeyup),this.nowTemplate=="sketch"&&this.startSketchMode()},beforeUnmount(){window.removeEventListener("keyup",this.handleKeyup)},mounted(){setTimeout(this.setNowPageNumByCookie,500)},updated(){},methods:{onBackgroundColorChange(e){let t=Number("0x"+e.substr(1,2)),o=Number("0x"+e.substr(3,2)),s=Number("0x"+e.substr(5,2)),l=40,n=30,g=42,_=t<255-l?t-l:t+parseInt((255-t)/2),f=o<255-n?o-n:o+parseInt((255-o)/2),w=s<255-g?s-g:s+parseInt((255-s)/2);t<50&&(_=t+3*l),o<50&&(f=o+3*n),s<50&&(w=s+3*g),this.model.colorHeader="#"+_.toString(16)+f.toString(16)+w.toString(16)},nowAndNextPageIsSingle(){return this.nowPageIsDouble=this.checkImageIsDoublePage_byPageNum(this.nowPageNum),this.nextPageIsDouble=this.checkImageIsDoublePage_byPageNum(this.nowPageNum+1),this.nowPageIsDouble||this.nextPageIsDouble?(this.nowAndNextPageIsSingleFlag=!1,!1):(this.nowAndNextPageIsSingleFlag=!1,!0)},setNowPageNumByCookie(){if(this.saveNowPageNumFlag_FlipMode){let e=localStorage.getItem("nowPageNum"+this.book.uuid);if(e!=null){let t=Number(e);isNaN(t)?console.log("\u8BFB\u53D6\u9875\u6570\u5931\u8D25\uFF0Cthis.nowPageNum="+this.nowPageNum):this.nowPageNum=t}else console.log("cookie\u91CC\u9762\u6CA1\u627E\u5230:nowPageNum"+this.book.uuid)}},OnSetTemplate(e){e=="scroll"?console.log("\u8DF3\u8F6C\u5230\u5377\u8F74\u9605\u8BFB\u6A21\u5F0F"):this.nowTemplate=="scroll"&&this.$router.push({name:"ScrollMode",params:{id:this.book.id}})},drawerActivate(e){this.drawerActive=!0,this.drawerPlacement=e},drawerDeactivate(){this.drawerActive=!1},startSketchMode(){this.message.success(this.$t("startSketchMessage")),this.drawerActive=!1,this.sketchModeFlag=!0,this.showPageHintFlag_FlipMode=!0,this.showHeaderFlag_FlipMode=!1,this.showFooterFlag_FlipMode=!1,this.interval=setInterval(this.sketchCount,1e3)},resetSketchSecondCount(){this.sketchSecondCount=0},stopSketchMode(){this.message.success(this.$t("goodjob_and_byebye")),this.sketchModeFlag=!1,this.showPageHintFlag_FlipMode=!1,this.sketchSecondCount=0,this.showHeaderFlag_FlipMode=!0,this.showFooterFlag_FlipMode=!0,clearInterval(this.interval)},sketchCount(){(this.sketchModeFlag==!1||this.nowTemplate!="sketch")&&this.stopSketchMode(),this.sketchSecondCount=this.sketchSecondCount+1,this.sketchSecondCount%this.sketchFlipSecond==0&&(this.nowPageNum<this.book.all_page_num?this.flipPage(1):this.toPage(1))},saveConfigToCookie(){localStorage.setItem("debugModeFlag",this.debugModeFlag),localStorage.setItem("showHeaderFlag_FlipMode",this.showHeaderFlag_FlipMode),localStorage.setItem("showFooterFlag_FlipMode",this.showFooterFlag_FlipMode),localStorage.setItem("showPageHintFlag_FlipMode",this.showPageHintFlag_FlipMode),localStorage.setItem("rightToLeftFlag",this.rightToLeftFlag),localStorage.setItem("simpleDoublePageModeFlag",this.simpleDoublePageModeFlag),localStorage.setItem("autoDoublePageModeFlag",this.autoDoublePageModeFlag),localStorage.setItem("saveNowPageNumFlag_FlipMode",this.saveNowPageNumFlag_FlipMode),localStorage.setItem("nowPageNum"+this.book.uuid,this.nowPageNum),localStorage.setItem("FlipModeDefaultColor",this.model.color),localStorage.setItem("sketchFlipSecond",this.sketchFlipSecond)},randomBackgroundColor(){let e=Math.ceil(Math.random()*155)+100,t=Math.ceil(Math.random()*155)+100,o=Math.ceil(Math.random()*100)+100,s="rgb("+e+","+t+","+o+")";this.model.color=s},onMouseOver(){},onMouseEnter(){},onMouseLeave(e){e.currentTarget.style.cursor=""},onMouseMove(e){let t=e.x,o=e.y,s=window.innerWidth,l=window.innerHeight,n=s*.4,g=s*.6,_=l*.4,f=l*.6;t>n&&t<g&&o>_&&o<f?e.currentTarget.style.cursor="url(/images/SettingsOutline.png), pointer":t<s*.5?this.rightToLeftFlag&&this.nowPageNum==1||!this.rightToLeftFlag&&this.nowPageNum==this.book.all_page_num?e.currentTarget.style.cursor="url(/images/Prohibited28Filled.png), pointer":e.currentTarget.style.cursor="url(/images/ArrowLeft.png), pointer":this.rightToLeftFlag&&this.nowPageNum==this.book.all_page_num||!this.rightToLeftFlag&&this.nowPageNum==1?e.currentTarget.style.cursor="url(/images/Prohibited28Filled.png), pointer":e.currentTarget.style.cursor="url(/images/ArrowRight.png), pointer"},onMouseClick(e){let t=e.x,o=e.y,s=window.innerHeight,l=window.innerWidth,n=l*.4,g=l*.6,_=s*.4,f=s*.6;t>n&&t<g&&o>_&&o<f?this.drawerActivate("right"):t<l*.5?this.rightToLeftFlag==!0?this.toPerviousPage():this.toNextPage():this.rightToLeftFlag==!0?this.toNextPage():this.toPerviousPage()},toNextPage(){if(this.simpleDoublePageModeFlag)if(this.nowPageNum<this.book.all_page_num-1){this.flipPage(2);return}else{this.flipPage(1);return}this.autoDoublePageModeFlag&&this.checkMergedStatus_ByPageNum(this.nowPageNum)?this.nowPageNum<this.book.all_page_num-1?this.flipPage(2):this.flipPage(1):this.flipPage(1)},toPerviousPage(){if(this.nowPageNum<=1){console.log("Error toPerviousPage");return}if(this.simpleDoublePageModeFlag)if(this.nowPageNum-2>0){this.flipPage(-2);return}else{this.flipPage(-1);return}if(this.nowPageNum==2||!this.autoDoublePageModeFlag){this.flipPage(-1);return}if(this.checkImageIsDoublePage_byPageNum(this.nowPageNum-1)){this.flipPage(-1);return}if(this.checkImageIsDoublePage_byPageNum(this.nowPageNum-2)){this.flipPage(-1);return}this.flipPage(-2)},checkMergedStatus_ByPageNum(e){if(!this.autoDoublePageModeFlag)return!1;if(e<=0||e>=this.book.all_page_num)return console.log("Error pageNum :"+e),!1;if(e==this.book.all_page_num)return!1;let t=this.checkImageIsDoublePage_byPageNum(e),o=this.checkImageIsDoublePage_byPageNum(e+1);return!(t||o)},checkImageIsDoublePage_byPageNum(e){if(e<=0||e>this.book.all_page_num){console.log("Error checkImageIsDoublePage_byPageNum:"+e);return}if(this.book.pages[e-1].image_type=="SinglePage")return!1;if(this.book.pages[e-1].image_type=="DoublePage")return!0;let t=new Image,o=!1;return t.src=this.book.pages[e-1].url,t.complete?t.width>=t.height:(t.onload=function(){t.width<t.height?(t.onload=null,o=!1):(t.onload=null,o=!0)},o)},flipPage:function(e){this.nowPageNum+e<=this.book.all_page_num&&this.nowPageNum+e>=1?this.nowPageNum=this.nowPageNum+e:e>0?this.message.info(this.$t("hintLastPage")):this.message.info(this.$t("hintFirstPage")),this.saveNowPageNumOnUpdate(this.nowPageNum)},saveNowPageNumOnUpdate(e){this.saveNowPageNumFlag_FlipMode&&localStorage.setItem("nowPageNum"+this.book.uuid,e)},toPage:function(e){e<=this.book.all_page_num&&e>=1&&(this.nowPageNum=e),this.saveNowPageNumFlag_FlipMode&&localStorage.setItem("nowPageNum"+this.book.uuid,this.nowPageNum)},handleKeyup(e){const t=e||window.event;if(!!t)switch(t.key){case"ArrowUp":case"PageUp":case"ArrowLeft":this.flipPage(-1);break;case"Space":case"ArrowDown":case"PageDown":case"ArrowRight":this.flipPage(1);break;case"Home":this.toPage(1);break;case"End":this.toPage(this.book.all_page_num);break}},setShowHeaderChange(e){console.log("value:"+e),this.showHeaderFlag_FlipMode=e,localStorage.setItem("showHeaderFlag_FlipMode",e),console.log("cookie\u8BBE\u7F6E\u5B8C\u6BD5: showHeaderFlag_FlipMode="+localStorage.getItem("showHeaderFlag_FlipMode"))},setShowFooterFlagChange(e){console.log("value:"+e),this.showFooterFlag_FlipMode=e,localStorage.setItem("showFooterFlag_FlipMode",e),console.log("cookie\u8BBE\u7F6E\u5B8C\u6BD5: showFooterFlag_FlipMode="+localStorage.getItem("showFooterFlag_FlipMode"))},setShowPageNumChange(e){console.log("value:"+e),this.showPageHintFlag_FlipMode=e,localStorage.setItem("showPageHintFlag_FlipMode",e),console.log("cookie\u8BBE\u7F6E\u5B8C\u6BD5: showPageHintFlag_FlipMode="+localStorage.getItem("showPageHintFlag_FlipMode"))},setFlipScreenFlag(e){console.log("value:"+e),this.rightToLeftFlag=e,localStorage.setItem("rightToLeftFlag",e),console.log("cookie\u8BBE\u7F6E\u5B8C\u6BD5: rightToLeftFlag="+localStorage.getItem("rightToLeftFlag"))},setSavePageNumFlag(e){console.log("value:"+e),this.saveNowPageNumFlag_FlipMode=e,localStorage.setItem("saveNowPageNumFlag_FlipMode",e),console.log("cookie\u8BBE\u7F6E\u5B8C\u6BD5: saveNowPageNumFlag_FlipMode="+localStorage.getItem("saveNowPageNumFlag_FlipMode"))},setDebugModeFlag(e){console.log("value:"+e),this.debugModeFlag=e,e==!1&&(this.autoDoublePageModeFlag=!1),localStorage.setItem("debugModeFlag",e),console.log("cookie\u8BBE\u7F6E\u5B8C\u6BD5: debugModeFlag="+localStorage.getItem("debugModeFlag"))},setAutoDoublePage_FlipMode(e){console.log("value:"+e),this.autoDoublePageModeFlag=e,e==!0&&(this.simpleDoublePageModeFlag=!1),localStorage.setItem("autoDoublePageModeFlag",e),console.log("cookie\u8BBE\u7F6E\u5B8C\u6BD5: autoDoublePageModeFlag="+localStorage.getItem("autoDoublePageModeFlag"))},setSimpleDoublePage_FlipMode(e){console.log("value:"+e),this.simpleDoublePageModeFlag=e,e==!0&&(this.autoDoublePageModeFlag=!1),localStorage.setItem("simpleDoublePageModeFlag",e),console.log("cookie\u8BBE\u7F6E\u5B8C\u6BD5: simpleDoublePageModeFlag="+localStorage.getItem("simpleDoublePageModeFlag"))}},computed:{pageNumOrSketchHint(){if(this.sketchModeFlag){let e=this.sketchSecondCount%this.sketchFlipSecond+1,t=parseInt(this.sketchSecondCount/this.sketchFlipSecond),o=parseInt((this.sketchSecondCount+1)/60),s="";parseInt(o/60)==0?s=o+this.$t("minute"):s=parseInt(o/60)+this.$t("hour")+o%60+this.$t("minute");let l=s+(this.sketchSecondCount+1)%60+this.$t("second");return this.$t("now_is")+e+this.$t("second")+"  "+this.$t("total_is")+t+this.$t("page")+"  "+this.$t("totalTime")+l+"  "+this.$t("interval")+this.sketchFlipSecond+this.$t("second")}else return this.nowPageNum+"/"+this.book.all_page_num},mangaAreaHeight(){let e=95;return this.showFooterFlag_FlipMode&&this.showHeaderFlag_FlipMode&&(e=95),this.showFooterFlag_FlipMode&&!this.showHeaderFlag_FlipMode&&(e=95),!this.showFooterFlag_FlipMode&&this.showHeaderFlag_FlipMode&&(e=95),!this.showFooterFlag_FlipMode&&!this.showHeaderFlag_FlipMode&&(e=100),e+"vh"},mangaImageHeight(){let e=95;return this.showFooterFlag_FlipMode&&this.showHeaderFlag_FlipMode&&(e=95),this.showFooterFlag_FlipMode&&!this.showHeaderFlag_FlipMode&&(e=95),!this.showFooterFlag_FlipMode&&this.showHeaderFlag_FlipMode&&(e=95),!this.showFooterFlag_FlipMode&&!this.showHeaderFlag_FlipMode&&(e=100),this.showPageHintFlag_FlipMode&&(this.nowTemplate=="sketch"?e=e-6:e=e-3),e+"vh"},sketchHintHeight(){return this.nowTemplate=="sketch"?"6vh":"3vh"},sketchHintFontSize(){return this.nowTemplate=="sketch"?"24px":"16px"},get_flex_direction(){return this.rightToLeftFlag==!0?"row":"row-reverse"}}}),te=()=>{j(e=>({"0b7f4f78":e.model.color,"0740381e":e.model.colorHeader,df5bc064:e.mangaAreaHeight,"605cd7c8":e.get_flex_direction,"463e3de8":e.mangaImageHeight,cd50d198:e.sketchHintHeight,"277f5086":e.sketchHintFontSize}))},oe=G.setup;G.setup=oe?(e,t)=>(te(),oe(e,t)):te;const kt=G,Ft={class:"body"},St={class:"manga_area_img_div"},bt=["src","alt"],vt=["src","alt"],Mt=["src","alt"],$t={key:0,class:"sketch_hint"},Nt={key:1,class:"footer"},It={key:0},yt={key:1};function Dt(e,t,o,s,l,n){const g=h("settings-outline"),_=h("n-icon"),f=h("Header"),w=h("n-slider"),M=h("n-color-picker"),F=h("n-divider"),k=h("n-switch"),S=h("n-space"),T=h("n-input-number"),$=h("Drawer");return c(),v(x,null,[b("div",Ft,[this.showHeaderFlag_FlipMode?(c(),P(f,{key:0,class:"header",bookIsFolder:e.book.IsFolder,bookName:e.book.name,showReturnIcon:!0},{default:a(()=>[i(_,{size:"40",onClick:t[0]||(t[0]=m=>e.drawerActivate("right"))},{default:a(()=>[i(g)]),_:1})]),_:1},8,["bookIsFolder","bookName"])):p("",!0),b("div",{class:"manga_area",id:"MangaMain",onClick:t[1]||(t[1]=U((...m)=>e.onMouseClick&&e.onMouseClick(...m),["stop"])),onMousemove:t[2]||(t[2]=U((...m)=>e.onMouseMove&&e.onMouseMove(...m),["stop"])),onMouseleave:t[3]||(t[3]=U((...m)=>e.onMouseLeave&&e.onMouseLeave(...m),["stop"]))},[b("div",St,[b("img",{src:this.book.pages[e.nowPageNum-1].url,alt:e.nowPageNum},null,8,bt),!this.autoDoublePageModeFlag&&this.simpleDoublePageModeFlag&&this.nowPageNum<this.book.all_page_num?(c(),v("img",{key:0,src:this.book.pages[e.nowPageNum].url,alt:e.nowPageNum+1},null,8,vt)):p("",!0),this.autoDoublePageModeFlag&&this.nowPageNum<this.book.all_page_num&&this.nowAndNextPageIsSingle()?(c(),v("img",{key:1,src:this.book.pages[e.nowPageNum].url,alt:e.nowPageNum+1},null,8,Mt)):p("",!0)]),this.showPageHintFlag_FlipMode?(c(),v("div",$t,r(e.pageNumOrSketchHint),1)):p("",!0)],32),this.showFooterFlag_FlipMode?(c(),v("div",Nt,[this.rightToLeftFlag?(c(),v("div",It,[b("span",null,r(this.nowPageNum),1),i(w,{value:e.nowPageNum,"onUpdate:value":[t[4]||(t[4]=m=>e.nowPageNum=m),this.saveNowPageNumOnUpdate],max:this.book.all_page_num,min:1,step:1,"format-tooltip":m=>`${m}`},null,8,["value","max","format-tooltip","onUpdate:value"]),b("span",null,r(this.book.all_page_num),1)])):p("",!0),this.rightToLeftFlag?p("",!0):(c(),v("div",yt,[b("span",null,r(this.book.all_page_num),1),i(w,{reverse:"",value:e.nowPageNum,"onUpdate:value":[t[5]||(t[5]=m=>e.nowPageNum=m),this.saveNowPageNumOnUpdate],max:this.book.all_page_num,min:1,step:1,"format-tooltip":m=>`${m}`},null,8,["value","max","format-tooltip","onUpdate:value"]),b("span",null,r(this.nowPageNum),1)]))])):p("",!0)]),i($,{initDrawerActive:this.drawerActive,initDrawerPlacement:this.drawerPlacement,onSaveConfig:this.saveConfigToCookie,onStartSketch:this.startSketchMode,onStopSketch:this.stopSketchMode,onCloseDrawer:this.drawerDeactivate,onSetRM:e.OnSetReaderMode,nowTemplate:this.nowTemplate},{default:a(()=>[b("span",null,r(e.$t("setBackColor")),1),i(M,{value:e.model.color,"onUpdate:value":[t[6]||(t[6]=m=>e.model.color=m),e.onBackgroundColorChange],modes:["rgb"],"show-alpha":!1},null,8,["value","onUpdate:value"]),i(F),i(S,null,{default:a(()=>[i(k,{size:"large",value:this.showHeaderFlag_FlipMode,"onUpdate:value":[t[7]||(t[7]=m=>this.showHeaderFlag_FlipMode=m),e.setShowHeaderChange]},{checked:a(()=>[d(r(e.$t("showHeader")),1)]),unchecked:a(()=>[d(r(e.$t("showHeader")),1)]),_:1},8,["value","onUpdate:value"])]),_:1}),i(S,null,{default:a(()=>[i(k,{size:"large",value:this.showFooterFlag_FlipMode,"onUpdate:value":[t[8]||(t[8]=m=>this.showFooterFlag_FlipMode=m),e.setShowFooterFlagChange]},{checked:a(()=>[d(r(e.$t("readingProgressBar")),1)]),unchecked:a(()=>[d(r(e.$t("readingProgressBar")),1)]),_:1},8,["value","onUpdate:value"])]),_:1}),i(S,null,{default:a(()=>[i(k,{size:"large",value:this.showPageHintFlag_FlipMode,"onUpdate:value":[t[9]||(t[9]=m=>this.showPageHintFlag_FlipMode=m),e.setShowPageNumChange]},{checked:a(()=>[d(r(e.$t("showPageNum")),1)]),unchecked:a(()=>[d(r(e.$t("showPageNum")),1)]),_:1},8,["value","onUpdate:value"])]),_:1}),i(F),i(S,null,{default:a(()=>[i(k,{size:"large",value:this.saveNowPageNumFlag_FlipMode,"onUpdate:value":[t[10]||(t[10]=m=>this.saveNowPageNumFlag_FlipMode=m),this.setSavePageNumFlag]},{checked:a(()=>[d(r(e.$t("savePageNum")),1)]),unchecked:a(()=>[d(r(e.$t("savePageNum")),1)]),_:1},8,["value","onUpdate:value"])]),_:1}),i(S,null,{default:a(()=>[i(k,{size:"large",value:this.rightToLeftFlag,"onUpdate:value":[t[11]||(t[11]=m=>this.rightToLeftFlag=m),this.setFlipScreenFlag],"rail-style":e.railStyle},{checked:a(()=>[d(r(e.$t("rightScreenToNext")),1)]),unchecked:a(()=>[d(r(e.$t("leftScreenToNext")),1)]),_:1},8,["value","rail-style","onUpdate:value"])]),_:1}),i(S,null,{default:a(()=>[i(k,{size:"large",value:this.simpleDoublePageModeFlag,"onUpdate:value":[t[12]||(t[12]=m=>this.simpleDoublePageModeFlag=m),this.setSimpleDoublePage_FlipMode]},{checked:a(()=>[d(r(e.$t("simpleDoublePage")),1)]),unchecked:a(()=>[d(r(e.$t("simpleDoublePage")),1)]),_:1},8,["value","onUpdate:value"])]),_:1}),i(F),i(S,null,{default:a(()=>[i(k,{size:"large",value:this.debugModeFlag,"onUpdate:value":[t[13]||(t[13]=m=>this.debugModeFlag=m),this.setDebugModeFlag]},{checked:a(()=>[d(r(e.$t("debugMode")),1)]),unchecked:a(()=>[d(r(e.$t("debugMode")),1)]),_:1},8,["value","onUpdate:value"])]),_:1}),this.debugModeFlag?(c(),P(S,{key:0},{default:a(()=>[i(k,{size:"large",value:this.autoDoublePageModeFlag,"onUpdate:value":[t[14]||(t[14]=m=>this.autoDoublePageModeFlag=m),this.setAutoDoublePage_FlipMode]},{checked:a(()=>[d(r(e.$t("autoDoublePage")),1)]),unchecked:a(()=>[d(r(e.$t("autoDoublePage")),1)]),_:1},8,["value","onUpdate:value"])]),_:1})):p("",!0),this.nowTemplate=="sketch"?(c(),P(F,{key:1})):p("",!0),this.nowTemplate=="sketch"?(c(),P(T,{key:2,size:"small","show-button":!1,value:this.sketchFlipSecond,"onUpdate:value":[t[15]||(t[15]=m=>this.sketchFlipSecond=m),this.resetSketchSecondCount],max:65535,min:1,"update-value-on-input":!1},{prefix:a(()=>[d(r(e.$t("pageTurningSeconds")),1)]),suffix:a(()=>[d(r(e.$t("second")),1)]),_:1},8,["value","onUpdate:value"])):p("",!0),this.nowTemplate=="sketch"?(c(),P(w,{key:3,value:this.sketchFlipSecond,"onUpdate:value":[t[16]||(t[16]=m=>this.sketchFlipSecond=m),this.resetSketchSecondCount],step:1,max:120,min:1,marks:e.marks,"format-tooltip":m=>`${m}s`},null,8,["value","marks","format-tooltip","onUpdate:value"])):p("",!0)]),_:1},8,["initDrawerActive","initDrawerPlacement","onSaveConfig","onStartSketch","onStopSketch","onCloseDrawer","onSetRM","nowTemplate"])],64)}var Ct=D(kt,[["render",Dt],["__scopeId","data-v-68458c0f"]]);const Tt=I({name:"BookCover",props:["title","image_src","id","readerMode","showTitle"],components:{NCard:He},setup(){const{cookies:e}=y();return{cookies:e}},computed:{shortTitle(){return this.title.length<=12?this.title:this.title.substr(0,12)+"\u2026"}},data(){return{resize_str:"&resize_width=256&resize_height=360&resize_cut=true"}},methods:{onBackTop(){this.$router.push("/")},getThumbnailsImageUrl(){var e=this.image_src.split("/");return e[0]=="api"?this.image_src+"&resize_width=256&resize_height=360&resize_cut=true":this.image_src},getHref(){var e=document.location.toString(),t=e.split("/");if(this.readerMode=="flip")var o=t[0]+"//"+t[2]+"/#f/"+this.id;return this.readerMode=="scroll"&&(o=t[0]+"//"+t[2]+"/#s/"+this.id),console.log(o),o}}}),Ht=["src"];function Wt(e,t,o,s,l,n){const g=h("router-link"),_=h("n-card");return c(),P(g,{to:{name:"ScrollMode",params:{id:this.id}}},{default:a(()=>[i(_,{class:"book_card"},{cover:a(()=>[b("img",{src:e.getThumbnailsImageUrl()},null,8,Ht)]),default:a(()=>[e.showTitle?(c(),P(g,{key:0,to:{name:"FlipMode",params:{id:this.id}}},{default:a(()=>[d(r(this.shortTitle),1)]),_:1},8,["to"])):p("",!0)]),_:1})]),_:1},8,["to"])}var At=D(Tt,[["render",Wt],["__scopeId","data-v-fce3940e"]]);const K=I({name:"BookShelf",props:["readMode"],emits:["setTemplate"],components:{Header:E,Drawer:Y,BookCard:At,NGrid:We,NGridItem:Ae,NIcon:R,SettingsOutline:O,NDivider:z,NColorPicker:de},setup(){const{cookies:e}=y(),t=A({color:"#E0D9CD",colorHeader:"#d1c9c1"});return{cookies:e,model:t,railStyle:({focused:o,checked:s})=>{const l={};return s?(l.background="#d03050",o&&(l.boxShadow="0 0 0 2px #d0305040")):(l.background="#2080f0",o&&(l.boxShadow="0 0 0 2px #2080f040")),l},marks:{30:"25%",50:"50%",75:"75%",95:"95%"}}},data(){return{ReaderMode:"scroll",bookshelf:[{name:"loading",all_page_num:1,id:"12345",pages:[{height:500,width:449,url:"/images/loading.jpg"}],cover:{filename:"loading.jpg",height:500,width:449,url:"/images/loading.jpg"}}],drawerActive:!1,drawerPlacement:"right",debugModeFlag:!0,showHeaderFlag:!0,syncScrollFlag:!1,clickX:0,clickY:0,isLandscapeMode:!0,isPortraitMode:!1,imageMaxWidth:10,aspectRatio:1.2,clientWidth:0,clientHeight:0}},created(){localStorage.getItem("ReaderMode")!=null&&(this.ReaderMode=localStorage.getItem("ReaderMode")),N.get("getshelf").then(e=>this.bookshelf=e.data).finally(()=>{}),localStorage.getItem("ReaderMode")!=null&&(this.ReaderMode=localStorage.getItem("ReaderMode")),this.$watch(()=>this.$route.params,()=>{console.log("BookShelf: route change"),localStorage.getItem("ReaderMode")!=null&&(this.ReaderMode=localStorage.getItem("ReaderMode"),console.log("setReaderMode"+this.ReaderMode))}),this.imageMaxWidth=window.innerWidth,localStorage.getItem("showHeaderFlag")==="true"?this.showHeaderFlag=!0:localStorage.getItem("showHeaderFlag")==="false"&&(this.showHeaderFlag=!1),localStorage.getItem("BookShelfDefaultColor")!=null&&(this.model.color=localStorage.getItem("BookShelfDefaultColor"))},beforeMount(){},mounted(){},onMounted(){this.isLandscapeMode=this.inLandscapeModeCheck(),this.isPortraitMode=!this.inLandscapeModeCheck(),this.$nextTick(function(){})},beforeUnmount(){},methods:{onOpenBook(e){this.nowTemplate=="flip"||this.nowTemplate=="sketch"?this.$router.push({name:"FlipMode",params:{id:e}}):this.nowTemplate=="scroll"?this.$router.push({name:"ScrollMode",params:{id:e}}):this.$router.push({name:"ScrollMode",params:{id:e}})},openBookOnce(){console.log("this.bookshelf[0].id :"+this.bookshelf[0].id),this.bookshelf[0].id!="12345"&&this.onOpenBook(this.bookshelf[0].id)},drawerActivate(e){this.drawerActive=!0,this.drawerPlacement=e},drawerDeactivate(){this.drawerActive=!1},startSketchMode(){},OnSetReaderMode(e){(e=="scroll"||e=="scroll")&&(this.ReaderMode=e)},saveConfigToCookie(){localStorage.setItem("showHeaderFlag",this.showHeaderFlag),localStorage.setItem("BookShelfDefaultColor",this.model.color)},setShowHeaderChange(e){console.log("value:"+e),this.showHeaderFlag=e,localStorage.setItem("showHeaderFlag",e),console.log("cookie\u8BBE\u7F6E\u5B8C\u6BD5: showHeaderFlag="+localStorage.getItem("showHeaderFlag"))},inLandscapeModeCheck(){return this.aspectRatio=window.innerWidth/window.innerHeight,this.aspectRatio>19/19}},computed:{}}),ae=()=>{j(e=>({"30eb7a58":e.model.colorHeader,e98af02a:e.model.color}))},se=K.setup;K.setup=se?(e,t)=>(ae(),se(e,t)):ae;const Lt=K,Rt={id:"BookShelf"},zt={class:"shelf"};function Bt(e,t,o,s,l,n){const g=h("settings-outline"),_=h("n-icon"),f=h("Header"),w=h("BookCard"),M=h("n-grid-item"),F=h("n-grid"),k=h("n-color-picker"),S=h("n-divider"),T=h("Drawer");return c(),v("div",Rt,[this.showHeaderFlag?(c(),P(f,{key:0,class:"footer",bookIsFolder:!1,showReturnIcon:!1},{default:a(()=>[i(_,{size:"40",onClick:t[0]||(t[0]=$=>e.drawerActivate("right"))},{default:a(()=>[i(g)]),_:1})]),_:1})):p("",!0),b("div",zt,[i(F,{cols:"1 150:1 280:2 450:3 600:4 750:5 900:6 1050:7 1200:8 1350:9 1500:10 1800:12 2100:14 2400:16 2700:18 3000:20"},{default:a(()=>[(c(!0),v(x,null,ge(this.bookshelf,($,m)=>(c(),P(M,{key:m},{default:a(()=>[i(w,{title:$.name,id:$.id,image_src:$.cover.url,ReaderMode:this.ReaderMode,showTitle:!1},null,8,["title","id","image_src","ReaderMode"])]),_:2},1024))),128))]),_:1})]),i(T,{initDrawerActive:this.drawerActive,initDrawerPlacement:this.drawerPlacement,onSaveConfig:this.saveConfigToCookie,onStartSketch:this.startSketchMode,onCloseDrawer:this.drawerDeactivate,onSetRM:this.OnSetReaderMode,ReaderMode:this.ReaderMode,sketching:!1},{default:a(()=>[b("span",null,r(e.$t("setBackColor")),1),i(k,{value:e.model.color,"onUpdate:value":t[1]||(t[1]=$=>e.model.color=$),modes:["rgb"],"show-alpha":!1},null,8,["value"]),i(S)]),_:1},8,["initDrawerActive","initDrawerPlacement","onSaveConfig","onStartSketch","onCloseDrawer","onSetRM","ReaderMode"])])}var Ut=D(Lt,[["render",Bt],["__scopeId","data-v-3a226b36"]]);const Xt=I({name:"404Page",components:{NButton:X,NResult:Le},setup(){const{cookies:e}=y();return{cookies:e}},methods:{onBackTop(){this.$router.push("/")}}}),Ot=d('\u56DE\u9996\u9875\u256E(\uFFE3\u25BD\uFFE3")\u256D');function jt(e,t,o,s,l,n){const g=h("n-button"),_=h("n-result");return c(),P(_,{status:"404",title:"404 \u8D44\u6E90\u4E0D\u5B58\u5728",description:"\u6CA1\u627E\u5230\u4F60\u60F3\u8981\u7684\u4E1C\u897F"},{footer:a(()=>[i(g,{onClick:t[0]||(t[0]=f=>e.onBackTop())},{default:a(()=>[Ot]),_:1})]),_:1})}var xt=D(Xt,[["render",jt],["__scopeId","data-v-2e48c3d8"]]);const Et=[{path:"/",component:Ut},{path:"/s/:id",component:wt,name:"ScrollMode"},{path:"/f/:id",component:Ct,name:"FlipMode"},{path:"/about",component:()=>Je(()=>import("./About.763e8961.js"),["assets/About.763e8961.js","assets/About.6f92323b.css","assets/vendor.ecf16912.js"]),name:"About"},{path:"/:pathMatch(.*)*",name:"NotFound",component:xt}],Yt=Re({history:ze(),routes:Et}),Vt=Be({state:{count:0,todos:[{id:1,text:"...",done:!0},{id:2,text:"...",done:!1}],now_page:1,book:{name:"loading",all_page_num:1,pages:[{height:500,width:449,url:"/images/loading.jpg"}]},bookshelf:[{name:"loading",all_page_num:1,pages:[{height:500,width:449,url:"/images/loading.jpg"}]}],setting:{template:"scroll",sketch_count_seconds:30},message:{user_id:"",server_status:"",now_book_id:"",read_percent:0,msg:""}},mutations:{change_template_to_scroll(e){e.setting.template="scroll",console.log("change_template_to_scroll:"+e.setting.template)},change_template_to_flip(e){e.setting.template="flip",console.log("change_template_to_flip:"+e.setting.template)},change_template_to_sketch(e){e.setting.template="sketch",console.log("change_template_to_sketch:"+e.setting.template)},increment(e){e.count++},syncSettingData(e,t){e.setting=t.message},syncBookData(e,t){e.book=t.message},syncBookShelfData(e,t){e.bookshelf=t.message}},actions:{incrementAction(e){e.commit("increment")},async syncSettingDataAction(e){const o={message:await N.get("setting.json").then(s=>s.data,()=>"")};e.commit("syncSettingData",o),console.log("syncSettingData!")},async syncBookDataAction(e){const o={message:await N.get("book.json").then(s=>s.data,()=>"")};e.commit("syncBookData",o),console.log("syncBookData!")},async syncBookShelfDataAction(e){const o={message:await N.get("getshelf").then(s=>s.data,()=>"")};e.commit("syncBookShelfData",o),console.log("syncBookShelfData!")}},getters:{doneTodos:e=>e.todos.filter(t=>t.done),now_page:e=>e.now_page,book:e=>e.book,bookshelf:e=>e.bookshelf,setting:e=>e.setting,message:e=>e.message},modules:{}}),Gt="test",Kt="Debug Mode",qt="Reader Settings",Jt="ScrollMode",Qt="FlipMode",Zt="singlePageWidth:",eo="doublePageWidth:",to="Width:Percent",oo="Width:Fixed value",ao="Header Shown",so="show PageNumber",io="Set Background Color:",lo="Reading Progress Bar",ro="Save Reading Progress",no="Right screen to next page",go="Left screen to next page",ho="Start Sketch",uo="Stop Sketch",co="Now is the first page, can not turn forward",mo="Now is the last page, can not turn the page",po="now: ",_o="second",fo="minute",Po="total: ",wo="interval: ",ko="page",Fo="Total time: ",So="hour",bo="interval: ",vo="The countdown begins, Have a nice day.",Mo="Goodjob,bye.",$o="DoublePage",No="DoublePage\uFF08beta\uFF09",Io="gray image",yo="Limit size (width)",Do="Auto white cut",Co="max width:",To="Energy Threshold:",Ho="Raw Resolution",Wo="Reset all settings",Ao=" Do you want to reset to the default settings?";var Lo={test:Gt,debugMode:Kt,ReaderSettings:qt,scroll_mode:Jt,flip_mode:Qt,singlePageWidth:Zt,doublePageWidth:eo,width_usePercent:to,width_useFixedValue:oo,showHeader:ao,showPageNum:so,setBackColor:io,readingProgressBar:lo,savePageNum:ro,rightScreenToNext:no,leftScreenToNext:go,startSketchMode:ho,stopSketchMode:uo,hintFirstPage:co,hintLastPage:mo,now_is:po,second:_o,minute:fo,total_is:Po,interval:wo,page:ko,totalTime:Fo,hour:So,pageTurningSeconds:bo,startSketchMessage:vo,goodjob_and_byebye:Mo,simpleDoublePage:$o,autoDoublePage:No,gray_image:Io,image_width_limit:yo,auto_crop:Do,max_width:Co,energy_threshold:To,"back-to-top":"Back To Top",raw_resolution:Ho,reset_all_settings:Wo,do_you_reset_all_settings:Ao};const Ro="\u6D4B\u8BD5",zo="Debug Mode",Bo="\u5377\u8F74\u6A21\u5F0F",Uo="\u7FFB\u9875\u6A21\u5F0F",Xo="\u9605\u8BFB\u5668\u8BBE\u5B9A",Oo="\u5355\u9875\u6F2B\u753B\u5BBD\u5EA6:",jo="\u53CC\u5F00\u9875\u6F2B\u753B\u5BBD:",xo="\u5BBD\u5EA6:\u767E\u5206\u6BD4%",Eo="\u5BBD\u5EA6:\u56FA\u5B9A\u503Cpx",Yo="\u663E\u793A\u6807\u9898",Vo="\u663E\u793A\u9875\u6570",Go="\u8BBE\u5B9A\u80CC\u666F\u8272:",Ko="\u9605\u8BFB\u8FDB\u5EA6\u6761",qo="\u4FDD\u5B58\u9605\u8BFB\u8FDB\u5EA6",Jo="\u53F3\u534A\u5C4F\u7FFB\u4E0B\u4E00\u9875",Qo="\u5DE6\u534A\u5C4F\u7FFB\u4E0B\u4E00\u9875",Zo="\u5F00\u59CB\u901F\u5199",ea="\u505C\u6B62\u901F\u5199",ta="\u73B0\u5728\u662F\u7B2C\u4E00\u9875,\u65E0\u6CD5\u5411\u524D\u7FFB\u9875",oa="\u73B0\u5728\u662F\u6700\u540E\u4E00\u9875\uFF0C\u65E0\u6CD5\u5F80\u540E\u7FFB\u9875",aa="\u73B0\u5728:",sa="\u79D2",ia="\u5206",la="\u5B8C\u6210:",ra="\u7FFB\u9875\u95F4\u9694:",na="\u5F20",ga="\u7ECF\u8FC7\u65F6\u95F4:",da="\u5C0F\u65F6",ha="\u7FFB\u9875\u95F4\u9694:",ua="\u5F00\u59CB\u5012\u8BA1\u65F6\u901F\u5199\uFF0C\u795D\u4F60\u5FC3\u60C5\u6109\u5FEB\u3002",ca="\u505A\u5F97\u4E0D\u9519\uFF0C\u518D\u89C1~",ma="\u5408\u5E76\u53CC\u9875",pa="\u5408\u5E76\u53CC\u9875\uFF08beta\uFF09",_a="\u663E\u793A\u539F\u56FE",fa="\u9ED1\u767D\u5316",Pa="\u9650\u5236\u5C3A\u5BF8(\u5BBD)",wa="\u539F\u59CB\u5206\u8FA8\u7387",ka="\u81EA\u52A8\u5207\u8FB9",Fa="\u6700\u5927\u5BBD\u5EA6\uFF1A",Sa="\u5207\u8FB9\u5F3A\u5EA6\uFF1A",ba="\u91CD\u7F6E\u6240\u6709\u8BBE\u5B9A",va="\u662F\u5426\u8981\u91CD\u7F6E\u4E3A\u9ED8\u8BA4\u8BBE\u5B9A\uFF1F";var Ma={test:Ro,debugMode:zo,scroll_mode:Bo,flip_mode:Uo,ReaderSettings:Xo,singlePageWidth:Oo,doublePageWidth:jo,width_usePercent:xo,width_useFixedValue:Eo,showHeader:Yo,showPageNum:Vo,setBackColor:Go,readingProgressBar:Ko,savePageNum:qo,rightScreenToNext:Jo,leftScreenToNext:Qo,startSketchMode:Zo,stopSketchMode:ea,hintFirstPage:ta,hintLastPage:oa,now_is:aa,second:sa,minute:ia,total_is:la,interval:ra,page:na,totalTime:ga,hour:da,pageTurningSeconds:ha,startSketchMessage:ua,goodjob_and_byebye:ca,simpleDoublePage:ma,autoDoublePage:pa,original_image:_a,gray_image:fa,image_width_limit:Pa,raw_resolution:wa,auto_crop:ka,max_width:Fa,energy_threshold:Sa,"back-to-top":"\u56DE\u5230\u9875\u9996",reset_all_settings:ba,do_you_reset_all_settings:va};const $a="test",Na="Debug Mode",Ia="\u30EA\u30FC\u30C0\u30FC\u8A2D\u5B9A",ya="\u30B9\u30AF\u30ED\u30FC\u30EB",Da="\u30DA\u30FC\u30B8\u3081\u304F\u308A",Ca="1\u30DA\u30FC\u30B8\u6F2B\u753B\u6A2A\u5E45:",Ta="\u898B\u958B\u304D\u30DA\u30FC\u30B8\u306E\u5E45:",Ha="\u6A2A\u5E45:\u30D1\u30FC\u30BB\u30F3\u30C8",Wa="\u6A2A\u5E45:\u56FA\u5B9A\u5024",Aa="\u30BF\u30A4\u30C8\u30EB\u8868\u793A",La="\u30DA\u30FC\u30B8\u6570\u8868\u793A",Ra="\u80CC\u666F\u8272\u3092\u6307\u5B9A\u3059\u308B:",za="\u30D7\u30ED\u30B0\u30EC\u30B9\u30D0\u30FC",Ba="\u8AAD\u66F8\u9032\u6357\u306E\u4FDD\u5B58",Ua="\u53F3\u534A\u5206\u306E\u753B\u9762\u3067\u6B21\u30DA\u30FC\u30B8",Xa="\u5DE6\u534A\u5206\u306E\u753B\u9762\u3067\u6B21\u30DA\u30FC\u30B8",Oa="\u30AF\u30ED\u30C3\u30AD\u30FC\u958B\u59CB",ja="\u30AF\u30ED\u30C3\u30AD\u30FC\u7D42\u4E86",xa="\u6700\u521D\u306E\u30DA\u30FC\u30B8\u3067\u3001\u9032\u3081\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093",Ea="\u6700\u5F8C\u306E\u30DA\u30FC\u30B8\u3067\u3059",Ya="\u4ECA:",Va="\u79D2",Ga="\u5206",Ka="\u5408\u8A08:",qa="\u9593\u9694:",Ja="\u30DA\u30FC\u30B8",Qa="\u5408\u8A08\u6642\u9593:",Za="\u6642\u9593",es="\u30DA\u30FC\u30B8\u3092\u3081\u304F\u308B\u79D2\u6570:",ts="\u30AF\u30ED\u30C3\u30AD\u30FC\u304C\u59CB\u307E\u308A\u307E\u3057\u305F\u3001\u826F\u3044\u4E00\u65E5\u3092\u3002",os="\u304A\u75B2\u308C\u69D8\u3067\u3057\u305F\u3001\u30D0\u30A4\u30D0\u30A4\u3002",as="\u30DA\u30FC\u30B8\u5408\u4F75",ss="\u30DA\u30FC\u30B8\u5408\u4F75\uFF08beta\uFF09",is="\u30E2\u30CE\u30AF\u30ED\u5316",ls="\u30B5\u30A4\u30BA\uFF08\u5E45\uFF09\u3092\u5236\u9650",rs="\u4F59\u767D\u81EA\u52D5\u30C8\u30EA\u30DF\u30F3\u30B0",ns="\u6700\u5927\u5E45:",gs="\u30A8\u30CD\u30EB\u30AE\u30FC\u95BE\u5024\uFF1A",ds="\u5143\u306E\u89E3\u50CF\u5EA6",hs=" \u521D\u671F\u8A2D\u5B9A\u306B\u623B\u3059",us="\u521D\u671F\u8A2D\u5B9A\u306B\u623B\u3059\u304B\uFF1F";var cs={test:$a,debugMode:Na,ReaderSettings:Ia,scroll_mode:ya,flip_mode:Da,singlePageWidth:Ca,doublePageWidth:Ta,width_usePercent:Ha,width_useFixedValue:Wa,showHeader:Aa,showPageNum:La,setBackColor:Ra,readingProgressBar:za,savePageNum:Ba,rightScreenToNext:Ua,leftScreenToNext:Xa,startSketchMode:Oa,stopSketchMode:ja,hintFirstPage:xa,hintLastPage:Ea,now_is:Ya,second:Va,minute:Ga,total_is:Ka,interval:qa,page:Ja,totalTime:Qa,hour:Za,pageTurningSeconds:es,startSketchMessage:ts,goodjob_and_byebye:os,simpleDoublePage:as,autoDoublePage:ss,gray_image:is,image_width_limit:ls,auto_crop:rs,max_width:ns,energy_threshold:gs,"back-to-top":"\u30DA\u30FC\u30B8\u306E\u30C8\u30C3\u30D7\u3078\u623B\u308B",raw_resolution:ds,reset_all_settings:hs,do_you_reset_all_settings:us};const ms={en:W({},Lo),zh:W({},Ma),ja:W({},cs)},ps=new Ue.exports.createI18n({locale:localStorage.getItem("lang")||"zh",globalInjection:!0,messages:ms});N.defaults.baseURL="/api";const C=Xe(Ge);C.use(ps);C.use(Oe,N);C.use(Vt);C.use(Yt);C.use(je,{preLoad:1.9,loading:"/images/loading.jpg",error:"/images/error.jpg",attempt:4,observerOptions:{rootMargin:"200px",threshold:.1},lifecycle:{loading:e=>{e.setAttribute("class","LoadingImage")},error:e=>{e.setAttribute("class","ErrorImage")},loaded:e=>{let t=new Image;t.src=e.src,t.complete?(e.setAttribute("w",t.width),e.setAttribute("h",t.height),t.width<t.height?e.setAttribute("class","SinglePageImage"):e.setAttribute("class","DoublePageImage")):e.setAttribute("class","SinglePageImage")}}});C.mount("#app");export{D as _};
