(function(e){function t(t){for(var a,i,c=t[0],r=t[1],s=t[2],u=0,h=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&h.push(n[i][0]),n[i]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);g&&g(t);while(h.length)h.shift()();return l.push.apply(l,s||[]),o()}function o(){for(var e,t=0;t<l.length;t++){for(var o=l[t],a=!0,i=1;i<o.length;i++){var r=o[i];0!==n[r]&&(a=!1)}a&&(l.splice(t--,1),e=c(c.s=o[0]))}return e}var a={},n={app:0},l=[];function i(e){return c.p+"assets/js/"+({}[e]||e)+"."+{"chunk-2d0de531":"f561c1c1"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(e){var t=[],o=n[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,a){o=n[e]=[t,a]}));t.push(o[2]=a);var l,r=document.createElement("script");r.charset="utf-8",r.timeout=120,c.nc&&r.setAttribute("nonce",c.nc),r.src=i(e);var s=new Error;l=function(t){r.onerror=r.onload=null,clearTimeout(u);var o=n[e];if(0!==o){if(o){var a=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+l+")",s.name="ChunkLoadError",s.type=a,s.request=l,o[1](s)}n[e]=void 0}};var u=setTimeout((function(){l({type:"timeout",target:r})}),12e4);r.onerror=r.onload=l,document.head.appendChild(r)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(o,a,function(t){return e[t]}.bind(null,a));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var g=s;l.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0423":function(e){e.exports=JSON.parse('{"test":"test","debugMode":"Debug Mode","ReaderSettings":"リーダー設定","scroll_mode":"スクロール","flip_mode":"ページめくり","singlePageWidth":"1ページ漫画横幅:","doublePageWidth":"見開きページの幅:","width_usePercent":"横幅:パーセント","width_useFixedValue":"横幅:固定値","showHeader":"タイトル表示","showPageNum":"ページ数表示","setBackColor":"背景色を指定する:","readingProgressBar":"プログレスバー","savePageNum":"読書進捗の保存","rightScreenToNext":"右半分の画面で次ページ","leftScreenToNext":"左半分の画面で次ページ","startSketchMode":"クロッキー開始","stopSketchMode":"クロッキー終了","hintFirstPage":"最初のページで、進めることはできません","hintLastPage":"最後のページです","now_is":"今:","second":"秒","minute":"分","total_is":"合計:","interval":"間隔:","page":"ページ","totalTime":"合計時間:","hour":"時間","pageTurningSeconds":"ページをめくる秒数:","startSketchMessage":"クロッキーが始まりました、良い一日を。","goodjob_and_byebye":"お疲れ様でした、バイバイ。","simpleDoublePage":"ページ合併","autoDoublePage":"ページ合併（beta）"}')},"17a5":function(e,t,o){},"45d7":function(e,t,o){"use strict";o("e76b")},"56d7":function(e,t,o){"use strict";o.r(t);o("e623"),o("e379"),o("5dc8"),o("37e1");var a=o("7a23"),n=o("130e"),l=o("bc3a"),i=o.n(l),c={class:"home"};function r(e,t,o,n,l,i){var r=this,s=Object(a["N"])("ScrollMode"),u=Object(a["N"])("FlipMode"),g=Object(a["N"])("n-message-provider");return Object(a["E"])(),Object(a["l"])("div",c,[Object(a["o"])(g,null,{default:Object(a["X"])((function(){return["scroll"===e.selectTemplate?(Object(a["E"])(),Object(a["j"])(s,{key:0,book:r.book,nowTemplate:r.selectTemplate,onSetTemplate:e.OnSetTemplate},null,8,["book","nowTemplate","onSetTemplate"])):Object(a["k"])("",!0),"flip"===e.selectTemplate||"sketch"===e.selectTemplate?(Object(a["E"])(),Object(a["j"])(u,{key:1,book:r.book,nowTemplate:r.selectTemplate,onSetTemplate:e.OnSetTemplate},null,8,["book","nowTemplate","onSetTemplate"])):Object(a["k"])("",!0)]})),_:1})])}o("b0c0");var s=function(e){return Object(a["H"])("data-v-1dce601b"),e=e(),Object(a["F"])(),e},u={key:0,id:"ScrollMode",class:"manga"},g=["alt"],h={key:0,class:"page_hint"},d=Object(a["n"])("%"),b=Object(a["n"])("%"),m=Object(a["n"])("px"),p=Object(a["n"])("px"),f=s((function(){return Object(a["m"])("p",null,null,-1)})),P=s((function(){return Object(a["m"])("p",null,null,-1)})),j=Object(a["n"])("Back To Top");function w(e,t,o,n,l,i){var c=this,r=Object(a["N"])("settings-outline"),s=Object(a["N"])("n-icon"),w=Object(a["N"])("Header"),O=Object(a["N"])("n-color-picker"),F=Object(a["N"])("n-divider"),k=Object(a["N"])("n-input-number"),v=Object(a["N"])("n-slider"),_=Object(a["N"])("n-space"),S=Object(a["N"])("n-switch"),M=Object(a["N"])("Drawer"),N=Object(a["N"])("n-back-top"),T=Object(a["N"])("n-button"),I=Object(a["O"])("lazy");return this.book?(Object(a["E"])(),Object(a["l"])("div",u,[this.showHeaderFlag?(Object(a["E"])(),Object(a["j"])(w,{key:0,class:"footer",bookIsFolder:e.book.IsFolder,bookName:e.book.name},{default:Object(a["X"])((function(){return[Object(a["o"])(s,{size:"40",onClick:t[0]||(t[0]=function(t){return e.drawerActivate("right")})},{default:Object(a["X"])((function(){return[Object(a["o"])(r)]})),_:1})]})),_:1},8,["bookIsFolder","bookName"])):Object(a["k"])("",!0),(Object(a["E"])(!0),Object(a["l"])(a["b"],null,Object(a["L"])(e.book.pages,(function(o,n){return Object(a["E"])(),Object(a["l"])("div",{class:"main_manga",key:o.url,onClick:t[1]||(t[1]=function(t){return e.onMouseClick(t)}),onMousemove:t[2]||(t[2]=function(){return e.onMouseMove&&e.onMouseMove.apply(e,arguments)}),onMouseleave:t[3]||(t[3]=function(){return e.onMouseLeave&&e.onMouseLeave.apply(e,arguments)})},[Object(a["Y"])((Object(a["E"])(),Object(a["l"])("img",{alt:n+1,key:n},null,8,g)),[[I,o.url]]),e.showPageNumFlag_ScrollMode?(Object(a["E"])(),Object(a["l"])("div",h,Object(a["Q"])(n+1)+"/"+Object(a["Q"])(e.book.all_page_num),1)):Object(a["k"])("",!0)],32)})),128)),Object(a["o"])(M,{initDrawerActive:this.drawerActive,initDrawerPlacement:this.drawerPlacement,onSaveConfig:this.saveConfigToCookie,onStartSketch:this.startSketchMode,onCloseDrawer:this.drawerDeactivate,onSetT:this.OnSetTemplate,nowTemplate:this.nowTemplate},{default:Object(a["X"])((function(){return[Object(a["m"])("span",null,Object(a["Q"])(e.$t("setBackColor")),1),Object(a["o"])(O,{value:e.model.color,"onUpdate:value":t[4]||(t[4]=function(t){return e.model.color=t}),modes:["rgb"],"show-alpha":!1},null,8,["value"]),Object(a["o"])(F),Object(a["o"])(_,{vertical:""},{default:Object(a["X"])((function(){return[c.imageWidth_usePercentFlag?(Object(a["E"])(),Object(a["j"])(k,{key:0,size:"small","show-button":!1,value:c.singlePageWidth_Percent,"onUpdate:value":t[5]||(t[5]=function(e){return c.singlePageWidth_Percent=e}),max:100,min:10,"update-value-on-input":!1},{prefix:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("singlePageWidth")),1)]})),suffix:Object(a["X"])((function(){return[d]})),_:1},8,["value"])):Object(a["k"])("",!0),c.imageWidth_usePercentFlag?(Object(a["E"])(),Object(a["j"])(v,{key:1,value:c.singlePageWidth_Percent,"onUpdate:value":t[6]||(t[6]=function(e){return c.singlePageWidth_Percent=e}),step:1,max:100,min:10,"format-tooltip":function(e){return"".concat(e,"%")}},null,8,["value","format-tooltip"])):Object(a["k"])("",!0),c.imageWidth_usePercentFlag?(Object(a["E"])(),Object(a["j"])(k,{key:2,size:"small","show-button":!1,value:c.doublePageWidth_Percent,"onUpdate:value":t[7]||(t[7]=function(e){return c.doublePageWidth_Percent=e}),max:100,min:10,"update-value-on-input":!1},{prefix:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("doublePageWidth")),1)]})),suffix:Object(a["X"])((function(){return[b]})),_:1},8,["value"])):Object(a["k"])("",!0),c.imageWidth_usePercentFlag?(Object(a["E"])(),Object(a["j"])(v,{key:3,value:c.doublePageWidth_Percent,"onUpdate:value":t[8]||(t[8]=function(e){return c.doublePageWidth_Percent=e}),step:1,max:100,min:10,"format-tooltip":function(e){return"".concat(e,"%")}},null,8,["value","format-tooltip"])):Object(a["k"])("",!0),c.imageWidth_usePercentFlag?Object(a["k"])("",!0):(Object(a["E"])(),Object(a["j"])(k,{key:4,size:"small","show-button":!1,value:c.singlePageWidth_PX,"onUpdate:value":t[9]||(t[9]=function(e){return c.singlePageWidth_PX=e}),max:c.imageMaxWidth,min:50,"update-value-on-input":!1},{prefix:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("singlePageWidth")),1)]})),suffix:Object(a["X"])((function(){return[m]})),_:1},8,["value","max"])),c.imageWidth_usePercentFlag?Object(a["k"])("",!0):(Object(a["E"])(),Object(a["j"])(v,{key:5,value:c.singlePageWidth_PX,"onUpdate:value":t[10]||(t[10]=function(e){return c.singlePageWidth_PX=e}),step:10,max:c.imageMaxWidth,min:50,"format-tooltip":function(e){return"".concat(e,"px")}},null,8,["value","max","format-tooltip"])),c.imageWidth_usePercentFlag?Object(a["k"])("",!0):(Object(a["E"])(),Object(a["j"])(k,{key:6,size:"small","show-button":!1,value:c.doublePageWidth_PX,"onUpdate:value":t[11]||(t[11]=function(e){return c.doublePageWidth_PX=e}),max:c.imageMaxWidth,min:50,"update-value-on-input":!1},{prefix:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("doublePageWidth")),1)]})),suffix:Object(a["X"])((function(){return[p]})),_:1},8,["value","max"])),c.imageWidth_usePercentFlag?Object(a["k"])("",!0):(Object(a["E"])(),Object(a["j"])(v,{key:7,value:c.doublePageWidth_PX,"onUpdate:value":t[12]||(t[12]=function(e){return c.doublePageWidth_PX=e}),step:10,max:c.imageMaxWidth,min:50,"format-tooltip":function(e){return"".concat(e,"px")}},null,8,["value","max","format-tooltip"]))]})),_:1}),f,Object(a["o"])(_,null,{default:Object(a["X"])((function(){return[Object(a["o"])(S,{size:"large",value:c.imageWidth_usePercentFlag,"onUpdate:value":[t[13]||(t[13]=function(e){return c.imageWidth_usePercentFlag=e}),c.setImageWidthUsePercentFlag],"rail-style":e.railStyle},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("width_usePercent")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("width_useFixedValue")),1)]})),_:1},8,["value","rail-style","onUpdate:value"])]})),_:1}),Object(a["o"])(F),Object(a["o"])(_,null,{default:Object(a["X"])((function(){return[Object(a["o"])(S,{size:"large",value:c.showHeaderFlag,"onUpdate:value":[t[14]||(t[14]=function(e){return c.showHeaderFlag=e}),e.setShowHeaderChange]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showHeader")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showHeader")),1)]})),_:1},8,["value","onUpdate:value"]),P]})),_:1}),Object(a["o"])(_,null,{default:Object(a["X"])((function(){return[Object(a["o"])(S,{size:"large",value:c.showPageNumFlag_ScrollMode,"onUpdate:value":[t[15]||(t[15]=function(e){return c.showPageNumFlag_ScrollMode=e}),e.setShowPageNumChange]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showPageNum")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showPageNum")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1})]})),_:1},8,["initDrawerActive","initDrawerPlacement","onSaveConfig","onStartSketch","onCloseDrawer","onSetT","nowTemplate"]),Object(a["o"])(N,{show:e.showBackTopFlag,type:"info",color:"#8a2be2",right:20,bottom:20},null,8,["show"]),Object(a["o"])(T,{onClick:t[16]||(t[16]=function(t){e.scrollToTop(90)}),size:"large",secondary:"",strong:""},{default:Object(a["X"])((function(){return[j]})),_:1})])):Object(a["k"])("",!0)}o("a9e3");var O=o("3519"),F=o("9ca1"),k=o("c872"),v=o("1623"),_=o("be01"),S=o("c678"),M=o("21e1"),N=o("a9d8"),T=o("86b0"),I={class:"header"},D=["href"],y=["href"];function W(e,t,o,n,l,i){var c=this,r=Object(a["N"])("book-outline"),s=Object(a["N"])("n-icon"),u=Object(a["N"])("n-ellipsis"),g=Object(a["N"])("n-space");return Object(a["E"])(),Object(a["l"])("header",I,[Object(a["o"])(s,{size:"40"},{default:Object(a["X"])((function(){return[Object(a["o"])(r)]})),_:1}),Object(a["o"])(g,null,{default:Object(a["X"])((function(){return[Object(a["o"])(u,{style:{"max-width":"60vw"}},{default:Object(a["X"])((function(){return[e.bookIsFolder?(Object(a["E"])(),Object(a["l"])("h2",{key:0,href:"raw/"+e.bookName},Object(a["Q"])(e.bookName),9,D)):Object(a["k"])("",!0),Object(a["m"])("h2",null,[c.bookIsFolder?Object(a["k"])("",!0):(Object(a["E"])(),Object(a["l"])("a",{key:0,href:"raw/"+e.bookName},Object(a["Q"])(e.bookName),9,y))])]})),_:1})]})),_:1}),Object(a["M"])(e.$slots,"default",{},void 0,!0)])}var x=o("df85"),H=o("c0f3"),C=o("ee5e"),X=Object(a["p"])({name:"Header",props:["bookIsFolder","bookName"],components:{NSpace:k["a"],NIcon:S["a"],NEllipsis:H["a"],BookOutline:C["a"]},setup:function(){var e=Object(x["a"])(),t=e.cookies;return{cookies:t}},data:function(){return{someflag:""}},methods:{}}),$=(o("758a"),o("6b0d")),L=o.n($);const E=L()(X,[["render",W],["__scopeId","data-v-4a2ec5ae"]]);var U=E;function A(e,t,o,n,l,i){var c=this,r=Object(a["N"])("n-avatar"),s=Object(a["N"])("n-radio-button"),u=Object(a["N"])("n-radio-group"),g=Object(a["N"])("n-space"),h=Object(a["N"])("n-divider"),d=Object(a["N"])("n-select"),b=Object(a["N"])("n-button"),m=Object(a["N"])("n-drawer-content"),p=Object(a["N"])("n-drawer");return Object(a["E"])(),Object(a["j"])(p,{show:e.drawerActive,"onUpdate:show":e.saveConfigToCookie,height:275,width:251,placement:e.drawerPlacement},{default:Object(a["X"])((function(){return[Object(a["o"])(m,{closable:""},{header:Object(a["X"])((function(){return[Object(a["m"])("span",null,Object(a["Q"])(e.$t("ReaderSettings")),1),Object(a["o"])(r,{size:"small",src:"/favicon.ico"})]})),footer:Object(a["X"])((function(){return[Object(a["o"])(d,{placeholder:"select language",value:c.$i18n.locale,"onUpdate:value":[t[1]||(t[1]=function(e){return c.$i18n.locale=e}),e.OnChangeLanguage],options:c.languageOptions},null,8,["value","options","onUpdate:value"]),"flip"==e.nowTemplate||"scroll"==e.nowTemplate?(Object(a["E"])(),Object(a["j"])(b,{key:0,onClick:e.startSketchMode},{default:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("startSketchMode")),1)]})),_:1},8,["onClick"])):Object(a["k"])("",!0),"sketch"==e.nowTemplate?(Object(a["E"])(),Object(a["j"])(b,{key:1,onClick:e.stopSketchMode},{default:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("stopSketchMode")),1)]})),_:1},8,["onClick"])):Object(a["k"])("",!0)]})),default:Object(a["X"])((function(){return[Object(a["o"])(g,null,{default:Object(a["X"])((function(){return[Object(a["o"])(u,{value:e.nowTemplateLocal,"onUpdate:value":t[0]||(t[0]=function(t){return e.nowTemplateLocal=t})},{default:Object(a["X"])((function(){return[Object(a["o"])(s,{checked:"scroll"===e.nowTemplateLocal,onChange:e.onChangeTemplate,value:"scroll",name:"basic-demo"},{default:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("scroll_mode")),1)]})),_:1},8,["checked","onChange"]),Object(a["o"])(s,{checked:"flip"===e.nowTemplateLocal,onChange:e.onChangeTemplate,value:"flip",name:"basic-demo"},{default:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("flip_mode")),1)]})),_:1},8,["checked","onChange"])]})),_:1},8,["value"])]})),_:1}),Object(a["o"])(h),Object(a["M"])(e.$slots,"default")]})),_:3})]})),_:3},8,["show","onUpdate:show","placement"])}var Q=o("9e27"),B=o("f0c5"),z=o("8e88"),R=o("cdfb"),Y=o("9c03"),J=o("7baf"),V=Object(a["p"])({name:"Drawer",props:["book","initDrawerActive","initDrawerPlacement","nowTemplate"],emits:["setT","saveConfig","startSketch","stopSketch","closeDrawer"],components:{NDrawer:Q["a"],NDrawerContent:B["a"],NSpace:k["a"],NDivider:N["a"],NRadioGroup:z["a"],NRadioButton:R["a"],NButton:O["a"],NAvatar:Y["a"],NSelect:J["a"]},setup:function(){var e=Object(x["a"])(),t=e.cookies;return{cookies:t,languageOptions:[{label:"English",value:"en"},{label:"日本語",value:"ja"},{label:"中文",value:"zh"}]}},data:function(){return{someflag:"",nowTemplateLocal:""}},beforeMount:function(){var e=this.cookies.get("userLanguageSetting");e&&(this.$i18n.locale=e),this.nowTemplateLocal=this.nowTemplate},computed:{drawerActive:function(){return this.initDrawerActive},drawerPlacement:function(){return this.initDrawerPlacement}},methods:{OnChangeLanguage:function(e){this.cookies.set("userLanguageSetting",e)},saveConfigToCookie:function(e){0==e&&(this.$emit("closeDrawer"),this.$emit("saveConfig"))},startSketchMode:function(){this.$emit("startSketch")},stopSketchMode:function(){this.$emit("stopSketch")},onChangeTemplate:function(){"scroll"===this.nowTemplateLocal&&this.$emit("setT","scroll"),"flip"===this.nowTemplateLocal&&this.$emit("setT","flip"),"sketch"===this.nowTemplateLocal&&this.$emit("setT","sketch")}}});const K=L()(V,[["render",A]]);var Z=K,G=o("e9ce"),q=Object(a["p"])({name:"ScrollMode",props:["book","nowTemplate"],emits:["setTemplate"],components:{Header:U,Drawer:Z,NButton:O["a"],NBackTop:F["a"],NSpace:k["a"],NSlider:v["a"],NSwitch:_["a"],NIcon:S["a"],NInputNumber:M["a"],SettingsOutline:G["a"],NDivider:N["a"],NColorPicker:T["b"]},setup:function(){var e=Object(x["a"])(),t=e.cookies,o=Object(a["I"])({color:"#E0D9CD"});return{cookies:t,model:o,railStyle:function(e){var t=e.focused,o=e.checked,a={};return o?(a.background="#d03050",t&&(a.boxShadow="0 0 0 2px #d0305040")):(a.background="#2080f0",t&&(a.boxShadow="0 0 0 2px #2080f040")),a},marks:{30:"25%",50:"50%",75:"75%",95:"95%"}}},data:function(){return{drawerActive:!1,drawerPlacement:"right",debugModeFlag:!0,showHeaderFlag:!0,showPageNumFlag_ScrollMode:!1,showBackTopFlag:!1,scrollDownFlag:!1,scrollTopSave:0,syncScrollFlag:!1,clickX:0,clickY:0,isLandscapeMode:!0,isPortraitMode:!1,imageMaxWidth:10,aspectRatio:1.2,imageWidth_usePercentFlag:!1,singlePageWidth_Percent:50,doublePageWidth_Percent:95,singlePageWidth_PX:720,doublePageWidth_PX:1080,clientWidth:0,clientHeight:0}},created:function(){if(window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),this.imageMaxWidth=window.innerWidth,"true"===localStorage.getItem("showHeaderFlag")?this.showHeaderFlag=!0:"false"===localStorage.getItem("showHeaderFlag")&&(this.showHeaderFlag=!1),"true"===localStorage.getItem("showPageNumFlag_ScrollMode")?this.showPageNumFlag_ScrollMode=!0:"false"===localStorage.getItem("showPageNumFlag_ScrollMode")&&(this.showPageNumFlag_ScrollMode=!1),"true"===localStorage.getItem("imageWidth_usePercentFlag")?this.imageWidth_usePercentFlag=!0:"false"===localStorage.getItem("imageWidth_usePercentFlag")&&(this.imageWidth_usePercentFlag=!1),null!=localStorage.getItem("singlePageWidth_Percent")){var e=Number(localStorage.getItem("singlePageWidth_Percent"));isNaN(e)||(this.singlePageWidth_Percent=e)}if(null!=localStorage.getItem("doublePageWidth_Percent")){var t=Number(localStorage.getItem("doublePageWidth_Percent"));isNaN(t)||(this.doublePageWidth_Percent=t)}if(null!=localStorage.getItem("singlePageWidth_PX")){var o=Number(localStorage.getItem("singlePageWidth_PX"));isNaN(o)||(this.singlePageWidth_PX=o)}if(null!=localStorage.getItem("doublePageWidth_PX")){var a=Number(localStorage.getItem("doublePageWidth_PX"));isNaN(a)||(this.doublePageWidth_PX=a)}null!=localStorage.getItem("ScrollModeDefaultColor")&&(this.model.color=localStorage.getItem("ScrollModeDefaultColor"))},beforeMount:function(){},onMounted:function(){this.isLandscapeMode=this.inLandscapeModeCheck(),this.isPortraitMode=!this.inLandscapeModeCheck(),this.$nextTick((function(){}))},beforeUnmount:function(){window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize)},methods:{drawerActivate:function(e){this.drawerActive=!0,this.drawerPlacement=e},drawerDeactivate:function(){this.drawerActive=!1},startSketchMode:function(){this.$emit("setTemplate","sketch")},OnSetTemplate:function(e){this.$emit("setTemplate",e)},saveConfigToCookie:function(){localStorage.setItem("showHeaderFlag",this.showHeaderFlag),localStorage.setItem("showPageNumFlag_ScrollMode",this.showPageNumFlag_ScrollMode),localStorage.setItem("imageWidth_usePercentFlag",this.imageWidth_usePercentFlag),localStorage.setItem("singlePageWidth_Percent",this.singlePageWidth_Percent),localStorage.setItem("doublePageWidth_Percent",this.doublePageWidth_Percent),localStorage.setItem("singlePageWidth_PX",this.singlePageWidth_PX),localStorage.setItem("doublePageWidth_PX",this.doublePageWidth_PX),localStorage.setItem("ScrollModeDefaultColor",this.model.color)},setShowHeaderChange:function(e){console.log("value:"+e),this.showHeaderFlag=e,localStorage.setItem("showHeaderFlag",e),console.log("cookie设置完毕: showHeaderFlag="+localStorage.getItem("showHeaderFlag"))},setShowPageNumChange:function(e){console.log("value:"+e),this.showPageNumFlag_ScrollMode=e,localStorage.setItem("showPageNumFlag_ScrollMode",e),console.log("cookie设置完毕: showPageNumFlag_ScrollMode="+localStorage.getItem("showPageNumFlag_ScrollMode"))},setImageWidthUsePercentFlag:function(e){console.log("value:"+e),this.imageWidth_usePercentFlag=e,localStorage.setItem("imageWidth_usePercentFlag",e),console.log("cookie设置完毕: imageWidth_usePercentFlag="+this.imageWidth_usePercentFlag)},onResize:function(){this.imageMaxWidth=window.innerWidth,this.clientWidth=document.documentElement.clientWidth,this.clientHeight=document.documentElement.clientHeight,this.aspectRatio=this.clientWidth/this.clientHeight,this.aspectRatio>1?(this.isLandscapeMode=!0,this.isPortraitMode=!1):(this.isLandscapeMode=!1,this.isPortraitMode=!0)},onScroll:function(){var e=document.documentElement.scrollTop||document.body.scrollTop;this.scrollDownFlag=e>this.scrollTopSave;var t=Math.abs(this.scrollTopSave-e);this.scrollTopSave=e,t>5&&(this.showBackTopFlag=e>400&&!this.scrollDownFlag)},onMouseClick:function(e){this.clickX=e.x,this.clickY=e.y;var t=window.innerWidth,o=window.innerHeight,a=.4*t,n=.6*t,l=.4*o,i=.6*o;this.clickX>a&&this.clickX<n&&this.clickY>l&&this.clickY<i&&this.drawerActivate("right")},onMouseMove:function(e){this.clickX=e.x,this.clickY=e.y;var t=window.innerWidth,o=window.innerHeight,a=.4*t,n=.6*t,l=.4*o,i=.6*o;this.clickX>a&&this.clickX<n&&this.clickY>l&&this.clickY<i?e.currentTarget.style.cursor="url(/images/SettingsOutline.png), pointer":e.currentTarget.style.cursor=""},onMouseLeave:function(e){e.currentTarget.style.cursor=""},scrollToTop:function(e){var t=-window.scrollY/(e/15),o=setInterval((function(){0!==window.scrollY?window.scrollBy(0,t):clearInterval(o)}),15)},inLandscapeModeCheck:function(){return this.aspectRatio=window.innerWidth/window.innerHeight,this.aspectRatio>1}},computed:{sPWL:function(){return this.imageWidth_usePercentFlag?this.singlePageWidth_Percent+"%":this.singlePageWidth_PX+"px"},dPWL:function(){return this.imageWidth_usePercentFlag?this.doublePageWidth_Percent+"%":this.doublePageWidth_PX+"px"},sPWP:function(){return this.imageWidth_usePercentFlag?this.singlePageWidth_Percent+"%":this.singlePageWidth_PX+"px"},dPWP:function(){return this.imageWidth_usePercentFlag?this.doublePageWidth_Percent+"%":this.doublePageWidth_PX+"px"}}}),ee=function(){Object(a["T"])((function(e){return{"1341cab0":e.model.color,de945270:e.sPWL,dea1f592:e.dPWL,de945268:e.sPWP,dea1f58a:e.dPWP}}))},te=q.setup;q.setup=te?function(e,t){return ee(),te(e,t)}:ee;var oe=q;o("d18a");const ae=L()(oe,[["render",w],["__scopeId","data-v-1dce601b"]]);var ne=ae,le={key:0,class:"body"},ie={class:"manga_area_img_div"},ce=["src","alt"],re=["src","alt"],se=["src","alt"],ue={key:0,class:"sketch_hint"},ge={key:1,class:"footer"},he={key:0},de={key:1};function be(e,t,o,n,l,i){var c=this,r=Object(a["N"])("settings-outline"),s=Object(a["N"])("n-icon"),u=Object(a["N"])("Header"),g=Object(a["N"])("n-slider"),h=Object(a["N"])("n-color-picker"),d=Object(a["N"])("n-divider"),b=Object(a["N"])("n-switch"),m=Object(a["N"])("n-space"),p=Object(a["N"])("n-input-number"),f=Object(a["N"])("Drawer");return Object(a["E"])(),Object(a["l"])(a["b"],null,[this.book?(Object(a["E"])(),Object(a["l"])("div",le,[this.showHeaderFlag_FlipMode?(Object(a["E"])(),Object(a["j"])(u,{key:0,class:"header",bookIsFolder:e.book.IsFolder,bookName:e.book.name},{default:Object(a["X"])((function(){return[Object(a["o"])(s,{size:"40",onClick:t[0]||(t[0]=function(t){return e.drawerActivate("right")})},{default:Object(a["X"])((function(){return[Object(a["o"])(r)]})),_:1})]})),_:1},8,["bookIsFolder","bookName"])):Object(a["k"])("",!0),Object(a["m"])("div",{class:"manga_area",id:"MangaMain",onClick:t[1]||(t[1]=Object(a["Z"])((function(){return e.onMouseClick&&e.onMouseClick.apply(e,arguments)}),["stop"])),onMousemove:t[2]||(t[2]=Object(a["Z"])((function(){return e.onMouseMove&&e.onMouseMove.apply(e,arguments)}),["stop"])),onMouseleave:t[3]||(t[3]=Object(a["Z"])((function(){return e.onMouseLeave&&e.onMouseLeave.apply(e,arguments)}),["stop"]))},[Object(a["m"])("div",ie,[Object(a["m"])("img",{src:this.book.pages[e.nowPageNum-1].url,alt:e.nowPageNum},null,8,ce),!this.autoDoublePageModeFlag&&this.simpleDoublePageModeFlag&&this.nowPageNum<this.book.all_page_num?(Object(a["E"])(),Object(a["l"])("img",{key:0,src:this.book.pages[e.nowPageNum].url,alt:e.nowPageNum+1},null,8,re)):Object(a["k"])("",!0),this.autoDoublePageModeFlag&&this.nowPageNum<this.book.all_page_num&&this.nowAndNextPageIsSingle()?(Object(a["E"])(),Object(a["l"])("img",{key:1,src:this.book.pages[e.nowPageNum].url,alt:e.nowPageNum+1},null,8,se)):Object(a["k"])("",!0)]),this.showPageHintFlag_FlipMode?(Object(a["E"])(),Object(a["l"])("div",ue,Object(a["Q"])(e.pageNumOrSketchHint),1)):Object(a["k"])("",!0)],32),this.showFooterFlag_FlipMode?(Object(a["E"])(),Object(a["l"])("div",ge,[this.rightToLeftFlag?(Object(a["E"])(),Object(a["l"])("div",he,[Object(a["m"])("span",null,Object(a["Q"])(this.nowPageNum),1),Object(a["o"])(g,{value:e.nowPageNum,"onUpdate:value":[t[4]||(t[4]=function(t){return e.nowPageNum=t}),this.saveNowPageNumOnUpdate],max:this.book.all_page_num,min:1,step:1,"format-tooltip":function(e){return"".concat(e)}},null,8,["value","max","format-tooltip","onUpdate:value"]),Object(a["m"])("span",null,Object(a["Q"])(this.book.all_page_num),1)])):Object(a["k"])("",!0),this.rightToLeftFlag?Object(a["k"])("",!0):(Object(a["E"])(),Object(a["l"])("div",de,[Object(a["m"])("span",null,Object(a["Q"])(this.book.all_page_num),1),Object(a["o"])(g,{reverse:"",value:e.nowPageNum,"onUpdate:value":[t[5]||(t[5]=function(t){return e.nowPageNum=t}),this.saveNowPageNumOnUpdate],max:this.book.all_page_num,min:1,step:1,"format-tooltip":function(e){return"".concat(e)}},null,8,["value","max","format-tooltip","onUpdate:value"]),Object(a["m"])("span",null,Object(a["Q"])(this.nowPageNum),1)]))])):Object(a["k"])("",!0)])):Object(a["k"])("",!0),Object(a["o"])(f,{initDrawerActive:this.drawerActive,initDrawerPlacement:this.drawerPlacement,onSaveConfig:this.saveConfigToCookie,onStartSketch:this.startSketchMode,onStopSketch:this.stopSketchMode,onCloseDrawer:this.drawerDeactivate,onSetT:e.OnSetTemplate,nowTemplate:this.nowTemplate},{default:Object(a["X"])((function(){return[Object(a["m"])("span",null,Object(a["Q"])(e.$t("setBackColor")),1),Object(a["o"])(h,{value:e.model.color,"onUpdate:value":t[6]||(t[6]=function(t){return e.model.color=t}),modes:["rgb"],"show-alpha":!1},null,8,["value"]),Object(a["o"])(d),Object(a["o"])(m,null,{default:Object(a["X"])((function(){return[Object(a["o"])(b,{size:"large",value:c.showHeaderFlag_FlipMode,"onUpdate:value":[t[7]||(t[7]=function(e){return c.showHeaderFlag_FlipMode=e}),e.setShowHeaderChange]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showHeader")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showHeader")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1}),Object(a["o"])(m,null,{default:Object(a["X"])((function(){return[Object(a["o"])(b,{size:"large",value:c.showFooterFlag_FlipMode,"onUpdate:value":[t[8]||(t[8]=function(e){return c.showFooterFlag_FlipMode=e}),e.setShowFooterFlagChange]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("readingProgressBar")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("readingProgressBar")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1}),Object(a["o"])(m,null,{default:Object(a["X"])((function(){return[Object(a["o"])(b,{size:"large",value:c.showPageHintFlag_FlipMode,"onUpdate:value":[t[9]||(t[9]=function(e){return c.showPageHintFlag_FlipMode=e}),e.setShowPageNumChange]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showPageNum")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showPageNum")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1}),Object(a["o"])(d),Object(a["o"])(m,null,{default:Object(a["X"])((function(){return[Object(a["o"])(b,{size:"large",value:c.saveNowPageNumFlag_FlipMode,"onUpdate:value":[t[10]||(t[10]=function(e){return c.saveNowPageNumFlag_FlipMode=e}),c.setSavePageNumFlag]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("savePageNum")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("savePageNum")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1}),Object(a["o"])(m,null,{default:Object(a["X"])((function(){return[Object(a["o"])(b,{size:"large",value:c.rightToLeftFlag,"onUpdate:value":[t[11]||(t[11]=function(e){return c.rightToLeftFlag=e}),c.setFlipScreenFlag],"rail-style":e.railStyle},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("rightScreenToNext")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("leftScreenToNext")),1)]})),_:1},8,["value","rail-style","onUpdate:value"])]})),_:1}),Object(a["o"])(m,null,{default:Object(a["X"])((function(){return[Object(a["o"])(b,{size:"large",value:c.simpleDoublePageModeFlag,"onUpdate:value":[t[12]||(t[12]=function(e){return c.simpleDoublePageModeFlag=e}),c.setSimpleDoublePage_FlipMode]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("simpleDoublePage")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("simpleDoublePage")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1}),Object(a["o"])(d),Object(a["o"])(m,null,{default:Object(a["X"])((function(){return[Object(a["o"])(b,{size:"large",value:c.debugModeFlag,"onUpdate:value":[t[13]||(t[13]=function(e){return c.debugModeFlag=e}),c.setDebugModeFlag]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("debugMode")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("debugMode")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1}),c.debugModeFlag?(Object(a["E"])(),Object(a["j"])(m,{key:0},{default:Object(a["X"])((function(){return[Object(a["o"])(b,{size:"large",value:c.autoDoublePageModeFlag,"onUpdate:value":[t[14]||(t[14]=function(e){return c.autoDoublePageModeFlag=e}),c.setAutoDoublePage_FlipMode]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("autoDoublePage")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("autoDoublePage")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1})):Object(a["k"])("",!0),"sketch"==c.nowTemplate?(Object(a["E"])(),Object(a["j"])(d,{key:1})):Object(a["k"])("",!0),"sketch"==c.nowTemplate?(Object(a["E"])(),Object(a["j"])(p,{key:2,size:"small","show-button":!1,value:c.sketchFlipSecond,"onUpdate:value":[t[15]||(t[15]=function(e){return c.sketchFlipSecond=e}),c.resetSketchSecondCount],max:65535,min:1,"update-value-on-input":!1},{prefix:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("pageTurningSeconds")),1)]})),suffix:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("second")),1)]})),_:1},8,["value","onUpdate:value"])):Object(a["k"])("",!0),"sketch"==c.nowTemplate?(Object(a["E"])(),Object(a["j"])(g,{key:3,value:c.sketchFlipSecond,"onUpdate:value":[t[16]||(t[16]=function(e){return c.sketchFlipSecond=e}),c.resetSketchSecondCount],step:1,max:120,min:1,marks:e.marks,"format-tooltip":function(e){return"".concat(e,"s")}},null,8,["value","marks","format-tooltip","onUpdate:value"])):Object(a["k"])("",!0)]})),_:1},8,["initDrawerActive","initDrawerPlacement","onSaveConfig","onStartSketch","onStopSketch","onCloseDrawer","onSetT","nowTemplate"])],64)}var me=o("73170"),pe=Object(a["p"])({name:"FlipMode",props:["book","nowTemplate"],emits:["setTemplate"],components:{Header:U,Drawer:Z,NSpace:k["a"],NSlider:v["a"],NSwitch:_["a"],NIcon:S["a"],SettingsOutline:G["a"],NColorPicker:T["b"],NDivider:N["a"],NInputNumber:M["a"]},setup:function(){var e=Object(x["a"])(),t=e.cookies,o=Object(a["I"])({color:"#E0D9CD"}),n=Object(me["a"])();return{message:n,model:o,cookies:t,railStyle:function(e){var t=e.focused,o=e.checked,a={};return o?(a.background="#18a058",t&&(a.boxShadow="0 0 0 2px #d0305040")):(a.background="#2080f0",t&&(a.boxShadow="0 0 0 2px #2080f040")),a},marks:{30:"30",60:"60",90:"90",120:"120"}}},data:function(){return{drawerActive:!1,drawerPlacement:"right",debugModeFlag:!0,showHeaderFlag_FlipMode:!0,showFooterFlag_FlipMode:!0,rightToLeftFlag:!0,simpleDoublePageModeFlag:!1,autoDoublePageModeFlag:!1,saveNowPageNumFlag_FlipMode:!0,nowPageNum:1,sketchModeFlag:!1,showPageHintFlag_FlipMode:!1,sketchFlipSecond:30,sketchSecondCount:0,interval:null,nowPageIsDouble:!1,nextPageIsDouble:!1,nowAndNextPageIsSingleFlag:!0}},created:function(){if("true"==localStorage.getItem("debugModeFlag")?this.debugModeFlag=!0:"false"==localStorage.getItem("debugModeFlag")&&(this.debugModeFlag=!1),"true"==localStorage.getItem("showHeaderFlag_FlipMode")?this.showHeaderFlag_FlipMode=!0:"false"==localStorage.getItem("showHeaderFlag_FlipMode")&&(this.showHeaderFlag_FlipMode=!1),"true"==localStorage.getItem("showFooterFlag_FlipMode_FlipMode")?this.showFooterFlag_FlipMode=!0:"false"==localStorage.getItem("showFooterFlag_FlipMode_FlipMode")&&(this.showFooterFlag_FlipMode=!1),"true"==localStorage.getItem("showPageHintFlag_FlipMode")?this.showPageHintFlag_FlipMode=!0:"false"==localStorage.getItem("showPageHintFlag_FlipMode")&&(this.showPageHintFlag_FlipMode=!1),"true"==localStorage.getItem("rightToLeftFlag")?this.rightToLeftFlag=!0:"false"==localStorage.getItem("rightToLeftFlag")&&(this.rightToLeftFlag=!1),"true"==localStorage.getItem("simpleDoublePageModeFlag")?this.simpleDoublePageModeFlag=!0:"false"==localStorage.getItem("simpleDoublePageModeFlag")&&(this.simpleDoublePageModeFlag=!1),"true"==localStorage.getItem("autoDoublePageModeFlag")?this.autoDoublePageModeFlag=!0:"false"==localStorage.getItem("autoDoublePageModeFlag")&&(this.autoDoublePageModeFlag=!1),"true"==localStorage.getItem("saveNowPageNumFlag_FlipMode")?this.saveNowPageNumFlag_FlipMode=!0:"false"==localStorage.getItem("saveNowPageNumFlag_FlipMode")&&(this.saveNowPageNumFlag_FlipMode=!1),null!=localStorage.getItem("FlipModeDefaultColor")&&(this.model.color=localStorage.getItem("FlipModeDefaultColor")),null!=localStorage.getItem("sketchFlipSecond")){var e=Number(localStorage.getItem("sketchFlipSecond"));isNaN(e)||(this.sketchFlipSecond=e)}},beforeMount:function(){window.addEventListener("keyup",this.handleKeyup),"sketch"==this.nowTemplate&&this.startSketchMode()},beforeUnmount:function(){window.removeEventListener("keyup",this.handleKeyup)},mounted:function(){setTimeout(this.setNowPageNumByCookie,500)},updated:function(){},methods:{nowAndNextPageIsSingle:function(){return this.nowPageIsDouble=this.checkImageIsDoublePage_byPageNum(this.nowPageNum),this.nextPageIsDouble=this.checkImageIsDoublePage_byPageNum(this.nowPageNum+1),this.nowPageIsDouble||this.nextPageIsDouble?(this.nowAndNextPageIsSingleFlag=!1,!1):(this.nowAndNextPageIsSingleFlag=!1,!0)},setNowPageNumByCookie:function(){if(this.saveNowPageNumFlag_FlipMode){var e=localStorage.getItem("nowPageNum"+this.book.uuid);if(null!=e){var t=Number(e);isNaN(t)?console.log("读取页数失败，this.nowPageNum="+this.nowPageNum):this.nowPageNum=t}else console.log("cookie里面没找到:nowPageNum"+this.book.uuid)}},OnSetTemplate:function(e){this.$emit("setTemplate",e)},drawerActivate:function(e){this.drawerActive=!0,this.drawerPlacement=e},drawerDeactivate:function(){this.drawerActive=!1},startSketchMode:function(){this.message.success(this.$t("startSketchMessage")),this.drawerActive=!1,this.sketchModeFlag=!0,this.showPageHintFlag_FlipMode=!0,this.showHeaderFlag_FlipMode=!1,this.showFooterFlag_FlipMode=!1,this.$emit("setTemplate","sketch"),this.interval=setInterval(this.sketchCount,1e3)},resetSketchSecondCount:function(){this.sketchSecondCount=0},stopSketchMode:function(){this.message.success(this.$t("goodjob_and_byebye")),this.sketchModeFlag=!1,this.showPageHintFlag_FlipMode=!1,this.sketchSecondCount=0,this.showHeaderFlag_FlipMode=!0,this.showFooterFlag_FlipMode=!0,this.$emit("setTemplate","flip"),clearInterval(this.interval)},sketchCount:function(){0!=this.sketchModeFlag&&"sketch"==this.nowTemplate||this.stopSketchMode(),this.sketchSecondCount=this.sketchSecondCount+1;var e=this.sketchSecondCount%this.sketchFlipSecond;0==e&&(this.nowPageNum<this.book.all_page_num?this.flipPage(1):this.toPage(1))},saveConfigToCookie:function(){localStorage.setItem("debugModeFlag",this.debugModeFlag),localStorage.setItem("showHeaderFlag_FlipMode",this.showHeaderFlag_FlipMode),localStorage.setItem("showFooterFlag_FlipMode",this.showFooterFlag_FlipMode),localStorage.setItem("showPageHintFlag_FlipMode",this.showPageHintFlag_FlipMode),localStorage.setItem("rightToLeftFlag",this.rightToLeftFlag),localStorage.setItem("simpleDoublePageModeFlag",this.simpleDoublePageModeFlag),localStorage.setItem("autoDoublePageModeFlag",this.autoDoublePageModeFlag),localStorage.setItem("saveNowPageNumFlag_FlipMode",this.saveNowPageNumFlag_FlipMode),localStorage.setItem("nowPageNum"+this.book.uuid,this.nowPageNum),localStorage.setItem("FlipModeDefaultColor",this.model.color),localStorage.setItem("sketchFlipSecond",this.sketchFlipSecond)},randomBackgroundColor:function(){var e=Math.ceil(155*Math.random())+100,t=Math.ceil(155*Math.random())+100,o=Math.ceil(100*Math.random())+100,a="rgb("+e+","+t+","+o+")";this.model.color=a},onMouseOver:function(){},onMouseEnter:function(){},onMouseLeave:function(e){e.currentTarget.style.cursor=""},onMouseMove:function(e){var t=e.x,o=e.y,a=window.innerWidth,n=window.innerHeight,l=.4*a,i=.6*a,c=.4*n,r=.6*n;t>l&&t<i&&o>c&&o<r?e.currentTarget.style.cursor="url(/images/SettingsOutline.png), pointer":t<.5*a?this.rightToLeftFlag&&1==this.nowPageNum?e.currentTarget.style.cursor="url(/images/Prohibited28Filled.png), pointer":this.rightToLeftFlag||this.nowPageNum!=this.book.all_page_num?e.currentTarget.style.cursor="url(/images/ArrowLeft.png), pointer":e.currentTarget.style.cursor="url(/images/Prohibited28Filled.png), pointer":this.rightToLeftFlag&&this.nowPageNum==this.book.all_page_num?e.currentTarget.style.cursor="url(/images/Prohibited28Filled.png), pointer":this.rightToLeftFlag||1!=this.nowPageNum?e.currentTarget.style.cursor="url(/images/ArrowRight.png), pointer":e.currentTarget.style.cursor="url(/images/Prohibited28Filled.png), pointer"},onMouseClick:function(e){var t=e.x,o=e.y,a=window.innerHeight,n=window.innerWidth,l=.4*n,i=.6*n,c=.4*a,r=.6*a;t>l&&t<i&&o>c&&o<r?this.drawerActivate("right"):t<=a/2?this.rightToLeftFlag?this.toPerviousPage():this.toNextPage():this.rightToLeftFlag?this.toNextPage():this.toPerviousPage()},toNextPage:function(){if(this.simpleDoublePageModeFlag)return this.nowPageNum<this.book.all_page_num-1?void this.flipPage(2):void this.flipPage(1);this.autoDoublePageModeFlag&&this.checkMergedStatus_ByPageNum(this.nowPageNum)&&this.nowPageNum<this.book.all_page_num-1?this.flipPage(2):this.flipPage(1)},toPerviousPage:function(){if(this.nowPageNum<=1)console.log("Error toPerviousPage");else{if(this.simpleDoublePageModeFlag)return this.nowPageNum-2>0?void this.flipPage(-2):void this.flipPage(-1);if(2!=this.nowPageNum&&this.autoDoublePageModeFlag){var e=this.checkImageIsDoublePage_byPageNum(this.nowPageNum-1);if(e)this.flipPage(-1);else{var t=this.checkImageIsDoublePage_byPageNum(this.nowPageNum-2);t?this.flipPage(-1):this.flipPage(-2)}}else this.flipPage(-1)}},checkMergedStatus_ByPageNum:function(e){if(!this.autoDoublePageModeFlag)return!1;if(e<=0||e>=this.book.all_page_num)return console.log("Error pageNum :"+e),!1;if(e==this.book.all_page_num)return!1;var t=this.checkImageIsDoublePage_byPageNum(e),o=this.checkImageIsDoublePage_byPageNum(e+1);return!(t||o)},checkImageIsDoublePage_byPageNum:function(e){if(!(e<=0||e>this.book.all_page_num)){if("SinglePage"==this.book.pages[e-1].image_type)return!1;if("DoublePage"==this.book.pages[e-1].image_type)return!0;var t=new Image,o=!1;return t.src=this.book.pages[e-1].url,t.complete?t.width>=t.height:(t.onload=function(){t.width<t.height?(t.onload=null,o=!1):(t.onload=null,o=!0)},o)}console.log("Error checkImageIsDoublePage_byPageNum:"+e)},flipPage:function(e){this.nowPageNum+e<=this.book.all_page_num&&this.nowPageNum+e>=1?this.nowPageNum=this.nowPageNum+e:e>0?this.message.info(this.$t("hintLastPage")):this.message.info(this.$t("hintFirstPage")),this.saveNowPageNumOnUpdate(this.nowPageNum)},saveNowPageNumOnUpdate:function(e){this.saveNowPageNumFlag_FlipMode&&localStorage.setItem("nowPageNum"+this.book.uuid,e)},toPage:function(e){e<=this.book.all_page_num&&e>=1&&(this.nowPageNum=e),this.saveNowPageNumFlag_FlipMode&&localStorage.setItem("nowPageNum"+this.book.uuid,this.nowPageNum)},handleKeyup:function(e){var t=e||window.event;if(t)switch(t.key){case"ArrowUp":case"PageUp":case"ArrowLeft":this.flipPage(-1);break;case"Space":case"ArrowDown":case"PageDown":case"ArrowRight":this.flipPage(1);break;case"Home":this.toPage(1);break;case"End":this.toPage(this.book.all_page_num);break;case"Ctrl":break}},setShowHeaderChange:function(e){console.log("value:"+e),this.showHeaderFlag_FlipMode=e,localStorage.setItem("showHeaderFlag_FlipMode",e),console.log("cookie设置完毕: showHeaderFlag_FlipMode="+localStorage.getItem("showHeaderFlag_FlipMode"))},setShowFooterFlagChange:function(e){console.log("value:"+e),this.showFooterFlag_FlipMode=e,localStorage.setItem("showFooterFlag_FlipMode",e),console.log("cookie设置完毕: showFooterFlag_FlipMode="+localStorage.getItem("showFooterFlag_FlipMode"))},setShowPageNumChange:function(e){console.log("value:"+e),this.showPageHintFlag_FlipMode=e,localStorage.setItem("showPageHintFlag_FlipMode",e),console.log("cookie设置完毕: showPageHintFlag_FlipMode="+localStorage.getItem("showPageHintFlag_FlipMode"))},setFlipScreenFlag:function(e){console.log("value:"+e),this.rightToLeftFlag=e,localStorage.setItem("rightToLeftFlag",e),console.log("cookie设置完毕: rightToLeftFlag="+localStorage.getItem("rightToLeftFlag"))},setSavePageNumFlag:function(e){console.log("value:"+e),this.saveNowPageNumFlag_FlipMode=e,localStorage.setItem("saveNowPageNumFlag_FlipMode",e),console.log("cookie设置完毕: saveNowPageNumFlag_FlipMode="+localStorage.getItem("saveNowPageNumFlag_FlipMode"))},setDebugModeFlag:function(e){console.log("value:"+e),this.debugModeFlag=e,0==e&&(this.autoDoublePageModeFlag=!1),localStorage.setItem("debugModeFlag",e),console.log("cookie设置完毕: debugModeFlag="+localStorage.getItem("debugModeFlag"))},setAutoDoublePage_FlipMode:function(e){console.log("value:"+e),this.autoDoublePageModeFlag=e,1==e&&(this.simpleDoublePageModeFlag=!1),localStorage.setItem("autoDoublePageModeFlag",e),console.log("cookie设置完毕: autoDoublePageModeFlag="+localStorage.getItem("autoDoublePageModeFlag"))},setSimpleDoublePage_FlipMode:function(e){console.log("value:"+e),this.simpleDoublePageModeFlag=e,1==e&&(this.autoDoublePageModeFlag=!1),localStorage.setItem("simpleDoublePageModeFlag",e),console.log("cookie设置完毕: simpleDoublePageModeFlag="+localStorage.getItem("simpleDoublePageModeFlag"))}},computed:{pageNumOrSketchHint:function(){if(this.sketchModeFlag){var e=this.sketchSecondCount%this.sketchFlipSecond+1,t=parseInt(this.sketchSecondCount/this.sketchFlipSecond),o=parseInt((this.sketchSecondCount+1)/60),a="";a=0==parseInt(o/60)?o+this.$t("minute"):parseInt(o/60)+this.$t("hour")+o%60+this.$t("minute");var n=a+(this.sketchSecondCount+1)%60+this.$t("second");return this.$t("now_is")+e+this.$t("second")+"  "+this.$t("total_is")+t+this.$t("page")+"  "+this.$t("totalTime")+n+"  "+this.$t("interval")+this.sketchFlipSecond+this.$t("second")}return this.nowPageNum+"/"+this.book.all_page_num},mangaAreaHeight:function(){var e=95;return this.showFooterFlag_FlipMode&&this.showHeaderFlag_FlipMode&&(e=95),this.showFooterFlag_FlipMode&&!this.showHeaderFlag_FlipMode&&(e=95),!this.showFooterFlag_FlipMode&&this.showHeaderFlag_FlipMode&&(e=95),this.showFooterFlag_FlipMode||this.showHeaderFlag_FlipMode||(e=100),e+"vh"},mangaImageHeight:function(){var e=95;return this.showFooterFlag_FlipMode&&this.showHeaderFlag_FlipMode&&(e=95),this.showFooterFlag_FlipMode&&!this.showHeaderFlag_FlipMode&&(e=95),!this.showFooterFlag_FlipMode&&this.showHeaderFlag_FlipMode&&(e=95),this.showFooterFlag_FlipMode||this.showHeaderFlag_FlipMode||(e=100),this.showPageHintFlag_FlipMode&&("sketch"==this.nowTemplate?e-=6:e-=3),e+"vh"},sketchHintHeight:function(){return"sketch"==this.nowTemplate?"6vh":"3vh"},sketchHintFontSize:function(){return"sketch"==this.nowTemplate?"24px":"16px"},get_flex_direction:function(){return 1==this.rightToLeftFlag?"row":"row-reverse"}}}),fe=function(){Object(a["T"])((function(e){return{"11c06981":e.model.color,"4a856aea":e.mangaAreaHeight,"0617d782":e.get_flex_direction,"49386acb":e.mangaImageHeight,c75c77d2:e.sketchHintHeight,"1962d7e0":e.sketchHintFontSize}}))},Pe=pe.setup;pe.setup=Pe?function(e,t){return fe(),Pe(e,t)}:fe;var je=pe;o("45d7");const we=L()(je,[["render",be],["__scopeId","data-v-5b8c4b78"]]);var Oe=we,Fe=o("d2b6"),ke=Object(a["p"])({name:"Home",components:{ScrollMode:ne,FlipMode:Oe,NMessageProvider:Fe["a"]},setup:function(){var e=Object(x["a"])(),t=e.cookies;return{cookies:t}},data:function(){return{selectTemplate:""}},created:function(){this.$store.dispatch("syncBookDataAction"),this.$store.dispatch("syncSettingDataAction"),this.$store.dispatch("syncBookShelfDataAction"),this.selectTemplate=this.getDefaultTemplate},beforeMount:function(){},methods:{OnSetTemplate:function(e){localStorage.setItem("nowTemplate",e),this.selectTemplate=e},getNumber:function(e){this.page=e,console.log(e)}},computed:{book:function(){return this.$store.state.book},setting:function(){return this.$store.state.setting},getDefaultTemplate:function(){var e=localStorage.getItem("nowTemplate");return null!==e?e:"scroll"}}});o("6e5b");const ve=L()(ke,[["render",r]]);var _e=ve,Se=(o("d3b7"),o("3ca3"),o("ddb0"),o("6c02")),Me=[{path:"/",name:"FlipMode",component:Oe},{path:"/scroll",name:"ScrollMode",component:ne},{path:"/flip",name:"About",component:function(){return o.e("chunk-2d0de531").then(o.bind(null,"84ba"))}}],Ne=Object(Se["a"])({history:Object(Se["b"])(),routes:Me}),Te=Ne,Ie=o("1da1"),De=(o("4de4"),o("96cf"),o("5502")),ye=Object(De["a"])({state:{count:0,todos:[{id:1,text:"...",done:!0},{id:2,text:"...",done:!1}],now_page:1,book:{name:"loading",all_page_num:1,pages:[{height:500,width:449,url:"/images/loading.jpg",class:"Vertical"}]},bookshelf:{},setting:{template:"scroll",sketch_count_seconds:30},message:{user_uuid:"",server_status:"",now_book_uuid:"",read_percent:0,msg:""}},mutations:{change_template_to_scroll:function(e){e.setting.template="scroll",console.log("change_template_to_scroll:"+e.setting.template)},change_template_to_flip:function(e){e.setting.template="flip",console.log("change_template_to_flip:"+e.setting.template)},change_template_to_sketch:function(e){e.setting.template="sketch",console.log("change_template_to_sketch:"+e.setting.template)},increment:function(e){e.count++},syncSettingData:function(e,t){e.setting=t.message},syncBookData:function(e,t){e.book=t.message},syncBookShelfData:function(e,t){e.bookshelf=t.message}},actions:{incrementAction:function(e){e.commit("increment")},syncSettingDataAction:function(e){return Object(Ie["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/setting.json").then((function(e){return e.data}),(function(){return""}));case 2:o=t.sent,a={message:o},e.commit("syncSettingData",a),console.log("syncSettingData!");case 6:case"end":return t.stop()}}),t)})))()},syncBookDataAction:function(e){return Object(Ie["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/book.json").then((function(e){return e.data}),(function(){return""}));case 2:o=t.sent,a={message:o},e.commit("syncBookData",a),console.log("syncBookData!");case 6:case"end":return t.stop()}}),t)})))()},syncBookShelfDataAction:function(e){return Object(Ie["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/bookshelf.json").then((function(e){return e.data}),(function(){return""}));case 2:o=t.sent,a={message:o},e.commit("syncBookShelfData",a),console.log("syncBookShelfData!");case 6:case"end":return t.stop()}}),t)})))()}},getters:{doneTodos:function(e){return e.todos.filter((function(e){return e.done}))},now_page:function(e){return e.now_page},book:function(e){return e.book},bookshelf:function(e){return e.bookshelf},setting:function(e){return e.setting},message:function(e){return e.message}},modules:{}}),We=ye,xe=o("2058"),He=o("5530"),Ce=o("47e2"),Xe=o("edd4"),$e=o("752b"),Le=o("0423"),Ee={en:Object(He["a"])({},Xe),zh:Object(He["a"])({},$e),ja:Object(He["a"])({},Le)},Ue=new Ce["a"]({locale:localStorage.getItem("lang")||"zh",globalInjection:!0,messages:Ee}),Ae=Ue;i.a.defaults.baseURL="/api";var Qe=Object(a["i"])(_e);Qe.use(Ae),Qe.use(n["a"],i.a),Qe.use(We),Qe.use(Te),Qe.use(xe["a"],{preLoad:1.9,loading:"/images/loading.jpg",error:"/images/error.jpg",attempt:4,observerOptions:{rootMargin:"200px",threshold:.1},lifecycle:{loading:function(e){e.setAttribute("class","LoadingImage")},error:function(e){e.setAttribute("class","ErrorImage")},loaded:function(e){var t=new Image;t.src=e.src,t.complete?(e.setAttribute("w",t.width),e.setAttribute("h",t.height),t.width<t.height?e.setAttribute("class","SinglePageImage"):e.setAttribute("class","DoublePageImage")):e.setAttribute("class","SinglePageImage")}}}),Qe.mount("#app")},"6e5b":function(e,t,o){"use strict";o("17a5")},"752b":function(e){e.exports=JSON.parse('{"test":"测试","debugMode":"Debug Mode","scroll_mode":"卷轴模式","flip_mode":"翻页模式","ReaderSettings":"阅读器设定","singlePageWidth":"单页漫画宽度:","doublePageWidth":"双开页漫画宽:","width_usePercent":"宽度:百分比%","width_useFixedValue":"宽度:固定值px","showHeader":"显示标题","showPageNum":"显示页数","setBackColor":"设定背景色:","readingProgressBar":"阅读进度条","savePageNum":"保存阅读进度","rightScreenToNext":"右半屏翻下一页","leftScreenToNext":"左半屏翻下一页","startSketchMode":"开始速写","stopSketchMode":"停止速写","hintFirstPage":"现在是第一页,无法向前翻页","hintLastPage":"现在是最后一页，无法往后翻页","now_is":"现在:","second":"秒","minute":"分","total_is":"完成:","interval":"翻页间隔:","page":"张","totalTime":"经过时间:","hour":"小时","pageTurningSeconds":"翻页间隔:","startSketchMessage":"开始倒计时速写，祝你心情愉快。","goodjob_and_byebye":"做得不错，再见~","simpleDoublePage":"合并双页","autoDoublePage":"合并双页（beta）"}')},"758a":function(e,t,o){"use strict";o("f7c4")},c81b:function(e,t,o){},d18a:function(e,t,o){"use strict";o("c81b")},e76b:function(e,t,o){},edd4:function(e){e.exports=JSON.parse('{"test":"test","debugMode":"Debug Mode","ReaderSettings":"Reader Settings","scroll_mode":"ScrollMode","flip_mode":"FlipMode","singlePageWidth":"singlePageWidth:","doublePageWidth":"doublePageWidth:","width_usePercent":"Width:Percent","width_useFixedValue":"Width:Fixed value","showHeader":"Header Shown","showPageNum":"show PageNumber","setBackColor":"Set Background Color:","readingProgressBar":"Reading Progress Bar","savePageNum":"Save Reading Progress","rightScreenToNext":"Right screen to next page","leftScreenToNext":"Left screen to next page","startSketchMode":"Start Sketch","stopSketchMode":"Stop Sketch","hintFirstPage":"Now is the first page, can not turn forward","hintLastPage":"Now is the last page, can not turn the page","now_is":"now: ","second":"second","minute":"minute","total_is":"total: ","interval":"interval: ","page":"page","totalTime":"Total time: ","hour":"hour","pageTurningSeconds":"interval: ","startSketchMessage":"The countdown begins, Have a nice day.","goodjob_and_byebye":"Goodjob,bye.","simpleDoublePage":"DoublePage","autoDoublePage":"DoublePage（beta）"}')},f7c4:function(e,t,o){}});
//# sourceMappingURL=app.e3f09752.js.map