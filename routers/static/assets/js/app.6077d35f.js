(function(e){function t(t){for(var a,l,r=t[0],c=t[1],s=t[2],u=0,h=[];u<r.length;u++)l=r[u],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&h.push(n[l][0]),n[l]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);g&&g(t);while(h.length)h.shift()();return i.push.apply(i,s||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],a=!0,l=1;l<o.length;l++){var c=o[l];0!==n[c]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=o[0]))}return e}var a={},n={app:0},i=[];function l(e){return r.p+"assets/js/"+({}[e]||e)+"."+{"chunk-2d0de531":"493aafcb"}[e]+".js"}function r(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(e){var t=[],o=n[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,a){o=n[e]=[t,a]}));t.push(o[2]=a);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=l(e);var s=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(u);var o=n[e];if(0!==o){if(o){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,o[1](s)}n[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(o,a,function(t){return e[t]}.bind(null,a));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var g=s;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"01f0":function(e,t,o){"use strict";o("4739")},"0423":function(e){e.exports=JSON.parse('{"test":"test","debugMode":"Debug Mode","ReaderSettings":"リーダー設定","scroll_mode":"スクロール","flip_mode":"ページめくり","singlePageWidth":"1ページ漫画横幅:","doublePageWidth":"見開きページの幅:","width_usePercent":"横幅:パーセント","width_useFixedValue":"横幅:固定値","showHeader":"タイトル表示","showPageNum":"ページ数表示","setBackColor":"背景色を指定する:","readingProgressBar":"プログレスバー","savePageNum":"読書進捗の保存","rightScreenToNext":"右半分の画面で次ページ","leftScreenToNext":"左半分の画面で次ページ","startSketchMode":"クロッキー開始","stopSketchMode":"クロッキー終了","hintFirstPage":"最初のページで、進めることはできません","hintLastPage":"最後のページです","now_is":"今:","second":"秒","minute":"分","total_is":"合計:","interval":"間隔:","page":"ページ","totalTime":"合計時間:","hour":"時間","pageTurningSeconds":"ページをめくる秒数:","startSketchMessage":"クロッキーが始まりました、良い一日を。","goodjob_and_byebye":"お疲れ様でした、バイバイ。","simpleDoublePage":"ページ合併","autoDoublePage":"ページ合併（beta）","gray_image":"モノクロ化","image_width_limit":"サイズ（幅）を制限","auto_crop":"余白自動トリミング","max_width":"最大幅:","energy_threshold":"エネルギー閾値：","back-to-top":"ページのトップへ戻る","raw_resolution":"元の解像度","reset_all_settings":" 初期設定に戻す","do_you_reset_all_settings":"初期設定に戻すか？"}')},1200:function(e,t,o){"use strict";o("2903")},2903:function(e,t,o){},4739:function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e623"),o("e379"),o("5dc8"),o("37e1");var a=o("7a23"),n=o("130e"),i=o("bc3a"),l=o.n(i),r={class:"app"};function c(e,t,o,n,i,l){var c=this,s=Object(a["N"])("ScrollMode"),u=Object(a["N"])("FlipMode"),g=Object(a["N"])("BookShelf"),h=Object(a["N"])("n-message-provider");return Object(a["E"])(),Object(a["l"])("div",r,[Object(a["o"])(h,null,{default:Object(a["X"])((function(){return["scroll"===e.selectTemplate?(Object(a["E"])(),Object(a["j"])(s,{key:0,book:c.book,nowTemplate:c.selectTemplate,onSetTemplate:e.OnSetTemplate},null,8,["book","nowTemplate","onSetTemplate"])):Object(a["k"])("",!0),"flip"===e.selectTemplate||"sketch"===e.selectTemplate?(Object(a["E"])(),Object(a["j"])(u,{key:1,book:c.book,nowTemplate:c.selectTemplate,onSetTemplate:e.OnSetTemplate},null,8,["book","nowTemplate","onSetTemplate"])):Object(a["k"])("",!0),"bookshelf"===e.selectTemplate?(Object(a["E"])(),Object(a["j"])(g,{key:2,book:c.book,nowTemplate:c.selectTemplate,onSetTemplate:e.OnSetTemplate},null,8,["book","nowTemplate","onSetTemplate"])):Object(a["k"])("",!0)]})),_:1})])}o("b0c0");var s=function(e){return Object(a["H"])("data-v-f2b889c0"),e=e(),Object(a["F"])(),e},u={key:0,id:"ScrollMode",class:"manga"},g=["alt"],h={key:0,class:"page_hint"},d=Object(a["n"])("%"),m=Object(a["n"])("%"),b=Object(a["n"])("px"),p=Object(a["n"])("px"),f=s((function(){return Object(a["m"])("p",null,null,-1)})),P=s((function(){return Object(a["m"])("p",null,null,-1)})),_=Object(a["n"])("px");function w(e,t,o,n,i,l){var r=this,c=Object(a["N"])("settings-outline"),s=Object(a["N"])("n-icon"),w=Object(a["N"])("Header"),j=Object(a["N"])("n-color-picker"),O=Object(a["N"])("n-divider"),k=Object(a["N"])("n-input-number"),v=Object(a["N"])("n-slider"),F=Object(a["N"])("n-space"),S=Object(a["N"])("n-switch"),M=Object(a["N"])("Drawer"),N=Object(a["N"])("n-back-top"),I=Object(a["N"])("n-button"),T=Object(a["O"])("lazy");return this.book?(Object(a["E"])(),Object(a["l"])("div",u,[this.showHeaderFlag?(Object(a["E"])(),Object(a["j"])(w,{key:0,class:"footer",bookIsFolder:e.book.IsFolder,bookName:e.book.name},{default:Object(a["X"])((function(){return[Object(a["o"])(s,{size:"40",onClick:t[0]||(t[0]=function(t){return e.drawerActivate("right")})},{default:Object(a["X"])((function(){return[Object(a["o"])(c)]})),_:1})]})),_:1},8,["bookIsFolder","bookName"])):Object(a["k"])("",!0),(Object(a["E"])(!0),Object(a["l"])(a["b"],null,Object(a["L"])(e.book.pages,(function(o,n){return Object(a["E"])(),Object(a["l"])("div",{class:"main_manga",key:o.url,onClick:t[1]||(t[1]=function(t){return e.onMouseClick(t)}),onMousemove:t[2]||(t[2]=function(){return e.onMouseMove&&e.onMouseMove.apply(e,arguments)}),onMouseleave:t[3]||(t[3]=function(){return e.onMouseLeave&&e.onMouseLeave.apply(e,arguments)})},[Object(a["Y"])((Object(a["E"])(),Object(a["l"])("img",{alt:n+1,key:n},null,8,g)),[[T,e.imageParametersString(o.url)]]),e.showPageNumFlag_ScrollMode?(Object(a["E"])(),Object(a["l"])("div",h,Object(a["Q"])(n+1)+"/"+Object(a["Q"])(e.book.all_page_num),1)):Object(a["k"])("",!0)],32)})),128)),Object(a["o"])(M,{initDrawerActive:this.drawerActive,initDrawerPlacement:this.drawerPlacement,onSaveConfig:this.saveConfigToLocalStorage,onStartSketch:this.startSketchMode,onCloseDrawer:this.drawerDeactivate,onSetT:this.OnSetTemplate,nowTemplate:this.nowTemplate},{default:Object(a["X"])((function(){return[Object(a["m"])("span",null,Object(a["Q"])(e.$t("setBackColor")),1),Object(a["o"])(j,{value:e.model.color,"onUpdate:value":[t[4]||(t[4]=function(t){return e.model.color=t}),e.onBackgroundColorChange],modes:["rgb"],"show-alpha":!1},null,8,["value","onUpdate:value"]),Object(a["o"])(O),Object(a["o"])(F,{vertical:""},{default:Object(a["X"])((function(){return[r.imageWidth_usePercentFlag?(Object(a["E"])(),Object(a["j"])(k,{key:0,size:"small","show-button":!1,value:r.singlePageWidth_Percent,"onUpdate:value":t[5]||(t[5]=function(e){return r.singlePageWidth_Percent=e}),max:100,min:10,"update-value-on-input":!1},{prefix:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("singlePageWidth")),1)]})),suffix:Object(a["X"])((function(){return[d]})),_:1},8,["value"])):Object(a["k"])("",!0),r.imageWidth_usePercentFlag?(Object(a["E"])(),Object(a["j"])(v,{key:1,value:r.singlePageWidth_Percent,"onUpdate:value":t[6]||(t[6]=function(e){return r.singlePageWidth_Percent=e}),step:1,max:100,min:10,"format-tooltip":function(e){return"".concat(e,"%")}},null,8,["value","format-tooltip"])):Object(a["k"])("",!0),r.imageWidth_usePercentFlag?(Object(a["E"])(),Object(a["j"])(k,{key:2,size:"small","show-button":!1,value:r.doublePageWidth_Percent,"onUpdate:value":t[7]||(t[7]=function(e){return r.doublePageWidth_Percent=e}),max:100,min:10,"update-value-on-input":!1},{prefix:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("doublePageWidth")),1)]})),suffix:Object(a["X"])((function(){return[m]})),_:1},8,["value"])):Object(a["k"])("",!0),r.imageWidth_usePercentFlag?(Object(a["E"])(),Object(a["j"])(v,{key:3,value:r.doublePageWidth_Percent,"onUpdate:value":t[8]||(t[8]=function(e){return r.doublePageWidth_Percent=e}),step:1,max:100,min:10,"format-tooltip":function(e){return"".concat(e,"%")}},null,8,["value","format-tooltip"])):Object(a["k"])("",!0),r.imageWidth_usePercentFlag?Object(a["k"])("",!0):(Object(a["E"])(),Object(a["j"])(k,{key:4,size:"small","show-button":!1,value:r.singlePageWidth_PX,"onUpdate:value":t[9]||(t[9]=function(e){return r.singlePageWidth_PX=e}),max:r.imageMaxWidth,min:50,"update-value-on-input":!1},{prefix:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("singlePageWidth")),1)]})),suffix:Object(a["X"])((function(){return[b]})),_:1},8,["value","max"])),r.imageWidth_usePercentFlag?Object(a["k"])("",!0):(Object(a["E"])(),Object(a["j"])(v,{key:5,value:r.singlePageWidth_PX,"onUpdate:value":t[10]||(t[10]=function(e){return r.singlePageWidth_PX=e}),step:10,max:r.imageMaxWidth,min:50,"format-tooltip":function(e){return"".concat(e,"px")}},null,8,["value","max","format-tooltip"])),r.imageWidth_usePercentFlag?Object(a["k"])("",!0):(Object(a["E"])(),Object(a["j"])(k,{key:6,size:"small","show-button":!1,value:r.doublePageWidth_PX,"onUpdate:value":t[11]||(t[11]=function(e){return r.doublePageWidth_PX=e}),max:r.imageMaxWidth,min:50,"update-value-on-input":!1},{prefix:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("doublePageWidth")),1)]})),suffix:Object(a["X"])((function(){return[p]})),_:1},8,["value","max"])),r.imageWidth_usePercentFlag?Object(a["k"])("",!0):(Object(a["E"])(),Object(a["j"])(v,{key:7,value:r.doublePageWidth_PX,"onUpdate:value":t[12]||(t[12]=function(e){return r.doublePageWidth_PX=e}),step:10,max:r.imageMaxWidth,min:50,"format-tooltip":function(e){return"".concat(e,"px")}},null,8,["value","max","format-tooltip"]))]})),_:1}),f,Object(a["o"])(F,null,{default:Object(a["X"])((function(){return[Object(a["o"])(S,{size:"large",value:r.imageWidth_usePercentFlag,"onUpdate:value":[t[13]||(t[13]=function(e){return r.imageWidth_usePercentFlag=e}),r.setImageWidthUsePercentFlag],"rail-style":e.railStyle},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("width_usePercent")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("width_useFixedValue")),1)]})),_:1},8,["value","rail-style","onUpdate:value"])]})),_:1}),Object(a["o"])(O),Object(a["o"])(F,null,{default:Object(a["X"])((function(){return[Object(a["o"])(S,{size:"large",value:r.showHeaderFlag,"onUpdate:value":[t[14]||(t[14]=function(e){return r.showHeaderFlag=e}),e.setShowHeaderChange]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showHeader")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showHeader")),1)]})),_:1},8,["value","onUpdate:value"]),P]})),_:1}),Object(a["o"])(F,null,{default:Object(a["X"])((function(){return[Object(a["o"])(S,{size:"large",value:r.showPageNumFlag_ScrollMode,"onUpdate:value":[t[15]||(t[15]=function(e){return r.showPageNumFlag_ScrollMode=e}),e.setShowPageNumChange]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showPageNum")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showPageNum")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1}),Object(a["o"])(F,null,{default:Object(a["X"])((function(){return[Object(a["o"])(S,{size:"large",value:r.imageParameters.gray,"onUpdate:value":[t[16]||(t[16]=function(e){return r.imageParameters.gray=e}),e.setImageParameters_Gray]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("gray_image")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("gray_image")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1}),Object(a["o"])(O),Object(a["o"])(F,null,{default:Object(a["X"])((function(){return[Object(a["o"])(S,{size:"large",value:r.imageParameters.do_auto_crop,"onUpdate:value":[t[17]||(t[17]=function(e){return r.imageParameters.do_auto_crop=e}),e.setImageParameters_DoAutoCrop]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("auto_crop")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("auto_crop")),1)]})),_:1},8,["value","onUpdate:value"]),r.imageParameters.do_auto_crop?(Object(a["E"])(),Object(a["j"])(k,{key:0,"show-button":!1,value:r.imageParameters.auto_crop,"onUpdate:value":t[18]||(t[18]=function(e){return r.imageParameters.auto_crop=e}),max:10,min:0},null,8,["value"])):Object(a["k"])("",!0)]})),_:1}),Object(a["o"])(F,null,{default:Object(a["X"])((function(){return[Object(a["o"])(S,{size:"large","rail-style":e.railStyle,value:r.imageParameters.do_auto_resize,"onUpdate:value":[t[19]||(t[19]=function(e){return r.imageParameters.do_auto_resize=e}),e.setImageParameters_DoAutoResize]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("image_width_limit")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("raw_resolution")),1)]})),_:1},8,["rail-style","value","onUpdate:value"]),r.imageParameters.do_auto_resize?(Object(a["E"])(),Object(a["j"])(k,{key:0,size:"small","show-button":!1,value:r.imageParameters.resize_max_width,"onUpdate:value":t[20]||(t[20]=function(e){return r.imageParameters.resize_max_width=e}),max:r.imageMaxWidth,min:100},{prefix:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("max_width")),1)]})),suffix:Object(a["X"])((function(){return[_]})),_:1},8,["value","max"])):Object(a["k"])("",!0)]})),_:1})]})),_:1},8,["initDrawerActive","initDrawerPlacement","onSaveConfig","onStartSketch","onCloseDrawer","onSetT","nowTemplate"]),Object(a["o"])(N,{show:e.showBackTopFlag,type:"info",color:"#8a2be2",right:20,bottom:20},null,8,["show"]),Object(a["o"])(I,{onClick:t[21]||(t[21]=function(t){e.scrollToTop(90)}),size:"large",secondary:"",strong:""},{default:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("back-to-top")),1)]})),_:1})])):Object(a["k"])("",!0)}o("a9e3"),o("d3b7"),o("25f0");var j=o("3519"),O=o("9ca1"),k=o("c872"),v=o("1623"),F=o("be01"),S=o("c678"),M=o("21e1"),N=o("a9d8"),I=o("86b0"),T={class:"header"},y=["href"],W=["href"];function D(e,t,o,n,i,l){var r=this,c=Object(a["N"])("book-outline"),s=Object(a["N"])("n-icon"),u=Object(a["N"])("n-ellipsis"),g=Object(a["N"])("n-space");return Object(a["E"])(),Object(a["l"])("header",T,[Object(a["o"])(s,{size:"40"},{default:Object(a["X"])((function(){return[Object(a["o"])(c)]})),_:1}),Object(a["o"])(g,null,{default:Object(a["X"])((function(){return[Object(a["o"])(u,{style:{"max-width":"60vw"}},{default:Object(a["X"])((function(){return[e.bookIsFolder?(Object(a["E"])(),Object(a["l"])("h2",{key:0,href:"raw/"+e.bookName},Object(a["Q"])(e.bookName),9,y)):Object(a["k"])("",!0),Object(a["m"])("h2",null,[r.bookIsFolder?Object(a["k"])("",!0):(Object(a["E"])(),Object(a["l"])("a",{key:0,href:"raw/"+e.bookName},Object(a["Q"])(e.bookName),9,W))])]})),_:1})]})),_:1}),Object(a["M"])(e.$slots,"default",{},void 0,!0)])}var x=o("df85"),C=o("c0f3"),X=o("ee5e"),H=Object(a["p"])({name:"Header",props:["bookIsFolder","bookName"],components:{NSpace:k["a"],NIcon:S["a"],NEllipsis:C["a"],BookOutline:X["a"]},setup:function(){var e=Object(x["a"])(),t=e.cookies;return{cookies:t}},data:function(){return{someflag:""}},methods:{}}),L=(o("ef69"),o("6b0d")),$=o.n(L);const A=$()(H,[["render",D],["__scopeId","data-v-bf37a460"]]);var z=A;function E(e,t,o,n,i,l){var r=this,c=Object(a["N"])("n-radio-button"),s=Object(a["N"])("n-radio-group"),u=Object(a["N"])("n-space"),g=Object(a["N"])("n-divider"),h=Object(a["N"])("n-button"),d=Object(a["N"])("n-popconfirm"),m=Object(a["N"])("n-select"),b=Object(a["N"])("n-drawer-content"),p=Object(a["N"])("n-drawer");return Object(a["E"])(),Object(a["j"])(p,{show:e.drawerActive,"onUpdate:show":e.saveConfigToCookie,height:275,width:251,placement:e.drawerPlacement},{default:Object(a["X"])((function(){return[Object(a["o"])(b,{closable:""},{header:Object(a["X"])((function(){return[Object(a["m"])("span",null,Object(a["Q"])(e.$t("ReaderSettings")),1)]})),footer:Object(a["X"])((function(){return[Object(a["o"])(m,{placeholder:"select language",value:r.$i18n.locale,"onUpdate:value":[t[1]||(t[1]=function(e){return r.$i18n.locale=e}),e.OnChangeLanguage],options:r.languageOptions},null,8,["value","options","onUpdate:value"]),"flip"==e.nowTemplate||"scroll"==e.nowTemplate?(Object(a["E"])(),Object(a["j"])(h,{key:0,onClick:e.startSketchMode},{default:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("startSketchMode")),1)]})),_:1},8,["onClick"])):Object(a["k"])("",!0),"sketch"==e.nowTemplate?(Object(a["E"])(),Object(a["j"])(h,{key:1,onClick:e.stopSketchMode},{default:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("stopSketchMode")),1)]})),_:1},8,["onClick"])):Object(a["k"])("",!0)]})),default:Object(a["X"])((function(){return[Object(a["o"])(u,null,{default:Object(a["X"])((function(){return[Object(a["o"])(s,{value:e.nowTemplateLocal,"onUpdate:value":t[0]||(t[0]=function(t){return e.nowTemplateLocal=t})},{default:Object(a["X"])((function(){return[Object(a["o"])(c,{checked:"scroll"===e.nowTemplateLocal,onChange:e.onChangeTemplate,value:"scroll",name:"basic-demo"},{default:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("scroll_mode")),1)]})),_:1},8,["checked","onChange"]),Object(a["o"])(c,{checked:"flip"===e.nowTemplateLocal,onChange:e.onChangeTemplate,value:"flip",name:"basic-demo"},{default:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("flip_mode")),1)]})),_:1},8,["checked","onChange"])]})),_:1},8,["value"])]})),_:1}),Object(a["o"])(g),Object(a["M"])(e.$slots,"default"),Object(a["o"])(g),Object(a["o"])(d,{onPositiveClick:e.handlePositiveClick,onNegativeClick:e.handleNegativeClick},{trigger:Object(a["X"])((function(){return[Object(a["o"])(h,null,{default:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("reset_all_settings")),1)]})),_:1})]})),default:Object(a["X"])((function(){return[Object(a["n"])(" "+Object(a["Q"])(e.$t("do_you_reset_all_settings")),1)]})),_:1},8,["onPositiveClick","onNegativeClick"])]})),_:3})]})),_:3},8,["show","onUpdate:show","placement"])}var B=o("9e27"),U=o("f0c5"),Q=o("8e88"),R=o("cdfb"),Y=o("7baf"),G=o("9c97"),J=Object(a["p"])({name:"Drawer",props:["book","initDrawerActive","initDrawerPlacement","nowTemplate"],emits:["setT","saveConfig","startSketch","stopSketch","closeDrawer"],components:{NDrawer:B["a"],NDrawerContent:U["a"],NSpace:k["a"],NDivider:N["a"],NRadioGroup:Q["a"],NRadioButton:R["a"],NButton:j["b"],NSelect:Y["a"],NPopconfirm:G["a"]},setup:function(){var e=Object(x["a"])(),t=e.cookies;return{handlePositiveClick:function(){localStorage.clear(),location.reload()},handleNegativeClick:function(){},cookies:t,languageOptions:[{label:"English",value:"en"},{label:"日本語",value:"ja"},{label:"中文",value:"zh"}]}},data:function(){return{someflag:"",nowTemplateLocal:""}},beforeMount:function(){var e=this.cookies.get("userLanguageSetting");e&&(this.$i18n.locale=e),this.nowTemplateLocal=this.nowTemplate},computed:{drawerActive:function(){return this.initDrawerActive},drawerPlacement:function(){return this.initDrawerPlacement}},methods:{onClearLocalSetting:function(){},OnChangeLanguage:function(e){this.cookies.set("userLanguageSetting",e)},saveConfigToCookie:function(e){0==e&&(this.$emit("closeDrawer"),this.$emit("saveConfig"))},startSketchMode:function(){this.$emit("startSketch")},stopSketchMode:function(){this.$emit("stopSketch")},onChangeTemplate:function(){"scroll"===this.nowTemplateLocal&&this.$emit("setT","scroll"),"flip"===this.nowTemplateLocal&&this.$emit("setT","flip"),"sketch"===this.nowTemplateLocal&&this.$emit("setT","sketch")}}});const V=$()(J,[["render",E]]);var K=V,Z=o("e9ce"),q=Object(a["p"])({name:"ScrollMode",props:["book","nowTemplate"],emits:["setTemplate"],components:{Header:z,Drawer:K,NButton:j["b"],NBackTop:O["a"],NSpace:k["a"],NSlider:v["a"],NSwitch:F["a"],NIcon:S["a"],NInputNumber:M["a"],SettingsOutline:Z["a"],NDivider:N["a"],NColorPicker:I["a"]},setup:function(){var e=Object(x["a"])(),t=e.cookies,o=Object(a["I"])({color:"#f6f7eb",colorHeader:"#d1c9c1"}),n=Object(a["I"])({resize_width:-1,resize_height:-1,do_auto_resize:!1,resize_max_width:800,resize_max_height:-1,do_auto_crop:!1,auto_crop:1,gray:!1});return{cookies:t,model:o,imageParameters:n,imageParametersString:function(e){return"api/getfile?"==e.substr(0,12)?e+"&resize_width="+n.resize_width+"&resize_height="+n.resize_height+"&resize_max_width="+(n.do_auto_resize?n.resize_max_width:-1)+"&resize_max_height="+n.resize_max_height+"&auto_crop="+(n.do_auto_crop?n.auto_crop:-1)+"&gray="+(n.gray?"true":"false"):e},railStyle:function(e){var t=e.focused,o=e.checked,a={};return o?(a.background="#d03050",t&&(a.boxShadow="0 0 0 2px #d0305040")):(a.background="#2080f0",t&&(a.boxShadow="0 0 0 2px #2080f040")),a},marks:{30:"25%",50:"50%",75:"75%",95:"95%"}}},data:function(){return{drawerActive:!1,drawerPlacement:"right",debugModeFlag:!0,showHeaderFlag:!0,showPageNumFlag_ScrollMode:!1,showBackTopFlag:!1,scrollDownFlag:!1,scrollTopSave:0,syncScrollFlag:!1,clickX:0,clickY:0,isLandscapeMode:!0,isPortraitMode:!1,imageMaxWidth:10,aspectRatio:1.2,imageWidth_usePercentFlag:!1,singlePageWidth_Percent:50,doublePageWidth_Percent:95,singlePageWidth_PX:720,doublePageWidth_PX:1080,clientWidth:0,clientHeight:0}},created:function(){if(window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),this.imageMaxWidth=window.innerWidth,"true"===localStorage.getItem("showHeaderFlag")?this.showHeaderFlag=!0:"false"===localStorage.getItem("showHeaderFlag")&&(this.showHeaderFlag=!1),"true"===localStorage.getItem("showPageNumFlag_ScrollMode")?this.showPageNumFlag_ScrollMode=!0:"false"===localStorage.getItem("showPageNumFlag_ScrollMode")&&(this.showPageNumFlag_ScrollMode=!1),"true"===localStorage.getItem("ImageParameters_Gray")?this.imageParameters.gray=!0:"false"===localStorage.getItem("ImageParameters_Gray")&&(this.imageParameters.gray=!1),"true"===localStorage.getItem("ImageParameters_DoAutoResize")?this.imageParameters.do_auto_resize=!0:"false"===localStorage.getItem("ImageParameters_DoAutoResize")&&(this.imageParameters.do_auto_resize=!1),null!=localStorage.getItem("ImageParametersResizeMaxWidth")){var e=Number(localStorage.getItem("ImageParametersResizeMaxWidth"));isNaN(e)||(this.imageParameters.resize_max_width=e)}if("true"===localStorage.getItem("ImageParameters_DoAutoCrop")?this.imageParameters.do_auto_crop=!0:"false"===localStorage.getItem("ImageParameters_DoAutoCrop")&&(this.imageParameters.do_auto_crop=!1),null!=localStorage.getItem("ImageParameters_DoAutoCrop")){var t=Number(localStorage.getItem("ImageParameters_DoAutoCrop"));isNaN(t)||(this.imageParameters.auto_crop=t)}if("true"===localStorage.getItem("imageWidth_usePercentFlag")?this.imageWidth_usePercentFlag=!0:"false"===localStorage.getItem("imageWidth_usePercentFlag")&&(this.imageWidth_usePercentFlag=!1),null!=localStorage.getItem("singlePageWidth_Percent")){var o=Number(localStorage.getItem("singlePageWidth_Percent"));isNaN(o)||(this.singlePageWidth_Percent=o)}if(null!=localStorage.getItem("doublePageWidth_Percent")){var a=Number(localStorage.getItem("doublePageWidth_Percent"));isNaN(a)||(this.doublePageWidth_Percent=a)}if(null!=localStorage.getItem("singlePageWidth_PX")){var n=Number(localStorage.getItem("singlePageWidth_PX"));isNaN(n)||(this.singlePageWidth_PX=n)}if(null!=localStorage.getItem("doublePageWidth_PX")){var i=Number(localStorage.getItem("doublePageWidth_PX"));isNaN(i)||(this.doublePageWidth_PX=i)}null!=localStorage.getItem("ScrollModeDefaultColor")&&(this.model.color=localStorage.getItem("ScrollModeDefaultColor"),this.onBackgroundColorChange(this.model.color))},beforeMount:function(){},onMounted:function(){this.isLandscapeMode=this.inLandscapeModeCheck(),this.isPortraitMode=!this.inLandscapeModeCheck(),this.$nextTick((function(){}))},beforeUnmount:function(){window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize)},methods:{drawerActivate:function(e){this.drawerActive=!0,this.drawerPlacement=e},drawerDeactivate:function(){this.drawerActive=!1},startSketchMode:function(){this.$emit("setTemplate","sketch")},OnSetTemplate:function(e){this.$emit("setTemplate",e)},onBackgroundColorChange:function(e){var t=Number("0x"+e.substr(1,2)),o=Number("0x"+e.substr(3,2)),a=Number("0x"+e.substr(5,2)),n=40,i=30,l=42,r=t<255-n?t+n:t+parseInt((255-t)/2),c=o<255-i?o+i:o+parseInt((255-o)/2),s=a<255-l?a+l:a+parseInt((255-a)/2);t>250&&(r=t-n),o>250&&(c=o-i),a>250&&(s=a-l),t<50&&(r=t+3*n),o<50&&(c=o+3*i),a<50&&(s=a+3*l),this.model.colorHeader="#"+r.toString(16)+c.toString(16)+s.toString(16)},saveConfigToLocalStorage:function(){localStorage.setItem("showHeaderFlag",this.showHeaderFlag),localStorage.setItem("showPageNumFlag_ScrollMode",this.showPageNumFlag_ScrollMode),localStorage.setItem("imageWidth_usePercentFlag",this.imageWidth_usePercentFlag),localStorage.setItem("singlePageWidth_Percent",this.singlePageWidth_Percent),localStorage.setItem("doublePageWidth_Percent",this.doublePageWidth_Percent),localStorage.setItem("singlePageWidth_PX",this.singlePageWidth_PX),localStorage.setItem("doublePageWidth_PX",this.doublePageWidth_PX),localStorage.setItem("ScrollModeDefaultColor",this.model.color),localStorage.setItem("ImageParameters_DoAutoCrop",this.imageParameters.auto_crop),localStorage.setItem("ImageParametersResizeMaxWidth",this.imageParameters.resize_max_width)},setShowHeaderChange:function(e){this.showHeaderFlag=e,localStorage.setItem("showHeaderFlag",e),console.log("成功保存设置: showHeaderFlag="+localStorage.getItem("showHeaderFlag"))},setShowPageNumChange:function(e){this.showPageNumFlag_ScrollMode=e,localStorage.setItem("showPageNumFlag_ScrollMode",e),console.log("成功保存设置: showPageNumFlag_ScrollMode="+localStorage.getItem("showPageNumFlag_ScrollMode"))},setImageParameters_Gray:function(e){this.imageParameters.gray=e,localStorage.setItem("ImageParameters_Gray",e),console.log("成功保存设置: ImageParameters_Gray="+localStorage.getItem("ImageParameters_Gray"))},setImageParameters_DoAutoResize:function(e){this.imageParameters.do_auto_resize=e,localStorage.setItem("ImageParameters_DoAutoResize",e),console.log("成功保存设置: ImageParameters_DoAutoResize="+localStorage.getItem("ImageParameters_DoAutoResize"))},setImageParameters_DoAutoCrop:function(e){this.imageParameters.do_auto_crop=e,localStorage.setItem("ImageParameters_DoAutoCrop",this.imageParameters.do_auto_crop),console.log("成功保存设置: ImageParameters_DoAutoCrop="+localStorage.getItem("ImageParameters_DoAutoCrop"))},setImageWidthUsePercentFlag:function(e){console.log("value:"+e),this.imageWidth_usePercentFlag=e,localStorage.setItem("imageWidth_usePercentFlag",e),console.log("成功保存设置: imageWidth_usePercentFlag="+this.imageWidth_usePercentFlag)},onResize:function(){this.imageMaxWidth=window.innerWidth,this.clientWidth=document.documentElement.clientWidth,this.clientHeight=document.documentElement.clientHeight,this.aspectRatio=this.clientWidth/this.clientHeight,this.aspectRatio>1?(this.isLandscapeMode=!0,this.isPortraitMode=!1):(this.isLandscapeMode=!1,this.isPortraitMode=!0)},onScroll:function(){var e=document.documentElement.scrollTop||document.body.scrollTop;this.scrollDownFlag=e>this.scrollTopSave;var t=Math.abs(this.scrollTopSave-e);this.scrollTopSave=e,t>5&&(this.showBackTopFlag=e>400&&!this.scrollDownFlag)},onMouseClick:function(e){this.clickX=e.x,this.clickY=e.y;var t=window.innerWidth,o=window.innerHeight,a=.4*t,n=.6*t,i=.4*o,l=.6*o;this.clickX>a&&this.clickX<n&&this.clickY>i&&this.clickY<l&&this.drawerActivate("right")},onMouseMove:function(e){this.clickX=e.x,this.clickY=e.y;var t=window.innerWidth,o=window.innerHeight,a=.4*t,n=.6*t,i=.4*o,l=.6*o;this.clickX>a&&this.clickX<n&&this.clickY>i&&this.clickY<l?e.currentTarget.style.cursor="url(/images/SettingsOutline.png), pointer":e.currentTarget.style.cursor=""},onMouseLeave:function(e){e.currentTarget.style.cursor=""},scrollToTop:function(e){var t=-window.scrollY/(e/15),o=setInterval((function(){0!==window.scrollY?window.scrollBy(0,t):clearInterval(o)}),15)},inLandscapeModeCheck:function(){return this.aspectRatio=window.innerWidth/window.innerHeight,this.aspectRatio>1}},computed:{sPWL:function(){return this.imageWidth_usePercentFlag?this.singlePageWidth_Percent+"%":this.singlePageWidth_PX+"px"},dPWL:function(){return this.imageWidth_usePercentFlag?this.doublePageWidth_Percent+"%":this.doublePageWidth_PX+"px"},sPWP:function(){return this.imageWidth_usePercentFlag?this.singlePageWidth_Percent+"%":this.singlePageWidth_PX+"px"},dPWP:function(){return this.imageWidth_usePercentFlag?this.doublePageWidth_Percent+"%":this.doublePageWidth_PX+"px"}}}),ee=function(){Object(a["T"])((function(e){return{"2f7d99d0":e.model.color,"477e4fc5":e.model.colorHeader,"0ded5c58":e.sPWL,"0de68ac7":e.dPWL,"0ded5c5c":e.sPWP,"0de68acb":e.dPWP}}))},te=q.setup;q.setup=te?function(e,t){return ee(),te(e,t)}:ee;var oe=q;o("a0d2");const ae=$()(oe,[["render",w],["__scopeId","data-v-f2b889c0"]]);var ne=ae,ie={key:0,class:"body"},le={class:"manga_area_img_div"},re=["src","alt"],ce=["src","alt"],se=["src","alt"],ue={key:0,class:"sketch_hint"},ge={key:1,class:"footer"},he={key:0},de={key:1};function me(e,t,o,n,i,l){var r=this,c=Object(a["N"])("settings-outline"),s=Object(a["N"])("n-icon"),u=Object(a["N"])("Header"),g=Object(a["N"])("n-slider"),h=Object(a["N"])("n-color-picker"),d=Object(a["N"])("n-divider"),m=Object(a["N"])("n-switch"),b=Object(a["N"])("n-space"),p=Object(a["N"])("n-input-number"),f=Object(a["N"])("Drawer");return Object(a["E"])(),Object(a["l"])(a["b"],null,[this.book?(Object(a["E"])(),Object(a["l"])("div",ie,[this.showHeaderFlag_FlipMode?(Object(a["E"])(),Object(a["j"])(u,{key:0,class:"header",bookIsFolder:e.book.IsFolder,bookName:e.book.name},{default:Object(a["X"])((function(){return[Object(a["o"])(s,{size:"40",onClick:t[0]||(t[0]=function(t){return e.drawerActivate("right")})},{default:Object(a["X"])((function(){return[Object(a["o"])(c)]})),_:1})]})),_:1},8,["bookIsFolder","bookName"])):Object(a["k"])("",!0),Object(a["m"])("div",{class:"manga_area",id:"MangaMain",onClick:t[1]||(t[1]=Object(a["Z"])((function(){return e.onMouseClick&&e.onMouseClick.apply(e,arguments)}),["stop"])),onMousemove:t[2]||(t[2]=Object(a["Z"])((function(){return e.onMouseMove&&e.onMouseMove.apply(e,arguments)}),["stop"])),onMouseleave:t[3]||(t[3]=Object(a["Z"])((function(){return e.onMouseLeave&&e.onMouseLeave.apply(e,arguments)}),["stop"]))},[Object(a["m"])("div",le,[Object(a["m"])("img",{src:this.book.pages[e.nowPageNum-1].url,alt:e.nowPageNum},null,8,re),!this.autoDoublePageModeFlag&&this.simpleDoublePageModeFlag&&this.nowPageNum<this.book.all_page_num?(Object(a["E"])(),Object(a["l"])("img",{key:0,src:this.book.pages[e.nowPageNum].url,alt:e.nowPageNum+1},null,8,ce)):Object(a["k"])("",!0),this.autoDoublePageModeFlag&&this.nowPageNum<this.book.all_page_num&&this.nowAndNextPageIsSingle()?(Object(a["E"])(),Object(a["l"])("img",{key:1,src:this.book.pages[e.nowPageNum].url,alt:e.nowPageNum+1},null,8,se)):Object(a["k"])("",!0)]),this.showPageHintFlag_FlipMode?(Object(a["E"])(),Object(a["l"])("div",ue,Object(a["Q"])(e.pageNumOrSketchHint),1)):Object(a["k"])("",!0)],32),this.showFooterFlag_FlipMode?(Object(a["E"])(),Object(a["l"])("div",ge,[this.rightToLeftFlag?(Object(a["E"])(),Object(a["l"])("div",he,[Object(a["m"])("span",null,Object(a["Q"])(this.nowPageNum),1),Object(a["o"])(g,{value:e.nowPageNum,"onUpdate:value":[t[4]||(t[4]=function(t){return e.nowPageNum=t}),this.saveNowPageNumOnUpdate],max:this.book.all_page_num,min:1,step:1,"format-tooltip":function(e){return"".concat(e)}},null,8,["value","max","format-tooltip","onUpdate:value"]),Object(a["m"])("span",null,Object(a["Q"])(this.book.all_page_num),1)])):Object(a["k"])("",!0),this.rightToLeftFlag?Object(a["k"])("",!0):(Object(a["E"])(),Object(a["l"])("div",de,[Object(a["m"])("span",null,Object(a["Q"])(this.book.all_page_num),1),Object(a["o"])(g,{reverse:"",value:e.nowPageNum,"onUpdate:value":[t[5]||(t[5]=function(t){return e.nowPageNum=t}),this.saveNowPageNumOnUpdate],max:this.book.all_page_num,min:1,step:1,"format-tooltip":function(e){return"".concat(e)}},null,8,["value","max","format-tooltip","onUpdate:value"]),Object(a["m"])("span",null,Object(a["Q"])(this.nowPageNum),1)]))])):Object(a["k"])("",!0)])):Object(a["k"])("",!0),Object(a["o"])(f,{initDrawerActive:this.drawerActive,initDrawerPlacement:this.drawerPlacement,onSaveConfig:this.saveConfigToCookie,onStartSketch:this.startSketchMode,onStopSketch:this.stopSketchMode,onCloseDrawer:this.drawerDeactivate,onSetT:e.OnSetTemplate,nowTemplate:this.nowTemplate},{default:Object(a["X"])((function(){return[Object(a["m"])("span",null,Object(a["Q"])(e.$t("setBackColor")),1),Object(a["o"])(h,{value:e.model.color,"onUpdate:value":[t[6]||(t[6]=function(t){return e.model.color=t}),e.onBackgroundColorChange],modes:["rgb"],"show-alpha":!1},null,8,["value","onUpdate:value"]),Object(a["o"])(d),Object(a["o"])(b,null,{default:Object(a["X"])((function(){return[Object(a["o"])(m,{size:"large",value:r.showHeaderFlag_FlipMode,"onUpdate:value":[t[7]||(t[7]=function(e){return r.showHeaderFlag_FlipMode=e}),e.setShowHeaderChange]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showHeader")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showHeader")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1}),Object(a["o"])(b,null,{default:Object(a["X"])((function(){return[Object(a["o"])(m,{size:"large",value:r.showFooterFlag_FlipMode,"onUpdate:value":[t[8]||(t[8]=function(e){return r.showFooterFlag_FlipMode=e}),e.setShowFooterFlagChange]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("readingProgressBar")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("readingProgressBar")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1}),Object(a["o"])(b,null,{default:Object(a["X"])((function(){return[Object(a["o"])(m,{size:"large",value:r.showPageHintFlag_FlipMode,"onUpdate:value":[t[9]||(t[9]=function(e){return r.showPageHintFlag_FlipMode=e}),e.setShowPageNumChange]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showPageNum")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("showPageNum")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1}),Object(a["o"])(d),Object(a["o"])(b,null,{default:Object(a["X"])((function(){return[Object(a["o"])(m,{size:"large",value:r.saveNowPageNumFlag_FlipMode,"onUpdate:value":[t[10]||(t[10]=function(e){return r.saveNowPageNumFlag_FlipMode=e}),r.setSavePageNumFlag]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("savePageNum")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("savePageNum")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1}),Object(a["o"])(b,null,{default:Object(a["X"])((function(){return[Object(a["o"])(m,{size:"large",value:r.rightToLeftFlag,"onUpdate:value":[t[11]||(t[11]=function(e){return r.rightToLeftFlag=e}),r.setFlipScreenFlag],"rail-style":e.railStyle},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("rightScreenToNext")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("leftScreenToNext")),1)]})),_:1},8,["value","rail-style","onUpdate:value"])]})),_:1}),Object(a["o"])(b,null,{default:Object(a["X"])((function(){return[Object(a["o"])(m,{size:"large",value:r.simpleDoublePageModeFlag,"onUpdate:value":[t[12]||(t[12]=function(e){return r.simpleDoublePageModeFlag=e}),r.setSimpleDoublePage_FlipMode]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("simpleDoublePage")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("simpleDoublePage")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1}),Object(a["o"])(d),Object(a["o"])(b,null,{default:Object(a["X"])((function(){return[Object(a["o"])(m,{size:"large",value:r.debugModeFlag,"onUpdate:value":[t[13]||(t[13]=function(e){return r.debugModeFlag=e}),r.setDebugModeFlag]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("debugMode")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("debugMode")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1}),r.debugModeFlag?(Object(a["E"])(),Object(a["j"])(b,{key:0},{default:Object(a["X"])((function(){return[Object(a["o"])(m,{size:"large",value:r.autoDoublePageModeFlag,"onUpdate:value":[t[14]||(t[14]=function(e){return r.autoDoublePageModeFlag=e}),r.setAutoDoublePage_FlipMode]},{checked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("autoDoublePage")),1)]})),unchecked:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("autoDoublePage")),1)]})),_:1},8,["value","onUpdate:value"])]})),_:1})):Object(a["k"])("",!0),"sketch"==r.nowTemplate?(Object(a["E"])(),Object(a["j"])(d,{key:1})):Object(a["k"])("",!0),"sketch"==r.nowTemplate?(Object(a["E"])(),Object(a["j"])(p,{key:2,size:"small","show-button":!1,value:r.sketchFlipSecond,"onUpdate:value":[t[15]||(t[15]=function(e){return r.sketchFlipSecond=e}),r.resetSketchSecondCount],max:65535,min:1,"update-value-on-input":!1},{prefix:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("pageTurningSeconds")),1)]})),suffix:Object(a["X"])((function(){return[Object(a["n"])(Object(a["Q"])(e.$t("second")),1)]})),_:1},8,["value","onUpdate:value"])):Object(a["k"])("",!0),"sketch"==r.nowTemplate?(Object(a["E"])(),Object(a["j"])(g,{key:3,value:r.sketchFlipSecond,"onUpdate:value":[t[16]||(t[16]=function(e){return r.sketchFlipSecond=e}),r.resetSketchSecondCount],step:1,max:120,min:1,marks:e.marks,"format-tooltip":function(e){return"".concat(e,"s")}},null,8,["value","marks","format-tooltip","onUpdate:value"])):Object(a["k"])("",!0)]})),_:1},8,["initDrawerActive","initDrawerPlacement","onSaveConfig","onStartSketch","onStopSketch","onCloseDrawer","onSetT","nowTemplate"])],64)}var be=o("73170"),pe=Object(a["p"])({name:"FlipMode",props:["book","nowTemplate"],emits:["setTemplate"],components:{Header:z,Drawer:K,NSpace:k["a"],NSlider:v["a"],NSwitch:F["a"],NIcon:S["a"],SettingsOutline:Z["a"],NColorPicker:I["a"],NDivider:N["a"],NInputNumber:M["a"]},setup:function(){var e=Object(x["a"])(),t=e.cookies,o=Object(a["I"])({color:"#f6f7eb",colorHeader:"#d1c9c1"}),n=Object(be["a"])();return{message:n,model:o,cookies:t,railStyle:function(e){var t=e.focused,o=e.checked,a={};return o?(a.background="#18a058",t&&(a.boxShadow="0 0 0 2px #d0305040")):(a.background="#2080f0",t&&(a.boxShadow="0 0 0 2px #2080f040")),a},marks:{30:"30",60:"60",90:"90",120:"120"}}},data:function(){return{drawerActive:!1,drawerPlacement:"right",debugModeFlag:!0,showHeaderFlag_FlipMode:!0,showFooterFlag_FlipMode:!0,rightToLeftFlag:!0,simpleDoublePageModeFlag:!1,autoDoublePageModeFlag:!1,saveNowPageNumFlag_FlipMode:!0,nowPageNum:1,sketchModeFlag:!1,showPageHintFlag_FlipMode:!1,sketchFlipSecond:30,sketchSecondCount:0,interval:null,nowPageIsDouble:!1,nextPageIsDouble:!1,nowAndNextPageIsSingleFlag:!0}},created:function(){if("true"==localStorage.getItem("debugModeFlag")?this.debugModeFlag=!0:"false"==localStorage.getItem("debugModeFlag")&&(this.debugModeFlag=!1),"true"==localStorage.getItem("showHeaderFlag_FlipMode")?this.showHeaderFlag_FlipMode=!0:"false"==localStorage.getItem("showHeaderFlag_FlipMode")&&(this.showHeaderFlag_FlipMode=!1),"true"==localStorage.getItem("showFooterFlag_FlipMode_FlipMode")?this.showFooterFlag_FlipMode=!0:"false"==localStorage.getItem("showFooterFlag_FlipMode_FlipMode")&&(this.showFooterFlag_FlipMode=!1),"true"==localStorage.getItem("showPageHintFlag_FlipMode")?this.showPageHintFlag_FlipMode=!0:"false"==localStorage.getItem("showPageHintFlag_FlipMode")&&(this.showPageHintFlag_FlipMode=!1),"true"==localStorage.getItem("rightToLeftFlag")?this.rightToLeftFlag=!0:"false"==localStorage.getItem("rightToLeftFlag")&&(this.rightToLeftFlag=!1),"true"==localStorage.getItem("simpleDoublePageModeFlag")?this.simpleDoublePageModeFlag=!0:"false"==localStorage.getItem("simpleDoublePageModeFlag")&&(this.simpleDoublePageModeFlag=!1),"true"==localStorage.getItem("autoDoublePageModeFlag")?this.autoDoublePageModeFlag=!0:"false"==localStorage.getItem("autoDoublePageModeFlag")&&(this.autoDoublePageModeFlag=!1),"true"==localStorage.getItem("saveNowPageNumFlag_FlipMode")?this.saveNowPageNumFlag_FlipMode=!0:"false"==localStorage.getItem("saveNowPageNumFlag_FlipMode")&&(this.saveNowPageNumFlag_FlipMode=!1),null!=localStorage.getItem("FlipModeDefaultColor")&&(this.model.color=localStorage.getItem("FlipModeDefaultColor"),this.onBackgroundColorChange(this.model.color)),null!=localStorage.getItem("sketchFlipSecond")){var e=Number(localStorage.getItem("sketchFlipSecond"));isNaN(e)||(this.sketchFlipSecond=e)}},beforeMount:function(){window.addEventListener("keyup",this.handleKeyup),"sketch"==this.nowTemplate&&this.startSketchMode()},beforeUnmount:function(){window.removeEventListener("keyup",this.handleKeyup)},mounted:function(){setTimeout(this.setNowPageNumByCookie,500)},updated:function(){},methods:{onBackgroundColorChange:function(e){var t=Number("0x"+e.substr(1,2)),o=Number("0x"+e.substr(3,2)),a=Number("0x"+e.substr(5,2)),n=40,i=30,l=42,r=t<255-n?t+n:t+parseInt((255-t)/2),c=o<255-i?o+i:o+parseInt((255-o)/2),s=a<255-l?a+l:a+parseInt((255-a)/2);t>250&&(r=t-n),o>250&&(c=o-i),a>250&&(s=a-l),t<50&&(r=t+3*n),o<50&&(c=o+3*i),a<50&&(s=a+3*l),this.model.colorHeader="#"+r.toString(16)+c.toString(16)+s.toString(16)},nowAndNextPageIsSingle:function(){return this.nowPageIsDouble=this.checkImageIsDoublePage_byPageNum(this.nowPageNum),this.nextPageIsDouble=this.checkImageIsDoublePage_byPageNum(this.nowPageNum+1),this.nowPageIsDouble||this.nextPageIsDouble?(this.nowAndNextPageIsSingleFlag=!1,!1):(this.nowAndNextPageIsSingleFlag=!1,!0)},setNowPageNumByCookie:function(){if(this.saveNowPageNumFlag_FlipMode){var e=localStorage.getItem("nowPageNum"+this.book.uuid);if(null!=e){var t=Number(e);isNaN(t)?console.log("读取页数失败，this.nowPageNum="+this.nowPageNum):this.nowPageNum=t}else console.log("cookie里面没找到:nowPageNum"+this.book.uuid)}},OnSetTemplate:function(e){this.$emit("setTemplate",e)},drawerActivate:function(e){this.drawerActive=!0,this.drawerPlacement=e},drawerDeactivate:function(){this.drawerActive=!1},startSketchMode:function(){this.message.success(this.$t("startSketchMessage")),this.drawerActive=!1,this.sketchModeFlag=!0,this.showPageHintFlag_FlipMode=!0,this.showHeaderFlag_FlipMode=!1,this.showFooterFlag_FlipMode=!1,this.$emit("setTemplate","sketch"),this.interval=setInterval(this.sketchCount,1e3)},resetSketchSecondCount:function(){this.sketchSecondCount=0},stopSketchMode:function(){this.message.success(this.$t("goodjob_and_byebye")),this.sketchModeFlag=!1,this.showPageHintFlag_FlipMode=!1,this.sketchSecondCount=0,this.showHeaderFlag_FlipMode=!0,this.showFooterFlag_FlipMode=!0,this.$emit("setTemplate","flip"),clearInterval(this.interval)},sketchCount:function(){0!=this.sketchModeFlag&&"sketch"==this.nowTemplate||this.stopSketchMode(),this.sketchSecondCount=this.sketchSecondCount+1;var e=this.sketchSecondCount%this.sketchFlipSecond;0==e&&(this.nowPageNum<this.book.all_page_num?this.flipPage(1):this.toPage(1))},saveConfigToCookie:function(){localStorage.setItem("debugModeFlag",this.debugModeFlag),localStorage.setItem("showHeaderFlag_FlipMode",this.showHeaderFlag_FlipMode),localStorage.setItem("showFooterFlag_FlipMode",this.showFooterFlag_FlipMode),localStorage.setItem("showPageHintFlag_FlipMode",this.showPageHintFlag_FlipMode),localStorage.setItem("rightToLeftFlag",this.rightToLeftFlag),localStorage.setItem("simpleDoublePageModeFlag",this.simpleDoublePageModeFlag),localStorage.setItem("autoDoublePageModeFlag",this.autoDoublePageModeFlag),localStorage.setItem("saveNowPageNumFlag_FlipMode",this.saveNowPageNumFlag_FlipMode),localStorage.setItem("nowPageNum"+this.book.uuid,this.nowPageNum),localStorage.setItem("FlipModeDefaultColor",this.model.color),localStorage.setItem("sketchFlipSecond",this.sketchFlipSecond)},randomBackgroundColor:function(){var e=Math.ceil(155*Math.random())+100,t=Math.ceil(155*Math.random())+100,o=Math.ceil(100*Math.random())+100,a="rgb("+e+","+t+","+o+")";this.model.color=a},onMouseOver:function(){},onMouseEnter:function(){},onMouseLeave:function(e){e.currentTarget.style.cursor=""},onMouseMove:function(e){var t=e.x,o=e.y,a=window.innerWidth,n=window.innerHeight,i=.4*a,l=.6*a,r=.4*n,c=.6*n;t>i&&t<l&&o>r&&o<c?e.currentTarget.style.cursor="url(/images/SettingsOutline.png), pointer":t<.5*a?this.rightToLeftFlag&&1==this.nowPageNum?e.currentTarget.style.cursor="url(/images/Prohibited28Filled.png), pointer":this.rightToLeftFlag||this.nowPageNum!=this.book.all_page_num?e.currentTarget.style.cursor="url(/images/ArrowLeft.png), pointer":e.currentTarget.style.cursor="url(/images/Prohibited28Filled.png), pointer":this.rightToLeftFlag&&this.nowPageNum==this.book.all_page_num?e.currentTarget.style.cursor="url(/images/Prohibited28Filled.png), pointer":this.rightToLeftFlag||1!=this.nowPageNum?e.currentTarget.style.cursor="url(/images/ArrowRight.png), pointer":e.currentTarget.style.cursor="url(/images/Prohibited28Filled.png), pointer"},onMouseClick:function(e){var t=e.x,o=e.y,a=window.innerHeight,n=window.innerWidth,i=.4*n,l=.6*n,r=.4*a,c=.6*a;t>i&&t<l&&o>r&&o<c?this.drawerActivate("right"):t<.5*n?1==this.rightToLeftFlag?this.toPerviousPage():this.toNextPage():1==this.rightToLeftFlag?this.toNextPage():this.toPerviousPage()},toNextPage:function(){if(this.simpleDoublePageModeFlag)return this.nowPageNum<this.book.all_page_num-1?void this.flipPage(2):void this.flipPage(1);this.autoDoublePageModeFlag&&this.checkMergedStatus_ByPageNum(this.nowPageNum)&&this.nowPageNum<this.book.all_page_num-1?this.flipPage(2):this.flipPage(1)},toPerviousPage:function(){if(this.nowPageNum<=1)console.log("Error toPerviousPage");else{if(this.simpleDoublePageModeFlag)return this.nowPageNum-2>0?void this.flipPage(-2):void this.flipPage(-1);if(2!=this.nowPageNum&&this.autoDoublePageModeFlag){var e=this.checkImageIsDoublePage_byPageNum(this.nowPageNum-1);if(e)this.flipPage(-1);else{var t=this.checkImageIsDoublePage_byPageNum(this.nowPageNum-2);t?this.flipPage(-1):this.flipPage(-2)}}else this.flipPage(-1)}},checkMergedStatus_ByPageNum:function(e){if(!this.autoDoublePageModeFlag)return!1;if(e<=0||e>=this.book.all_page_num)return console.log("Error pageNum :"+e),!1;if(e==this.book.all_page_num)return!1;var t=this.checkImageIsDoublePage_byPageNum(e),o=this.checkImageIsDoublePage_byPageNum(e+1);return!(t||o)},checkImageIsDoublePage_byPageNum:function(e){if(!(e<=0||e>this.book.all_page_num)){if("SinglePage"==this.book.pages[e-1].image_type)return!1;if("DoublePage"==this.book.pages[e-1].image_type)return!0;var t=new Image,o=!1;return t.src=this.book.pages[e-1].url,t.complete?t.width>=t.height:(t.onload=function(){t.width<t.height?(t.onload=null,o=!1):(t.onload=null,o=!0)},o)}console.log("Error checkImageIsDoublePage_byPageNum:"+e)},flipPage:function(e){this.nowPageNum+e<=this.book.all_page_num&&this.nowPageNum+e>=1?this.nowPageNum=this.nowPageNum+e:e>0?this.message.info(this.$t("hintLastPage")):this.message.info(this.$t("hintFirstPage")),this.saveNowPageNumOnUpdate(this.nowPageNum)},saveNowPageNumOnUpdate:function(e){this.saveNowPageNumFlag_FlipMode&&localStorage.setItem("nowPageNum"+this.book.uuid,e)},toPage:function(e){e<=this.book.all_page_num&&e>=1&&(this.nowPageNum=e),this.saveNowPageNumFlag_FlipMode&&localStorage.setItem("nowPageNum"+this.book.uuid,this.nowPageNum)},handleKeyup:function(e){var t=e||window.event;if(t)switch(t.key){case"ArrowUp":case"PageUp":case"ArrowLeft":this.flipPage(-1);break;case"Space":case"ArrowDown":case"PageDown":case"ArrowRight":this.flipPage(1);break;case"Home":this.toPage(1);break;case"End":this.toPage(this.book.all_page_num);break;case"Ctrl":break}},setShowHeaderChange:function(e){console.log("value:"+e),this.showHeaderFlag_FlipMode=e,localStorage.setItem("showHeaderFlag_FlipMode",e),console.log("cookie设置完毕: showHeaderFlag_FlipMode="+localStorage.getItem("showHeaderFlag_FlipMode"))},setShowFooterFlagChange:function(e){console.log("value:"+e),this.showFooterFlag_FlipMode=e,localStorage.setItem("showFooterFlag_FlipMode",e),console.log("cookie设置完毕: showFooterFlag_FlipMode="+localStorage.getItem("showFooterFlag_FlipMode"))},setShowPageNumChange:function(e){console.log("value:"+e),this.showPageHintFlag_FlipMode=e,localStorage.setItem("showPageHintFlag_FlipMode",e),console.log("cookie设置完毕: showPageHintFlag_FlipMode="+localStorage.getItem("showPageHintFlag_FlipMode"))},setFlipScreenFlag:function(e){console.log("value:"+e),this.rightToLeftFlag=e,localStorage.setItem("rightToLeftFlag",e),console.log("cookie设置完毕: rightToLeftFlag="+localStorage.getItem("rightToLeftFlag"))},setSavePageNumFlag:function(e){console.log("value:"+e),this.saveNowPageNumFlag_FlipMode=e,localStorage.setItem("saveNowPageNumFlag_FlipMode",e),console.log("cookie设置完毕: saveNowPageNumFlag_FlipMode="+localStorage.getItem("saveNowPageNumFlag_FlipMode"))},setDebugModeFlag:function(e){console.log("value:"+e),this.debugModeFlag=e,0==e&&(this.autoDoublePageModeFlag=!1),localStorage.setItem("debugModeFlag",e),console.log("cookie设置完毕: debugModeFlag="+localStorage.getItem("debugModeFlag"))},setAutoDoublePage_FlipMode:function(e){console.log("value:"+e),this.autoDoublePageModeFlag=e,1==e&&(this.simpleDoublePageModeFlag=!1),localStorage.setItem("autoDoublePageModeFlag",e),console.log("cookie设置完毕: autoDoublePageModeFlag="+localStorage.getItem("autoDoublePageModeFlag"))},setSimpleDoublePage_FlipMode:function(e){console.log("value:"+e),this.simpleDoublePageModeFlag=e,1==e&&(this.autoDoublePageModeFlag=!1),localStorage.setItem("simpleDoublePageModeFlag",e),console.log("cookie设置完毕: simpleDoublePageModeFlag="+localStorage.getItem("simpleDoublePageModeFlag"))}},computed:{pageNumOrSketchHint:function(){if(this.sketchModeFlag){var e=this.sketchSecondCount%this.sketchFlipSecond+1,t=parseInt(this.sketchSecondCount/this.sketchFlipSecond),o=parseInt((this.sketchSecondCount+1)/60),a="";a=0==parseInt(o/60)?o+this.$t("minute"):parseInt(o/60)+this.$t("hour")+o%60+this.$t("minute");var n=a+(this.sketchSecondCount+1)%60+this.$t("second");return this.$t("now_is")+e+this.$t("second")+"  "+this.$t("total_is")+t+this.$t("page")+"  "+this.$t("totalTime")+n+"  "+this.$t("interval")+this.sketchFlipSecond+this.$t("second")}return this.nowPageNum+"/"+this.book.all_page_num},mangaAreaHeight:function(){var e=95;return this.showFooterFlag_FlipMode&&this.showHeaderFlag_FlipMode&&(e=95),this.showFooterFlag_FlipMode&&!this.showHeaderFlag_FlipMode&&(e=95),!this.showFooterFlag_FlipMode&&this.showHeaderFlag_FlipMode&&(e=95),this.showFooterFlag_FlipMode||this.showHeaderFlag_FlipMode||(e=100),e+"vh"},mangaImageHeight:function(){var e=95;return this.showFooterFlag_FlipMode&&this.showHeaderFlag_FlipMode&&(e=95),this.showFooterFlag_FlipMode&&!this.showHeaderFlag_FlipMode&&(e=95),!this.showFooterFlag_FlipMode&&this.showHeaderFlag_FlipMode&&(e=95),this.showFooterFlag_FlipMode||this.showHeaderFlag_FlipMode||(e=100),this.showPageHintFlag_FlipMode&&("sketch"==this.nowTemplate?e-=6:e-=3),e+"vh"},sketchHintHeight:function(){return"sketch"==this.nowTemplate?"6vh":"3vh"},sketchHintFontSize:function(){return"sketch"==this.nowTemplate?"24px":"16px"},get_flex_direction:function(){return 1==this.rightToLeftFlag?"row":"row-reverse"}}}),fe=function(){Object(a["T"])((function(e){return{"5580137e":e.model.color,"545e68aa":e.model.colorHeader,fb24a3f0:e.mangaAreaHeight,"247da3a2":e.get_flex_direction,d0d71224:e.mangaImageHeight,"2aa45f8c":e.sketchHintHeight,"40ec6743":e.sketchHintFontSize}}))},Pe=pe.setup;pe.setup=Pe?function(e,t){return fe(),Pe(e,t)}:fe;var _e=pe;o("1200");const we=$()(_e,[["render",me],["__scopeId","data-v-671604bb"]]);var je=we,Oe={key:0,id:"BookShelf",class:"manga"},ke=["alt"],ve={key:0,class:"page_hint"},Fe=Object(a["n"])("Back To Top");function Se(e,t,o,n,i,l){var r=Object(a["N"])("settings-outline"),c=Object(a["N"])("n-icon"),s=Object(a["N"])("Header"),u=Object(a["N"])("n-color-picker"),g=Object(a["N"])("n-divider"),h=Object(a["N"])("Drawer"),d=Object(a["N"])("n-back-top"),m=Object(a["N"])("n-button"),b=Object(a["O"])("lazy");return this.book?(Object(a["E"])(),Object(a["l"])("div",Oe,[this.showHeaderFlag?(Object(a["E"])(),Object(a["j"])(s,{key:0,class:"footer",bookIsFolder:e.book.IsFolder,bookName:e.book.name},{default:Object(a["X"])((function(){return[Object(a["o"])(c,{size:"40",onClick:t[0]||(t[0]=function(t){return e.drawerActivate("right")})},{default:Object(a["X"])((function(){return[Object(a["o"])(r)]})),_:1})]})),_:1},8,["bookIsFolder","bookName"])):Object(a["k"])("",!0),(Object(a["E"])(!0),Object(a["l"])(a["b"],null,Object(a["L"])(e.book.pages,(function(o,n){return Object(a["E"])(),Object(a["l"])("div",{class:"main_manga",key:o.url,onClick:t[1]||(t[1]=function(t){return e.onMouseClick(t)}),onMousemove:t[2]||(t[2]=function(){return e.onMouseMove&&e.onMouseMove.apply(e,arguments)}),onMouseleave:t[3]||(t[3]=function(){return e.onMouseLeave&&e.onMouseLeave.apply(e,arguments)})},[Object(a["Y"])((Object(a["E"])(),Object(a["l"])("img",{alt:n+1,key:n},null,8,ke)),[[b,o.url]]),e.showPageNumFlag_BookShelf?(Object(a["E"])(),Object(a["l"])("div",ve,Object(a["Q"])(n+1)+"/"+Object(a["Q"])(e.book.all_page_num),1)):Object(a["k"])("",!0)],32)})),128)),Object(a["o"])(h,{initDrawerActive:this.drawerActive,initDrawerPlacement:this.drawerPlacement,onSaveConfig:this.saveConfigToCookie,onStartSketch:this.startSketchMode,onCloseDrawer:this.drawerDeactivate,onSetT:this.OnSetTemplate,nowTemplate:this.nowTemplate},{default:Object(a["X"])((function(){return[Object(a["m"])("span",null,Object(a["Q"])(e.$t("setBackColor")),1),Object(a["o"])(u,{value:e.model.color,"onUpdate:value":t[4]||(t[4]=function(t){return e.model.color=t}),modes:["rgb"],"show-alpha":!1},null,8,["value"]),Object(a["o"])(g)]})),_:1},8,["initDrawerActive","initDrawerPlacement","onSaveConfig","onStartSketch","onCloseDrawer","onSetT","nowTemplate"]),Object(a["o"])(d,{show:e.showBackTopFlag,type:"info",color:"#8a2be2",right:20,bottom:20},null,8,["show"]),Object(a["o"])(m,{onClick:t[5]||(t[5]=function(t){e.scrollToTop(90)}),size:"large",secondary:"",strong:""},{default:Object(a["X"])((function(){return[Fe]})),_:1})])):Object(a["k"])("",!0)}var Me=Object(a["p"])({name:"BookShelf",props:["book","nowTemplate"],emits:["setTemplate"],components:{Header:z,Drawer:K,NButton:j["b"],NBackTop:O["a"],NIcon:S["a"],SettingsOutline:Z["a"],NDivider:N["a"],NColorPicker:I["a"]},setup:function(){var e=Object(x["a"])(),t=e.cookies,o=Object(a["I"])({color:"#E0D9CD"});return{cookies:t,model:o,railStyle:function(e){var t=e.focused,o=e.checked,a={};return o?(a.background="#d03050",t&&(a.boxShadow="0 0 0 2px #d0305040")):(a.background="#2080f0",t&&(a.boxShadow="0 0 0 2px #2080f040")),a},marks:{30:"25%",50:"50%",75:"75%",95:"95%"}}},data:function(){return{drawerActive:!1,drawerPlacement:"right",debugModeFlag:!0,showHeaderFlag:!0,showPageNumFlag_BookShelf:!1,showBackTopFlag:!1,scrollDownFlag:!1,scrollTopSave:0,syncScrollFlag:!1,clickX:0,clickY:0,isLandscapeMode:!0,isPortraitMode:!1,imageMaxWidth:10,aspectRatio:1.2,imageWidth_usePercentFlag:!1,singlePageWidth_Percent:50,doublePageWidth_Percent:95,singlePageWidth_PX:720,doublePageWidth_PX:1080,clientWidth:0,clientHeight:0}},created:function(){if(window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),this.imageMaxWidth=window.innerWidth,"true"===localStorage.getItem("showHeaderFlag")?this.showHeaderFlag=!0:"false"===localStorage.getItem("showHeaderFlag")&&(this.showHeaderFlag=!1),"true"===localStorage.getItem("showPageNumFlag_BookShelf")?this.showPageNumFlag_BookShelf=!0:"false"===localStorage.getItem("showPageNumFlag_BookShelf")&&(this.showPageNumFlag_BookShelf=!1),"true"===localStorage.getItem("imageWidth_usePercentFlag")?this.imageWidth_usePercentFlag=!0:"false"===localStorage.getItem("imageWidth_usePercentFlag")&&(this.imageWidth_usePercentFlag=!1),null!=localStorage.getItem("singlePageWidth_Percent")){var e=Number(localStorage.getItem("singlePageWidth_Percent"));isNaN(e)||(this.singlePageWidth_Percent=e)}if(null!=localStorage.getItem("doublePageWidth_Percent")){var t=Number(localStorage.getItem("doublePageWidth_Percent"));isNaN(t)||(this.doublePageWidth_Percent=t)}if(null!=localStorage.getItem("singlePageWidth_PX")){var o=Number(localStorage.getItem("singlePageWidth_PX"));isNaN(o)||(this.singlePageWidth_PX=o)}if(null!=localStorage.getItem("doublePageWidth_PX")){var a=Number(localStorage.getItem("doublePageWidth_PX"));isNaN(a)||(this.doublePageWidth_PX=a)}null!=localStorage.getItem("BookShelfDefaultColor")&&(this.model.color=localStorage.getItem("BookShelfDefaultColor"))},beforeMount:function(){},onMounted:function(){this.isLandscapeMode=this.inLandscapeModeCheck(),this.isPortraitMode=!this.inLandscapeModeCheck(),this.$nextTick((function(){}))},beforeUnmount:function(){window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize)},methods:{drawerActivate:function(e){this.drawerActive=!0,this.drawerPlacement=e},drawerDeactivate:function(){this.drawerActive=!1},startSketchMode:function(){this.$emit("setTemplate","sketch")},OnSetTemplate:function(e){this.$emit("setTemplate",e)},saveConfigToCookie:function(){localStorage.setItem("showHeaderFlag",this.showHeaderFlag),localStorage.setItem("showPageNumFlag_BookShelf",this.showPageNumFlag_BookShelf),localStorage.setItem("imageWidth_usePercentFlag",this.imageWidth_usePercentFlag),localStorage.setItem("singlePageWidth_Percent",this.singlePageWidth_Percent),localStorage.setItem("doublePageWidth_Percent",this.doublePageWidth_Percent),localStorage.setItem("singlePageWidth_PX",this.singlePageWidth_PX),localStorage.setItem("doublePageWidth_PX",this.doublePageWidth_PX),localStorage.setItem("BookShelfDefaultColor",this.model.color)},setShowHeaderChange:function(e){console.log("value:"+e),this.showHeaderFlag=e,localStorage.setItem("showHeaderFlag",e),console.log("cookie设置完毕: showHeaderFlag="+localStorage.getItem("showHeaderFlag"))},setShowPageNumChange:function(e){console.log("value:"+e),this.showPageNumFlag_BookShelf=e,localStorage.setItem("showPageNumFlag_BookShelf",e),console.log("cookie设置完毕: showPageNumFlag_BookShelf="+localStorage.getItem("showPageNumFlag_BookShelf"))},setImageWidthUsePercentFlag:function(e){console.log("value:"+e),this.imageWidth_usePercentFlag=e,localStorage.setItem("imageWidth_usePercentFlag",e),console.log("cookie设置完毕: imageWidth_usePercentFlag="+this.imageWidth_usePercentFlag)},onResize:function(){this.imageMaxWidth=window.innerWidth,this.clientWidth=document.documentElement.clientWidth,this.clientHeight=document.documentElement.clientHeight,this.aspectRatio=this.clientWidth/this.clientHeight,this.aspectRatio>1?(this.isLandscapeMode=!0,this.isPortraitMode=!1):(this.isLandscapeMode=!1,this.isPortraitMode=!0)},onScroll:function(){var e=document.documentElement.scrollTop||document.body.scrollTop;this.scrollDownFlag=e>this.scrollTopSave;var t=Math.abs(this.scrollTopSave-e);this.scrollTopSave=e,t>5&&(this.showBackTopFlag=e>400&&!this.scrollDownFlag)},onMouseClick:function(e){this.clickX=e.x,this.clickY=e.y;var t=window.innerWidth,o=window.innerHeight,a=.4*t,n=.6*t,i=.4*o,l=.6*o;this.clickX>a&&this.clickX<n&&this.clickY>i&&this.clickY<l&&this.drawerActivate("right")},onMouseMove:function(e){this.clickX=e.x,this.clickY=e.y;var t=window.innerWidth,o=window.innerHeight,a=.4*t,n=.6*t,i=.4*o,l=.6*o;this.clickX>a&&this.clickX<n&&this.clickY>i&&this.clickY<l?e.currentTarget.style.cursor="url(/images/SettingsOutline.png), pointer":e.currentTarget.style.cursor=""},onMouseLeave:function(e){e.currentTarget.style.cursor=""},scrollToTop:function(e){var t=-window.scrollY/(e/15),o=setInterval((function(){0!==window.scrollY?window.scrollBy(0,t):clearInterval(o)}),15)},inLandscapeModeCheck:function(){return this.aspectRatio=window.innerWidth/window.innerHeight,this.aspectRatio>1}},computed:{sPWL:function(){return this.imageWidth_usePercentFlag?this.singlePageWidth_Percent+"%":this.singlePageWidth_PX+"px"},dPWL:function(){return this.imageWidth_usePercentFlag?this.doublePageWidth_Percent+"%":this.doublePageWidth_PX+"px"},sPWP:function(){return this.imageWidth_usePercentFlag?this.singlePageWidth_Percent+"%":this.singlePageWidth_PX+"px"},dPWP:function(){return this.imageWidth_usePercentFlag?this.doublePageWidth_Percent+"%":this.doublePageWidth_PX+"px"}}}),Ne=function(){Object(a["T"])((function(e){return{d6212c4a:e.model.color,fd082a16:e.sPWL,fd15cd38:e.dPWL,fd082a0e:e.sPWP,fd15cd30:e.dPWP}}))},Ie=Me.setup;Me.setup=Ie?function(e,t){return Ne(),Ie(e,t)}:Ne;var Te=Me;o("d9dc");const ye=$()(Te,[["render",Se],["__scopeId","data-v-21fde148"]]);var We=ye,De=o("d2b6"),xe=Object(a["p"])({name:"Home",components:{ScrollMode:ne,FlipMode:je,BookShelf:We,NMessageProvider:De["a"]},setup:function(){var e=Object(x["a"])(),t=e.cookies;return{cookies:t}},data:function(){return{selectTemplate:""}},created:function(){this.$store.dispatch("syncBookDataAction"),this.$store.dispatch("syncSettingDataAction"),this.$store.dispatch("syncBookShelfDataAction"),this.selectTemplate=this.getDefaultTemplate},beforeMount:function(){},methods:{OnSetTemplate:function(e){localStorage.setItem("nowTemplate",e),this.selectTemplate=e},getNumber:function(e){this.page=e,console.log(e)}},computed:{book:function(){return this.$store.state.book},setting:function(){return this.$store.state.setting},getDefaultTemplate:function(){var e=localStorage.getItem("nowTemplate");return null!==e?e:"scroll"}}});o("01f0");const Ce=$()(xe,[["render",c]]);var Xe=Ce,He=(o("3ca3"),o("ddb0"),o("6c02")),Le=[{path:"/",name:"FlipMode",component:je},{path:"/scroll",name:"ScrollMode",component:ne},{path:"/flip",name:"About",component:function(){return o.e("chunk-2d0de531").then(o.bind(null,"84ba"))}}],$e=Object(He["a"])({history:Object(He["b"])(),routes:Le}),Ae=$e,ze=o("1da1"),Ee=(o("4de4"),o("96cf"),o("5502")),Be=Object(Ee["a"])({state:{count:0,todos:[{id:1,text:"...",done:!0},{id:2,text:"...",done:!1}],now_page:1,book:{name:"loading",all_page_num:1,pages:[{height:500,width:449,url:"/images/loading.jpg",class:"Vertical"}]},bookshelf:{},setting:{template:"scroll",sketch_count_seconds:30},message:{user_uuid:"",server_status:"",now_book_uuid:"",read_percent:0,msg:""}},mutations:{change_template_to_scroll:function(e){e.setting.template="scroll",console.log("change_template_to_scroll:"+e.setting.template)},change_template_to_flip:function(e){e.setting.template="flip",console.log("change_template_to_flip:"+e.setting.template)},change_template_to_sketch:function(e){e.setting.template="sketch",console.log("change_template_to_sketch:"+e.setting.template)},increment:function(e){e.count++},syncSettingData:function(e,t){e.setting=t.message},syncBookData:function(e,t){e.book=t.message},syncBookShelfData:function(e,t){e.bookshelf=t.message}},actions:{incrementAction:function(e){e.commit("increment")},syncSettingDataAction:function(e){return Object(ze["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("/setting.json").then((function(e){return e.data}),(function(){return""}));case 2:o=t.sent,a={message:o},e.commit("syncSettingData",a),console.log("syncSettingData!");case 6:case"end":return t.stop()}}),t)})))()},syncBookDataAction:function(e){return Object(ze["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("/book.json").then((function(e){return e.data}),(function(){return""}));case 2:o=t.sent,a={message:o},e.commit("syncBookData",a),console.log("syncBookData!");case 6:case"end":return t.stop()}}),t)})))()},syncBookShelfDataAction:function(e){return Object(ze["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("/bookshelf.json").then((function(e){return e.data}),(function(){return""}));case 2:o=t.sent,a={message:o},e.commit("syncBookShelfData",a),console.log("syncBookShelfData!");case 6:case"end":return t.stop()}}),t)})))()}},getters:{doneTodos:function(e){return e.todos.filter((function(e){return e.done}))},now_page:function(e){return e.now_page},book:function(e){return e.book},bookshelf:function(e){return e.bookshelf},setting:function(e){return e.setting},message:function(e){return e.message}},modules:{}}),Ue=Be,Qe=o("2058"),Re=o("5530"),Ye=o("47e2"),Ge=o("edd4"),Je=o("752b"),Ve=o("0423"),Ke={en:Object(Re["a"])({},Ge),zh:Object(Re["a"])({},Je),ja:Object(Re["a"])({},Ve)},Ze=new Ye["a"]({locale:localStorage.getItem("lang")||"zh",globalInjection:!0,messages:Ke}),qe=Ze;l.a.defaults.baseURL="/api";var et=Object(a["i"])(Xe);et.use(qe),et.use(n["a"],l.a),et.use(Ue),et.use(Ae),et.use(Qe["a"],{preLoad:1.9,loading:"/images/loading.jpg",error:"/images/error.jpg",attempt:4,observerOptions:{rootMargin:"200px",threshold:.1},lifecycle:{loading:function(e){e.setAttribute("class","LoadingImage")},error:function(e){e.setAttribute("class","ErrorImage")},loaded:function(e){var t=new Image;t.src=e.src,t.complete?(e.setAttribute("w",t.width),e.setAttribute("h",t.height),t.width<t.height?e.setAttribute("class","SinglePageImage"):e.setAttribute("class","DoublePageImage")):e.setAttribute("class","SinglePageImage")}}}),et.mount("#app")},"73b9":function(e,t,o){},"752b":function(e){e.exports=JSON.parse('{"test":"测试","debugMode":"Debug Mode","scroll_mode":"卷轴模式","flip_mode":"翻页模式","ReaderSettings":"阅读器设定","singlePageWidth":"单页漫画宽度:","doublePageWidth":"双开页漫画宽:","width_usePercent":"宽度:百分比%","width_useFixedValue":"宽度:固定值px","showHeader":"显示标题","showPageNum":"显示页数","setBackColor":"设定背景色:","readingProgressBar":"阅读进度条","savePageNum":"保存阅读进度","rightScreenToNext":"右半屏翻下一页","leftScreenToNext":"左半屏翻下一页","startSketchMode":"开始速写","stopSketchMode":"停止速写","hintFirstPage":"现在是第一页,无法向前翻页","hintLastPage":"现在是最后一页，无法往后翻页","now_is":"现在:","second":"秒","minute":"分","total_is":"完成:","interval":"翻页间隔:","page":"张","totalTime":"经过时间:","hour":"小时","pageTurningSeconds":"翻页间隔:","startSketchMessage":"开始倒计时速写，祝你心情愉快。","goodjob_and_byebye":"做得不错，再见~","simpleDoublePage":"合并双页","autoDoublePage":"合并双页（beta）","original_image":"显示原图","gray_image":"黑白化","image_width_limit":"限制尺寸(宽)","raw_resolution":"原始分辨率","auto_crop":"自动切边","max_width":"最大宽度：","energy_threshold":"切边强度：","back-to-top":"回到页首","reset_all_settings":"重置所有设定","do_you_reset_all_settings":"是否要重置为默认设定？"}')},"85c9":function(e,t,o){},a0d2:function(e,t,o){"use strict";o("85c9")},ac98:function(e,t,o){},d9dc:function(e,t,o){"use strict";o("73b9")},edd4:function(e){e.exports=JSON.parse('{"test":"test","debugMode":"Debug Mode","ReaderSettings":"Reader Settings","scroll_mode":"ScrollMode","flip_mode":"FlipMode","singlePageWidth":"singlePageWidth:","doublePageWidth":"doublePageWidth:","width_usePercent":"Width:Percent","width_useFixedValue":"Width:Fixed value","showHeader":"Header Shown","showPageNum":"show PageNumber","setBackColor":"Set Background Color:","readingProgressBar":"Reading Progress Bar","savePageNum":"Save Reading Progress","rightScreenToNext":"Right screen to next page","leftScreenToNext":"Left screen to next page","startSketchMode":"Start Sketch","stopSketchMode":"Stop Sketch","hintFirstPage":"Now is the first page, can not turn forward","hintLastPage":"Now is the last page, can not turn the page","now_is":"now: ","second":"second","minute":"minute","total_is":"total: ","interval":"interval: ","page":"page","totalTime":"Total time: ","hour":"hour","pageTurningSeconds":"interval: ","startSketchMessage":"The countdown begins, Have a nice day.","goodjob_and_byebye":"Goodjob,bye.","simpleDoublePage":"DoublePage","autoDoublePage":"DoublePage（beta）","gray_image":"gray image","image_width_limit":"Limit size (width)","auto_crop":"Auto white cut","max_width":"max width:","energy_threshold":"Energy Threshold:","back-to-top":"Back To Top","raw_resolution":"Raw Resolution","reset_all_settings":"Reset all settings","do_you_reset_all_settings":" Do you want to reset to the default settings?"}')},ef69:function(e,t,o){"use strict";o("ac98")}});
//# sourceMappingURL=app.6077d35f.js.map